import{a as Ao,d as xs}from"/build-v1/_shared/chunk-IJ5OFGSP.js";import{Ha as bi}from"/build-v1/_shared/chunk-O4DIEXBJ.js";import{a as _t}from"/build-v1/_shared/chunk-765QR4H3.js";import{c as Is,d as dd,e as ws}from"/build-v1/_shared/chunk-Y24IREY5.js";var Os=Is((Cs,Si)=>{(function(e){"use strict";function t(h,R){var _=(h&65535)+(R&65535),b=(h>>16)+(R>>16)+(_>>16);return b<<16|_&65535}function r(h,R){return h<<R|h>>>32-R}function n(h,R,_,b,z,Z){return t(r(t(t(R,h),t(b,Z)),z),_)}function i(h,R,_,b,z,Z,W){return n(R&_|~R&b,h,R,z,Z,W)}function o(h,R,_,b,z,Z,W){return n(R&b|_&~b,h,R,z,Z,W)}function a(h,R,_,b,z,Z,W){return n(R^_^b,h,R,z,Z,W)}function s(h,R,_,b,z,Z,W){return n(_^(R|~b),h,R,z,Z,W)}function u(h,R){h[R>>5]|=128<<R%32,h[(R+64>>>9<<4)+14]=R;var _,b,z,Z,W,S=1732584193,I=-271733879,w=-1732584194,T=271733878;for(_=0;_<h.length;_+=16)b=S,z=I,Z=w,W=T,S=i(S,I,w,T,h[_],7,-680876936),T=i(T,S,I,w,h[_+1],12,-389564586),w=i(w,T,S,I,h[_+2],17,606105819),I=i(I,w,T,S,h[_+3],22,-1044525330),S=i(S,I,w,T,h[_+4],7,-176418897),T=i(T,S,I,w,h[_+5],12,1200080426),w=i(w,T,S,I,h[_+6],17,-1473231341),I=i(I,w,T,S,h[_+7],22,-45705983),S=i(S,I,w,T,h[_+8],7,1770035416),T=i(T,S,I,w,h[_+9],12,-1958414417),w=i(w,T,S,I,h[_+10],17,-42063),I=i(I,w,T,S,h[_+11],22,-1990404162),S=i(S,I,w,T,h[_+12],7,1804603682),T=i(T,S,I,w,h[_+13],12,-40341101),w=i(w,T,S,I,h[_+14],17,-1502002290),I=i(I,w,T,S,h[_+15],22,1236535329),S=o(S,I,w,T,h[_+1],5,-165796510),T=o(T,S,I,w,h[_+6],9,-1069501632),w=o(w,T,S,I,h[_+11],14,643717713),I=o(I,w,T,S,h[_],20,-373897302),S=o(S,I,w,T,h[_+5],5,-701558691),T=o(T,S,I,w,h[_+10],9,38016083),w=o(w,T,S,I,h[_+15],14,-660478335),I=o(I,w,T,S,h[_+4],20,-405537848),S=o(S,I,w,T,h[_+9],5,568446438),T=o(T,S,I,w,h[_+14],9,-1019803690),w=o(w,T,S,I,h[_+3],14,-187363961),I=o(I,w,T,S,h[_+8],20,1163531501),S=o(S,I,w,T,h[_+13],5,-1444681467),T=o(T,S,I,w,h[_+2],9,-51403784),w=o(w,T,S,I,h[_+7],14,1735328473),I=o(I,w,T,S,h[_+12],20,-1926607734),S=a(S,I,w,T,h[_+5],4,-378558),T=a(T,S,I,w,h[_+8],11,-2022574463),w=a(w,T,S,I,h[_+11],16,1839030562),I=a(I,w,T,S,h[_+14],23,-35309556),S=a(S,I,w,T,h[_+1],4,-1530992060),T=a(T,S,I,w,h[_+4],11,1272893353),w=a(w,T,S,I,h[_+7],16,-155497632),I=a(I,w,T,S,h[_+10],23,-1094730640),S=a(S,I,w,T,h[_+13],4,681279174),T=a(T,S,I,w,h[_],11,-358537222),w=a(w,T,S,I,h[_+3],16,-722521979),I=a(I,w,T,S,h[_+6],23,76029189),S=a(S,I,w,T,h[_+9],4,-640364487),T=a(T,S,I,w,h[_+12],11,-421815835),w=a(w,T,S,I,h[_+15],16,530742520),I=a(I,w,T,S,h[_+2],23,-995338651),S=s(S,I,w,T,h[_],6,-198630844),T=s(T,S,I,w,h[_+7],10,1126891415),w=s(w,T,S,I,h[_+14],15,-1416354905),I=s(I,w,T,S,h[_+5],21,-57434055),S=s(S,I,w,T,h[_+12],6,1700485571),T=s(T,S,I,w,h[_+3],10,-1894986606),w=s(w,T,S,I,h[_+10],15,-1051523),I=s(I,w,T,S,h[_+1],21,-2054922799),S=s(S,I,w,T,h[_+8],6,1873313359),T=s(T,S,I,w,h[_+15],10,-30611744),w=s(w,T,S,I,h[_+6],15,-1560198380),I=s(I,w,T,S,h[_+13],21,1309151649),S=s(S,I,w,T,h[_+4],6,-145523070),T=s(T,S,I,w,h[_+11],10,-1120210379),w=s(w,T,S,I,h[_+2],15,718787259),I=s(I,w,T,S,h[_+9],21,-343485551),S=t(S,b),I=t(I,z),w=t(w,Z),T=t(T,W);return[S,I,w,T]}function c(h){var R,_="",b=h.length*32;for(R=0;R<b;R+=8)_+=String.fromCharCode(h[R>>5]>>>R%32&255);return _}function l(h){var R,_=[];for(_[(h.length>>2)-1]=void 0,R=0;R<_.length;R+=1)_[R]=0;var b=h.length*8;for(R=0;R<b;R+=8)_[R>>5]|=(h.charCodeAt(R/8)&255)<<R%32;return _}function f(h){return c(u(l(h),h.length*8))}function d(h,R){var _,b=l(h),z=[],Z=[],W;for(z[15]=Z[15]=void 0,b.length>16&&(b=u(b,h.length*8)),_=0;_<16;_+=1)z[_]=b[_]^909522486,Z[_]=b[_]^1549556828;return W=u(z.concat(l(R)),512+R.length*8),c(u(Z.concat(W),512+128))}function p(h){var R="0123456789abcdef",_="",b,z;for(z=0;z<h.length;z+=1)b=h.charCodeAt(z),_+=R.charAt(b>>>4&15)+R.charAt(b&15);return _}function m(h){return unescape(encodeURIComponent(h))}function v(h){return f(m(h))}function g(h){return p(v(h))}function E(h,R){return d(m(h),m(R))}function A(h,R){return p(E(h,R))}function D(h,R,_){return R?_?E(R,h):A(R,h):_?v(h):g(h)}typeof define=="function"&&define.amd?define(function(){return D}):typeof Si=="object"&&Si.exports?Si.exports=D:e.md5=D})(Cs)});var zs=Is((yn,wi)=>{(function(e,t){"use strict";var r="0.7.33",n="",i="?",o="function",a="undefined",s="object",u="string",c="major",l="model",f="name",d="type",p="vendor",m="version",v="architecture",g="console",E="mobile",A="tablet",D="smarttv",h="wearable",R="embedded",_=350,b="Amazon",z="Apple",Z="ASUS",W="BlackBerry",S="Browser",I="Chrome",w="Edge",T="Firefox",Zt="Google",Vr="Huawei",Jt="LG",lt="Microsoft",se="Motorola",je="Opera",Nt="Samsung",Br="Sharp",gi="Sony",wo="Xiaomi",xo="Zebra",_s="Facebook",cd=function(q,$){var K={};for(var he in q)$[he]&&$[he].length%2===0?K[he]=$[he].concat(q[he]):K[he]=q[he];return K},_i=function(q){for(var $={},K=0;K<q.length;K++)$[q[K].toUpperCase()]=q[K];return $},ys=function(q,$){return typeof q===u?vn($).indexOf(vn(q))!==-1:!1},vn=function(q){return q.toLowerCase()},ld=function(q){return typeof q===u?q.replace(/[^\d\.]/g,n).split(".")[0]:t},Co=function(q,$){if(typeof q===u)return q=q.replace(/^\s\s*/,n),typeof $===a?q:q.substring(0,_)},hn=function(q,$){for(var K=0,he,Y,Ei,ce,gn,gt;K<$.length&&!gn;){var Ss=$[K],Ts=$[K+1];for(he=Y=0;he<Ss.length&&!gn;)if(gn=Ss[he++].exec(q),gn)for(Ei=0;Ei<Ts.length;Ei++)gt=gn[++Y],ce=Ts[Ei],typeof ce===s&&ce.length>0?ce.length===2?typeof ce[1]==o?this[ce[0]]=ce[1].call(this,gt):this[ce[0]]=ce[1]:ce.length===3?typeof ce[1]===o&&!(ce[1].exec&&ce[1].test)?this[ce[0]]=gt?ce[1].call(this,gt,ce[2]):t:this[ce[0]]=gt?gt.replace(ce[1],ce[2]):t:ce.length===4&&(this[ce[0]]=gt?ce[3].call(this,gt.replace(ce[1],ce[2])):t):this[ce]=gt||t;K+=2}},Oo=function(q,$){for(var K in $)if(typeof $[K]===s&&$[K].length>0){for(var he=0;he<$[K].length;he++)if(ys($[K][he],q))return K===i?t:K}else if(ys($[K],q))return K===i?t:K;return q},fd={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Es={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},bs={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,m],[/opios[\/ ]+([\w\.]+)/i],[m,[f,je+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[f,je]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[f,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[m,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[m,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+S],m],[/\bfocus\/([\w\.]+)/i],[m,[f,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[f,je+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[f,je+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[f,"MIUI "+S]],[/fxios\/([-\w\.]+)/i],[m,[f,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+S]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+S],m],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,m],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,_s],m],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[f,I+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,I+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[f,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[m,Oo,fd]],[/(webkit|khtml)\/([\w\.]+)/i],[f,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[f,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,m],[/(cobalt)\/([\w\.]+)/i],[f,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,vn]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,n,vn]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,vn]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[p,Nt],[d,A]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[p,Nt],[d,E]],[/((ipod|iphone)\d+,\d+)/i],[l,[p,z],[d,E]],[/(ipad\d+,\d+)/i],[l,[p,z],[d,A]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[p,z],[d,E]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[p,z],[d,A]],[/(macintosh);/i],[l,[p,z]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[p,Vr],[d,A]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[p,Vr],[d,E]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[p,wo],[d,E]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[p,wo],[d,A]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[p,"OPPO"],[d,E]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[p,"Vivo"],[d,E]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[p,"Realme"],[d,E]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[p,se],[d,E]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[p,se],[d,A]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[p,Jt],[d,A]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[p,Jt],[d,E]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[p,"Lenovo"],[d,A]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[p,"Nokia"],[d,E]],[/(pixel c)\b/i],[l,[p,Zt],[d,A]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[p,Zt],[d,E]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[p,gi],[d,E]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[p,gi],[d,A]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[p,"OnePlus"],[d,E]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[p,b],[d,A]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[p,b],[d,E]],[/(playbook);[-\w\),; ]+(rim)/i],[l,p,[d,A]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[p,W],[d,E]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[p,Z],[d,A]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[p,Z],[d,E]],[/(nexus 9)/i],[l,[p,"HTC"],[d,A]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[l,/_/g," "],[d,E]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[p,"Acer"],[d,A]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[p,"Meizu"],[d,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[p,Br],[d,E]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,l,[d,E]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,l,[d,A]],[/(surface duo)/i],[l,[p,lt],[d,A]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[p,"Fairphone"],[d,E]],[/(u304aa)/i],[l,[p,"AT&T"],[d,E]],[/\bsie-(\w*)/i],[l,[p,"Siemens"],[d,E]],[/\b(rct\w+) b/i],[l,[p,"RCA"],[d,A]],[/\b(venue[\d ]{2,7}) b/i],[l,[p,"Dell"],[d,A]],[/\b(q(?:mv|ta)\w+) b/i],[l,[p,"Verizon"],[d,A]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[p,"Barnes & Noble"],[d,A]],[/\b(tm\d{3}\w+) b/i],[l,[p,"NuVision"],[d,A]],[/\b(k88) b/i],[l,[p,"ZTE"],[d,A]],[/\b(nx\d{3}j) b/i],[l,[p,"ZTE"],[d,E]],[/\b(gen\d{3}) b.+49h/i],[l,[p,"Swiss"],[d,E]],[/\b(zur\d{3}) b/i],[l,[p,"Swiss"],[d,A]],[/\b((zeki)?tb.*\b) b/i],[l,[p,"Zeki"],[d,A]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],l,[d,A]],[/\b(ns-?\w{0,9}) b/i],[l,[p,"Insignia"],[d,A]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[p,"NextBook"],[d,A]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],l,[d,E]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],l,[d,E]],[/\b(ph-1) /i],[l,[p,"Essential"],[d,E]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[p,"Envizen"],[d,A]],[/\b(trio[-\w\. ]+) b/i],[l,[p,"MachSpeed"],[d,A]],[/\btu_(1491) b/i],[l,[p,"Rotor"],[d,A]],[/(shield[\w ]+) b/i],[l,[p,"Nvidia"],[d,A]],[/(sprint) (\w+)/i],[p,l,[d,E]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[p,lt],[d,E]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[p,xo],[d,A]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[p,xo],[d,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,l,[d,g]],[/droid.+; (shield) bui/i],[l,[p,"Nvidia"],[d,g]],[/(playstation [345portablevi]+)/i],[l,[p,gi],[d,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[p,lt],[d,g]],[/smart-tv.+(samsung)/i],[p,[d,D]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[p,Nt],[d,D]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,Jt],[d,D]],[/(apple) ?tv/i],[p,[l,z+" TV"],[d,D]],[/crkey/i],[[l,I+"cast"],[p,Zt],[d,D]],[/droid.+aft(\w)( bui|\))/i],[l,[p,b],[d,D]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[p,Br],[d,D]],[/(bravia[\w ]+)( bui|\))/i],[l,[p,gi],[d,D]],[/(mitv-\w{5}) bui/i],[l,[p,wo],[d,D]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,Co],[l,Co],[d,D]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,D]],[/((pebble))app/i],[p,l,[d,h]],[/droid.+; (glass) \d/i],[l,[p,Zt],[d,h]],[/droid.+; (wt63?0{2,3})\)/i],[l,[p,xo],[d,h]],[/(quest( 2)?)/i],[l,[p,_s],[d,h]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[d,R]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[d,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[d,A]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,A]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,E]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[f,w+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[f,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,m],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[m,Oo,Es]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[m,Oo,Es]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,"Mac OS"],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,m],[/\(bb(10);/i],[m,[f,W]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[f,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[m,[f,I+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[f,"Chromium OS"],m],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,m],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[f,m]]},Je=function(q,$){if(typeof q===s&&($=q,q=t),!(this instanceof Je))return new Je(q,$).getResult();var K=q||(typeof e!==a&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:n),he=$?cd(bs,$):bs;return this.getBrowser=function(){var Y={};return Y[f]=t,Y[m]=t,hn.call(Y,K,he.browser),Y.major=ld(Y.version),Y},this.getCPU=function(){var Y={};return Y[v]=t,hn.call(Y,K,he.cpu),Y},this.getDevice=function(){var Y={};return Y[p]=t,Y[l]=t,Y[d]=t,hn.call(Y,K,he.device),Y},this.getEngine=function(){var Y={};return Y[f]=t,Y[m]=t,hn.call(Y,K,he.engine),Y},this.getOS=function(){var Y={};return Y[f]=t,Y[m]=t,hn.call(Y,K,he.os),Y},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return K},this.setUA=function(Y){return K=typeof Y===u&&Y.length>_?Co(Y,_):Y,this},this.setUA(K),this};Je.VERSION=r,Je.BROWSER=_i([f,m,c]),Je.CPU=_i([v]),Je.DEVICE=_i([l,p,d,g,E,D,A,h,R]),Je.ENGINE=Je.OS=_i([f,m]),typeof yn!==a?(typeof wi!==a&&wi.exports&&(yn=wi.exports=Je),yn.UAParser=Je):typeof define===o&&define.amd?define(function(){return Je}):typeof e!==a&&(e.UAParser=Je);var zr=typeof e!==a&&(e.jQuery||e.Zepto);if(zr&&!zr.ua){var yi=new Je;zr.ua=yi.getResult(),zr.ua.get=function(){return yi.getUA()},zr.ua.set=function(q){yi.setUA(q);var $=yi.getResult();for(var K in $)zr.ua[K]=$[K]}}})(typeof window=="object"?window:yn)});function _n(){return typeof window=="object"&&window?.document!==void 0}var Ro=function(){var e;if(_n()){var t=window,r=Array;if(t.Prototype!==void 0&&((e=r.prototype)===null||e===void 0?void 0:e.toJSON)!==void 0)return delete r.prototype.toJSON,!0}return!1};var Js=ws(Os());var Uo={};dd(Uo,{exclude:()=>Ed,extract:()=>Po,parse:()=>Do,parseUrl:()=>Fs,pick:()=>Bs,stringify:()=>Ms,stringifyUrl:()=>Vs});var Ns="%[a-f0-9]{2}",As=new RegExp("("+Ns+")|([^%]+?)","gi"),Rs=new RegExp("("+Ns+")+","gi");function No(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;let r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],No(r),No(n))}function pd(e){try{return decodeURIComponent(e)}catch{let t=e.match(As)||[];for(let r=1;r<t.length;r++)e=No(t,r).join(""),t=e.match(As)||[];return e}}function md(e){let t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=Rs.exec(e);for(;r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{let i=pd(r[0]);i!==r[0]&&(t[r[0]]=i)}r=Rs.exec(e)}t["%C2"]="\uFFFD";let n=Object.keys(t);for(let i of n)e=e.replace(new RegExp(i,"g"),t[i]);return e}function ko(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return md(e)}}function Ti(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];let r=e.indexOf(t);return r===-1?[]:[e.slice(0,r),e.slice(r+t.length)]}function ks(e,t){let r={};if(Array.isArray(t))for(let n of t){let i=Object.getOwnPropertyDescriptor(e,n);i?.enumerable&&Object.defineProperty(r,n,i)}else for(let n of Reflect.ownKeys(e)){let i=Object.getOwnPropertyDescriptor(e,n);if(i.enumerable){let o=e[n];t(n,o,e)&&Object.defineProperty(r,n,i)}}return r}var vd=e=>e==null,hd=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Lo=Symbol("encodeFragmentIdentifier");function gd(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[Ee(t,e),"[",i,"]"].join("")]:[...r,[Ee(t,e),"[",Ee(i,e),"]=",Ee(n,e)].join("")]};case"bracket":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[Ee(t,e),"[]"].join("")]:[...r,[Ee(t,e),"[]=",Ee(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[Ee(t,e),":list="].join("")]:[...r,[Ee(t,e),":list=",Ee(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t=e.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[Ee(r,e),t,Ee(i,e)].join("")]:[[n,Ee(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,Ee(t,e)]:[...r,[Ee(t,e),"=",Ee(n,e)].join("")]}}function _d(e){let t;switch(e.arrayFormat){case"index":return(r,n,i)=>{if(t=/\[(\d*)]$/.exec(r),r=r.replace(/\[\d*]$/,""),!t){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][t[1]]=n};case"bracket":return(r,n,i)=>{if(t=/(\[])$/.exec(r),r=r.replace(/\[]$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[...i[r],n]};case"colon-list-separator":return(r,n,i)=>{if(t=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[...i[r],n]};case"comma":case"separator":return(r,n,i)=>{let o=typeof n=="string"&&n.includes(e.arrayFormatSeparator),a=typeof n=="string"&&!o&&kt(n,e).includes(e.arrayFormatSeparator);n=a?kt(n,e):n;let s=o||a?n.split(e.arrayFormatSeparator).map(u=>kt(u,e)):n===null?n:kt(n,e);i[r]=s};case"bracket-separator":return(r,n,i)=>{let o=/(\[])$/.test(r);if(r=r.replace(/\[]$/,""),!o){i[r]=n&&kt(n,e);return}let a=n===null?[]:n.split(e.arrayFormatSeparator).map(s=>kt(s,e));if(i[r]===void 0){i[r]=a;return}i[r]=[...i[r],...a]};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[...[i[r]].flat(),n]}}}function Ps(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Ee(e,t){return t.encode?t.strict?hd(e):encodeURIComponent(e):e}function kt(e,t){return t.decode?ko(e):e}function Ds(e){return Array.isArray(e)?e.sort():typeof e=="object"?Ds(Object.keys(e)).sort((t,r)=>Number(t)-Number(r)).map(t=>e[t]):e}function Us(e){let t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function yd(e){let t="",r=e.indexOf("#");return r!==-1&&(t=e.slice(r)),t}function Ls(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function Po(e){e=Us(e);let t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function Do(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t},Ps(t.arrayFormatSeparator);let r=_d(t),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(let i of e.split("&")){if(i==="")continue;let o=t.decode?i.replace(/\+/g," "):i,[a,s]=Ti(o,"=");a===void 0&&(a=o),s=s===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?s:kt(s,t),r(kt(a,t),s,n)}for(let[i,o]of Object.entries(n))if(typeof o=="object"&&o!==null)for(let[a,s]of Object.entries(o))o[a]=Ls(s,t);else n[i]=Ls(o,t);return t.sort===!1?n:(t.sort===!0?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((i,o)=>{let a=n[o];return Boolean(a)&&typeof a=="object"&&!Array.isArray(a)?i[o]=Ds(a):i[o]=a,i},Object.create(null))}function Ms(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},Ps(t.arrayFormatSeparator);let r=a=>t.skipNull&&vd(e[a])||t.skipEmptyString&&e[a]==="",n=gd(t),i={};for(let[a,s]of Object.entries(e))r(a)||(i[a]=s);let o=Object.keys(i);return t.sort!==!1&&o.sort(t.sort),o.map(a=>{let s=e[a];return s===void 0?"":s===null?Ee(a,t):Array.isArray(s)?s.length===0&&t.arrayFormat==="bracket-separator"?Ee(a,t)+"[]":s.reduce(n(a),[]).join("&"):Ee(a,t)+"="+Ee(s,t)}).filter(a=>a.length>0).join("&")}function Fs(e,t){t={decode:!0,...t};let[r,n]=Ti(e,"#");return r===void 0&&(r=e),{url:r?.split("?")?.[0]??"",query:Do(Po(e),t),...t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:kt(n,t)}:{}}}function Vs(e,t){t={encode:!0,strict:!0,[Lo]:!0,...t};let r=Us(e.url).split("?")[0]||"",n=Po(e.url),i={...Do(n,{sort:!1}),...e.query},o=Ms(i,t);o&&(o=`?${o}`);let a=yd(e.url);if(e.fragmentIdentifier){let s=new URL(r);s.hash=e.fragmentIdentifier,a=t[Lo]?s.hash:`#${e.fragmentIdentifier}`}return`${r}${o}${a}`}function Bs(e,t,r){r={parseFragmentIdentifier:!0,[Lo]:!1,...r};let{url:n,query:i,fragmentIdentifier:o}=Fs(e,r);return Vs({url:n,query:ks(i,t),fragmentIdentifier:o},r)}function Ed(e,t,r){let n=Array.isArray(t)?i=>!t.includes(i):(i,o)=>!t(i,o);return Bs(e,n,r)}var Ii=Uo;var $s=ws(zs());var bd=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:Sd(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),Sd=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},Td=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(t){this.receiver?this.receiver(t):this.queue.length<512&&this.queue.push(t)},e.prototype.setEventReceiver=function(t){this.receiver=t,this.queue.length>0&&(this.queue.forEach(function(r){t(r)}),this.queue=[])},e}(),$t=function(){return $t=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},$t.apply(this,arguments)},xi=function(e,t){var r=["string","number","boolean","undefined"],n=typeof e,i=typeof t;if(n!==i)return!1;for(var o=0,a=r;o<a.length;o++){var s=a[o];if(s===n)return e===t}if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;var u=Array.isArray(e),c=Array.isArray(t);if(u!==c)return!1;if(u&&c){for(var l=0;l<e.length;l++)if(!xi(e[l],t[l]))return!1}else{var f=Object.keys(e).sort(),d=Object.keys(t).sort();if(!xi(f,d))return!1;var p=!0;return Object.keys(e).forEach(function(m){xi(e[m],t[m])||(p=!1)}),p}return!0},Id="$set",wd="$unset",xd="$clearAll";Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n});var Cd=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var t=this,r=$t({},this.identity.userProperties),n=$t($t({},this.identity),{userProperties:r});return{setUserId:function(i){return n.userId=i,this},setDeviceId:function(i){return n.deviceId=i,this},setUserProperties:function(i){return n.userProperties=i,this},setOptOut:function(i){return n.optOut=i,this},updateUserProperties:function(i){for(var o=n.userProperties||{},a=0,s=Object.entries(i);a<s.length;a++){var u=s[a],c=u[0],l=u[1];switch(c){case Id:for(var f=0,d=Object.entries(l);f<d.length;f++){var p=d[f],m=p[0],v=p[1];o[m]=v}break;case wd:for(var g=0,E=Object.keys(l);g<E.length;g++){var m=E[g];delete o[m]}break;case xd:o={};break}}return n.userProperties=o,this},commit:function(){return t.setIdentity(n),this}}},e.prototype.getIdentity=function(){return $t({},this.identity)},e.prototype.setIdentity=function(t){var r=$t({},this.identity);this.identity=$t({},t),xi(r,this.identity)||this.listeners.forEach(function(n){n(t)})},e.prototype.addIdentityListener=function(t){this.listeners.add(t)},e.prototype.removeIdentityListener=function(t){this.listeners.delete(t)},e}(),En=typeof globalThis<"u"||typeof globalThis<"u"?globalThis:self,Gs=function(){function e(){this.identityStore=new Cd,this.eventBridge=new Td,this.applicationContextProvider=new bd}return e.getInstance=function(t){return En.analyticsConnectorInstances||(En.analyticsConnectorInstances={}),En.analyticsConnectorInstances[t]||(En.analyticsConnectorInstances[t]=new e),En.analyticsConnectorInstances[t]},e}();function Hs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hs(Object(r),!0).forEach(function(n){Hr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fo(e){return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(e)}function qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function js(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eu(n.key),n)}}function Ko(e,t,r){return t&&js(e.prototype,t),r&&js(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hr(e,t,r){return t=eu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Od(e){return Ad(e)||Rd(e)||Qs(e)||Nd()}function Ad(e){if(Array.isArray(e))return Vo(e)}function Rd(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qs(e,t){if(!!e){if(typeof e=="string")return Vo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vo(e,t)}}function Vo(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kd(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Qs(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(a)throw s}}}}function Ld(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eu(e){var t=Ld(e,"string");return typeof t=="symbol"?t:String(t)}var C={DEFAULT_INSTANCE:"$default_instance",API_VERSION:2,MAX_STRING_LENGTH:4096,MAX_PROPERTY_KEYS:1e3,IDENTIFY_EVENT:"$identify",GROUP_IDENTIFY_EVENT:"$groupidentify",EVENT_LOG_URL:"api.amplitude.com",EVENT_LOG_EU_URL:"api.eu.amplitude.com",DYNAMIC_CONFIG_URL:"regionconfig.amplitude.com",DYNAMIC_CONFIG_EU_URL:"regionconfig.eu.amplitude.com",LAST_EVENT_ID:"amplitude_lastEventId",LAST_EVENT_TIME:"amplitude_lastEventTime",LAST_IDENTIFY_ID:"amplitude_lastIdentifyId",LAST_SEQUENCE_NUMBER:"amplitude_lastSequenceNumber",SESSION_ID:"amplitude_sessionId",DEVICE_ID:"amplitude_deviceId",OPT_OUT:"amplitude_optOut",USER_ID:"amplitude_userId",DEVICE_ID_INDEX:0,USER_ID_INDEX:1,OPT_OUT_INDEX:2,SESSION_ID_INDEX:3,LAST_EVENT_TIME_INDEX:4,EVENT_ID_INDEX:5,IDENTIFY_ID_INDEX:6,SEQUENCE_NUMBER_INDEX:7,COOKIE_TEST_PREFIX:"amp_cookie_test",COOKIE_PREFIX:"amp",STORAGE_DEFAULT:"",STORAGE_COOKIES:"cookies",STORAGE_NONE:"none",STORAGE_LOCAL:"localStorage",STORAGE_SESSION:"sessionStorage",REVENUE_EVENT:"revenue_amount",REVENUE_PRODUCT_ID:"$productId",REVENUE_QUANTITY:"$quantity",REVENUE_PRICE:"$price",REVENUE_REVENUE_TYPE:"$revenueType",AMP_DEVICE_ID_PARAM:"amp_device_id",AMP_REFERRER_PARAM:"amp_referrer",REFERRER:"referrer",REFERRING_DOMAIN:"referring_domain",UTM_SOURCE:"utm_source",UTM_MEDIUM:"utm_medium",UTM_CAMPAIGN:"utm_campaign",UTM_TERM:"utm_term",UTM_CONTENT:"utm_content",ATTRIBUTION_EVENT:"[Amplitude] Attribution Captured",TRANSPORT_HTTP:"http",TRANSPORT_BEACON:"beacon"},qs={encode:function(t){for(var r="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?r+=String.fromCharCode(i):i>127&&i<2048?(r+=String.fromCharCode(i>>6|192),r+=String.fromCharCode(i&63|128)):(r+=String.fromCharCode(i>>12|224),r+=String.fromCharCode(i>>6&63|128),r+=String.fromCharCode(i&63|128))}return r},decode:function(t){for(var r="",n=0,i=0,o=0,a=0;n<t.length;)i=t.charCodeAt(n),i<128?(r+=String.fromCharCode(i),n++):i>191&&i<224?(o=t.charCodeAt(n+1),r+=String.fromCharCode((i&31)<<6|o&63),n+=2):(o=t.charCodeAt(n+1),a=t.charCodeAt(n+2),r+=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63),n+=3);return r}},H=function(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof globalThis<"u")return globalThis}(),qe={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){try{if(H.btoa&&H.atob)return H.btoa(unescape(encodeURIComponent(t)))}catch{}return qe._encode(t)},_encode:function(t){var r="",n,i,o,a,s,u,c,l=0;for(t=qs.encode(t);l<t.length;)n=t.charCodeAt(l++),i=t.charCodeAt(l++),o=t.charCodeAt(l++),a=n>>2,s=(n&3)<<4|i>>4,u=(i&15)<<2|o>>6,c=o&63,isNaN(i)?u=c=64:isNaN(o)&&(c=64),r=r+qe._keyStr.charAt(a)+qe._keyStr.charAt(s)+qe._keyStr.charAt(u)+qe._keyStr.charAt(c);return r},decode:function(t){try{if(H.btoa&&H.atob)return decodeURIComponent(escape(H.atob(t)))}catch{}return qe._decode(t)},_decode:function(t){var r="",n,i,o,a,s,u,c,l=0;for(t=t.replace(/[^A-Za-z0-9+/=]/g,"");l<t.length;)a=qe._keyStr.indexOf(t.charAt(l++)),s=qe._keyStr.indexOf(t.charAt(l++)),u=qe._keyStr.indexOf(t.charAt(l++)),c=qe._keyStr.indexOf(t.charAt(l++)),n=a<<2|s>>4,i=(s&15)<<4|u>>2,o=(u&3)<<6|c,r=r+String.fromCharCode(n),u!==64&&(r=r+String.fromCharCode(i)),c!==64&&(r=r+String.fromCharCode(o));return r=qs.decode(r),r}},Pd=Object.prototype.toString;function U(e){switch(Pd.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return e===null?"null":e===void 0?"undefined":e!==e?"nan":e&&e.nodeType===1?"element":typeof Buffer<"u"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(e)?"buffer":(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e),Fo(e))}var vr={DISABLE:0,ERROR:1,WARN:2,INFO:3},bn=vr.WARN,Dd=function(t){Object.prototype.hasOwnProperty.call(vr,t)&&(bn=vr[t])},Ud=function(){return bn},xe={error:function(t){bn>=vr.ERROR&&Mo(t)},warn:function(t){bn>=vr.WARN&&Mo(t)},info:function(t){bn>=vr.INFO&&Mo(t)}},Mo=function(t){try{console.log("[Amplitude] "+t)}catch{}},Md=function(t){return!t||t.length===0},Fd=function(){try{if(H.sessionStorage)return!0}catch{}return!1},Vd=function e(t){if(U(t)==="array")for(var r=0;r<t.length;r++)t[r]=e(t[r]);else if(U(t)==="object")for(var n in t)n in t&&(t[n]=e(t[n]));else t=Bd(t);return t},Bd=function(t){return U(t)==="string"&&t.length>C.MAX_STRING_LENGTH?t.substring(0,C.MAX_STRING_LENGTH):t},Ai=function(t,r,n){return U(t)!==n?(xe.error("Invalid "+r+" input type. Expected "+n+" but received "+U(t)),!1):!0},zd=function(t){return Ai(t,"deviceId","string")?t.indexOf(".")>=0?(xe.error(`Device IDs may not contain '.' characters. Value will be ignored: "`.concat(t,'"')),!1):!0:!1},Gd=function(t){return Ai(t,"transport","string")?t!==C.TRANSPORT_HTTP&&t!==C.TRANSPORT_BEACON?(xe.error("transport value must be one of '".concat(C.TRANSPORT_BEACON,"' or '").concat(C.TRANSPORT_HTTP,"'")),!1):t!==C.TRANSPORT_HTTP&&typeof navigator<"u"&&!navigator.sendBeacon?(xe.error("browser does not support sendBeacon, so transport must be HTTP"),!1):!0:!1},Bo=function(t){var r=U(t);if(r!=="object")return xe.error("Error: invalid properties format. Expecting Javascript object, received "+r+", ignoring"),{};if(Object.keys(t).length>C.MAX_PROPERTY_KEYS)return xe.error("Error: too many properties (more than 1000), ignoring"),{};var n={};for(var i in t)if(!!Object.prototype.hasOwnProperty.call(t,i)){var o=i,a=U(o);a!=="string"&&(o=String(o),xe.warn("WARNING: Non-string property key, received type "+a+', coercing to string "'+o+'"'));var s=jd(o,t[i]);s!==null&&(n[o]=s)}return n},Hd=["nan","function","arguments","regexp","element"],jd=function e(t,r){var n=U(r);if(Hd.indexOf(n)!==-1)xe.warn('WARNING: Property key "'+t+'" with invalid value type '+n+", ignoring"),r=null;else if(n==="undefined")r=null;else if(n==="error")r=String(r),xe.warn('WARNING: Property key "'+t+'" with value type error, coercing to '+r);else if(n==="array"){for(var i=[],o=0;o<r.length;o++){var a=r[o],s=U(a);if(s==="array"){xe.warn("WARNING: Cannot have "+s+" nested in an array property value, skipping");continue}else s==="object"?i.push(Bo(a)):i.push(e(t,a))}r=i}else n==="object"&&(r=Bo(r));return r},qd=function(t){var r=U(t);if(r!=="object")return xe.error("Error: invalid groups format. Expecting Javascript object, received "+r+", ignoring"),{};var n={};for(var i in t)if(!!Object.prototype.hasOwnProperty.call(t,i)){var o=i,a=U(o);a!=="string"&&(o=String(o),xe.warn("WARNING: Non-string groupType, received type "+a+', coercing to string "'+o+'"'));var s=Kd(o,t[i]);s!==null&&(n[o]=s)}return n},Kd=function(t,r){var n=U(r);if(n==="string")return r;if(n==="date"||n==="number"||n==="boolean")return r=String(r),xe.warn("WARNING: Non-string groupName, received type "+n+', coercing to string "'+r+'"'),r;if(n==="array"){for(var i=[],o=0;o<r.length;o++){var a=r[o],s=U(a);if(s==="array"||s==="object"){xe.warn("WARNING: Skipping nested "+s+" in array groupName");continue}else s==="string"?i.push(a):(s==="date"||s==="number"||s==="boolean")&&(a=String(a),xe.warn("WARNING: Non-string groupName, received type "+s+', coercing to string "'+a+'"'),i.push(a))}return i}xe.warn("WARNING: Non-string groupName, received type "+n+". Please use strings or array of strings for groupName")},Yd=function(t,r){t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=n.exec(r);return i===null?void 0:decodeURIComponent(i[1].replace(/\+/g," "))},Wd=function(){return typeof WorkerGlobalScope<"u"},Xd=function(t){return Ai(t,"sessionId","number")&&new Date(t).getTime()>0?!0:(xe.error("sessionId value must in milliseconds since epoch (Unix Timestamp)"),!1)},Zd=function(){return H.location},Jd=function(t){var r=H.location?H.location.hostname:"";if(t){if(typeof document<"u"){var n=document.createElement("a");return n.href=t,n.hostname||r}if(typeof URL=="function"){var i=new URL(t);return i.hostname||r}}return r},y={setLogLevel:Dd,getLogLevel:Ud,logLevels:vr,log:xe,isEmptyString:Md,isWebWorkerEnvironment:Wd,getQueryParam:Yd,sessionStorageEnabled:Fd,truncate:Vd,validateGroups:qd,validateInput:Ai,validateProperties:Bo,validateDeviceId:zd,validateTransport:Gd,validateSessionId:Xd,getLocation:Zd,getHost:Jd},tu=function(t){try{for(var r=document.cookie.split(";"),n=null,i=0;i<r.length;i++){for(var o=r[i];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0){n=o.substring(t.length,o.length);break}}return n}catch{return null}},$d=function(t){try{var r=document.cookie.split(";").map(function(s){return s.trimStart()}),n=[],i=kd(r),o;try{for(i.s();!(o=i.n()).done;){for(var a=o.value;a.charAt(0)===" ";)a=a.substring(1);a.indexOf(t)===0&&n.push(a.substring(t.length))}}catch(s){i.e(s)}finally{i.f()}return n}catch{return[]}},zo=function(t,r,n){var i=r!==null?n.expirationDays:-1;if(i){var o=new Date;o.setTime(o.getTime()+i*24*60*60*1e3),i=o}var a=t+"="+r;i&&(a+="; expires="+i.toUTCString()),a+="; path=/",n.domain&&(a+="; domain="+n.domain),n.secure&&(a+="; Secure"),n.sameSite&&(a+="; SameSite="+n.sameSite),document.cookie=a},Go=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(".")[C.LAST_EVENT_TIME_INDEX],n;return r&&(n=parseInt(r,32)),n||(y.log.warn("unable to parse malformed cookie: ".concat(t)),0)},Qd=function(t){return Od(t).sort(function(r,n){var i=Go(r),o=Go(n);return o-i})},ep=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=C.COOKIE_TEST_PREFIX;if(typeof document>"u")return!1;var n=!1;try{var i=String(Date.now());zo(r,i,t),y.log.info("Testing if cookies available"),n=tu(r+"=")===i}catch(o){y.log.warn('Error thrown when checking for cookies. Reason: "'.concat(o,'"'))}finally{y.log.info("Cleaning up cookies availability test"),zo(r,null,t)}return n},Se={set:zo,get:tu,getAll:$d,getLastEventTime:Go,sortByEventTime:Qd,areCookiesEnabled:ep},tp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Yo=function(){for(var t="",r=0;r<22;++r)t+=tp.charAt(Math.floor(Math.random()*64));return t},ru=function(t){var r=y.getHost(t),n=r.split("."),i=[],o="_tldtest_"+Yo();if(y.isWebWorkerEnvironment())return"";for(var a=n.length-2;a>=0;--a)i.push(n.slice(a).join("."));for(var s=0;s<i.length;++s){var u=i[s],c={domain:"."+u};if(Se.set(o,1,c),Se.get(o))return Se.set(o,null,c),u}return""},Fe={expirationDays:void 0,domain:void 0},rp=function(){Fe={expirationDays:void 0,domain:void 0}},np=function(t){if(arguments.length===0)return Fe;t=t||{},Fe.expirationDays=t.expirationDays,Fe.secure=t.secure,Fe.sameSite=t.sameSite;var r=y.isEmptyString(t.domain)?"."+ru(y.getLocation().href):t.domain,n=Math.random();Fe.domain=r,iu("amplitude_test",n);var i=nu("amplitude_test");return(!i||i!==n)&&(r=null),ou("amplitude_test"),Fe.domain=r,Fe},Sn=function(t){var r="";return Fe.domain&&(r=Fe.domain.charAt(0)==="."?Fe.domain.substring(1):Fe.domain),t+r},nu=function(t){var r=Sn(t)+"=",n=Se.get(r);try{if(n)return JSON.parse(qe.decode(n))}catch{return null}return null},iu=function(t,r){try{return Se.set(Sn(t),qe.encode(JSON.stringify(r)),Fe),!0}catch{return!1}},ip=function(t,r){try{return Se.set(Sn(t),r,Fe),!0}catch{return!1}},op=function(t){var r=Sn(t)+"=";return Se.get(r)},ou=function(t){try{return Se.set(Sn(t),null,Fe),!0}catch{return!1}},ap={reset:rp,options:np,get:nu,set:iu,remove:ou,setRaw:ip,getRaw:op},sp=function(){function e(){qo(this,e),this.map=new Map,this.length=0}return Ko(e,[{key:"key",value:function(r){var n=Array.from(this.map.keys()),i=n[r];return this.map.get(i)}},{key:"getItem",value:function(r){return this.map.get(r)}},{key:"setItem",value:function(r,n){this.map.has(r)||(this.length+=1),this.map.set(r,n)}},{key:"removeItem",value:function(r){this.map.has(r)&&(this.length-=1,this.map.delete(r))}},{key:"clear",value:function(){this.map.clear(),this.length=0}}]),e}(),Qt;{if(Ks=function(){var t=new Date,r;try{return H.localStorage.setItem(t,t),r=H.localStorage.getItem(t)===String(t),H.localStorage.removeItem(t),r}catch{}return!1},Ks())Qt=H.localStorage;else if(typeof H<"u"&&H.globalStorage)try{Qt=H.globalStorage[H.location.hostname]}catch{}else typeof document<"u"?(de=document.createElement("div"),yt="localStorage",de.style.display="none",document.getElementsByTagName("head")[0].appendChild(de),de.addBehavior&&(de.addBehavior("#default#userdata"),Qt={length:0,setItem:function(t,r){de.load(yt),de.getAttribute(t)||this.length++,de.setAttribute(t,r),de.save(yt)},getItem:function(t){return de.load(yt),de.getAttribute(t)},removeItem:function(t){de.load(yt),de.getAttribute(t)&&this.length--,de.removeAttribute(t),de.save(yt)},clear:function(){de.load(yt);for(var t=0,r;r=de.XMLDocument.documentElement.attributes[t++];)de.removeAttribute(r.name);de.save(yt),this.length=0},key:function(t){return de.load(yt),de.XMLDocument.documentElement.attributes[t]}},de.load(yt),Qt.length=de.XMLDocument.documentElement.attributes.length)):y.isWebWorkerEnvironment()&&(Qt=new sp);Qt||(Qt={length:0,setItem:function(t,r){},getItem:function(t){},removeItem:function(t){},clear:function(){},key:function(t){}})}var Ks,de,yt,ft=Qt,au=function(){this.storage=null};au.prototype.getStorage=function(e){if(this.storage!==null)return this.storage;if(!e&&Se.areCookiesEnabled())this.storage=ap;else{var t="amp_cookiestore_";this.storage={_options:{expirationDays:void 0,domain:void 0,secure:!1},reset:function(){this._options={expirationDays:void 0,domain:void 0,secure:!1}},options:function(n){return arguments.length===0?this._options:(n=n||{},this._options.expirationDays=n.expirationDays||this._options.expirationDays,this._options.domain=n.domain||this._options.domain||H&&H.location&&H.location.hostname,this._options.secure=n.secure||!1)},get:function(n){try{return JSON.parse(ft.getItem(t+n))}catch{}return null},set:function(n,i){try{return ft.setItem(t+n,JSON.stringify(i)),!0}catch{}return!1},remove:function(n){try{ft.removeItem(t+n)}catch{return!1}}}}return this.storage};var Gr,up=(Gr={},Hr(Gr,C.STORAGE_COOKIES,!0),Hr(Gr,C.STORAGE_NONE,!0),Hr(Gr,C.STORAGE_LOCAL,!0),Hr(Gr,C.STORAGE_SESSION,!0),Gr),cp=function(){function e(t){var r=t.storageKey,n=t.disableCookies,i=t.domain,o=t.secure,a=t.sameSite,s=t.expirationDays,u=t.storage;qo(this,e),this.storageKey=r,this.domain=i,this.secure=o,this.sameSite=a,this.expirationDays=s,this.cookieDomain="";var c=y.getLocation()?y.getLocation().href:void 0,l=n?"":ru(c);if(this.cookieDomain=i||(l?"."+l:null),up[u])this.storage=u;else{var f=n||!Se.areCookiesEnabled({domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:this.expirationDays});f?this.storage=C.STORAGE_LOCAL:this.storage=C.STORAGE_COOKIES}}return Ko(e,[{key:"getCookieStorageKey",value:function(){if(!this.domain)return this.storageKey;var r=this.domain.charAt(0)==="."?this.domain.substring(1):this.domain;return"".concat(this.storageKey).concat(r?"_".concat(r):"")}},{key:"save",value:function(r){var n=r.deviceId,i=r.userId,o=r.optOut,a=r.sessionId,s=r.lastEventTime,u=r.eventId,c=r.identifyId,l=r.sequenceNumber;if(this.storage!==C.STORAGE_NONE){var f=[n,qe.encode(i||""),o?"1":"",a?a.toString(32):"0",s?s.toString(32):"0",u?u.toString(32):"0",c?c.toString(32):"0",l?l.toString(32):"0"].join(".");switch(this.storage){case C.STORAGE_SESSION:H.sessionStorage&&H.sessionStorage.setItem(this.storageKey,f);break;case C.STORAGE_LOCAL:ft.setItem(this.storageKey,f);break;case C.STORAGE_COOKIES:this.saveCookie(f);break}}}},{key:"saveCookie",value:function(r){Se.set(this.getCookieStorageKey(),r,{domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:this.expirationDays})}},{key:"load",value:function(){var r=this,n;if(this.storage===C.STORAGE_COOKIES){var i=this.getCookieStorageKey()+"=",o=Se.getAll(i);if(o.length===0||o.length===1)n=o[0];else{var a=Se.sortByEventTime(o)[0];o.forEach(function(){return Se.set(r.getCookieStorageKey(),null,{})}),this.saveCookie(a),n=Se.get(i)}}if(n||(n=ft.getItem(this.storageKey)),!n)try{n=H.sessionStorage&&H.sessionStorage.getItem(this.storageKey)}catch(c){y.log.info('window.sessionStorage unavailable. Reason: "'.concat(c,'"'))}if(!n)return null;var s=n.split("."),u=null;if(s[C.USER_ID_INDEX])try{u=qe.decode(s[C.USER_ID_INDEX])}catch{u=null}return{deviceId:s[C.DEVICE_ID_INDEX],userId:u,optOut:s[C.OPT_OUT_INDEX]==="1",sessionId:parseInt(s[C.SESSION_ID_INDEX],32),lastEventTime:parseInt(s[C.LAST_EVENT_TIME_INDEX],32),eventId:parseInt(s[C.EVENT_ID_INDEX],32),identifyId:parseInt(s[C.IDENTIFY_ID_INDEX],32),sequenceNumber:parseInt(s[C.SEQUENCE_NUMBER_INDEX],32)}}},{key:"clear",value:function(){var r;if(this.storage===C.STORAGE_COOKIES&&(r=Se.get(this.getCookieStorageKey()+"="),Se.set(this.getCookieStorageKey(),null,{domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:0})),r||(r=ft.getItem(this.storageKey),ft.clear()),!r)try{r=H.sessionStorage&&H.sessionStorage.getItem(this.storageKey),H.sessionStorage.clear()}catch(n){y.log.info('window.sessionStorage unavailable. Reason: "'.concat(n,'"'))}return!!r}}]),e}(),lp=function(t,r){var n=t?"?"+t.split(".").slice(-1)[0].replace(/\|/g,"&"):"",i=function(p,m,v,g){return y.getQueryParam(p,m)||y.getQueryParam(v,g)},o=i(C.UTM_SOURCE,r,"utmcsr",n),a=i(C.UTM_MEDIUM,r,"utmcmd",n),s=i(C.UTM_CAMPAIGN,r,"utmccn",n),u=i(C.UTM_TERM,r,"utmctr",n),c=i(C.UTM_CONTENT,r,"utmcct",n),l={},f=function(p,m){y.isEmptyString(m)||(l[p]=m)};return f(C.UTM_SOURCE,o),f(C.UTM_MEDIUM,a),f(C.UTM_CAMPAIGN,s),f(C.UTM_TERM,u),f(C.UTM_CONTENT,c),l},fp="$add",dp="$append",Ho="$clearAll",pp="$prepend",mp="$set",vp="$setOnce",hp="$unset",gp="$preInsert",_p="$postInsert",yp="$remove",ve=function(){this.userPropertiesOperations={},this.properties=[]};ve.prototype.add=function(e,t){return U(t)==="number"||U(t)==="string"?this._addOperation(fp,e,t):y.log.error("Unsupported type for value: "+U(t)+", expecting number or string"),this};ve.prototype.append=function(e,t){return this._addOperation(dp,e,t),this};ve.prototype.clearAll=function(){return Object.keys(this.userPropertiesOperations).length>0?(Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,Ho)||y.log.error("Need to send $clearAll on its own Identify object without any other operations, skipping $clearAll"),this):(this.userPropertiesOperations[Ho]="-",this)};ve.prototype.prepend=function(e,t){return this._addOperation(pp,e,t),this};ve.prototype.set=function(e,t){return this._addOperation(mp,e,t),this};ve.prototype.setOnce=function(e,t){return this._addOperation(vp,e,t),this};ve.prototype.unset=function(e){return this._addOperation(hp,e,"-"),this};ve.prototype.preInsert=function(e,t){return this._addOperation(gp,e,t),this};ve.prototype.postInsert=function(e,t){return this._addOperation(_p,e,t),this};ve.prototype.remove=function(e,t){return this._addOperation(yp,e,t),this};ve.prototype._addOperation=function(e,t,r){if(Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,Ho)){y.log.error("This identify already contains a $clearAll operation, skipping operation "+e);return}if(this.properties.indexOf(t)!==-1){y.log.error('User property "'+t+'" already used in this identify, skipping operation '+e);return}Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,e)||(this.userPropertiesOperations[e]={}),this.userPropertiesOperations[e][t]=r,this.properties.push(t)};var su=function(t,r,n){this.url=t,this.data=r||{},this.headers=n},Ep="Cross-Origin-Resource-Policy";function bp(e,t){for(var r in t)r===Ep&&!t[r]||e.setRequestHeader(r,t[r])}su.prototype.send=function(e){var t=!!H.XDomainRequest;if(t){var r=new H.XDomainRequest;r.open("POST",this.url,!0),r.onload=function(){e(200,r.responseText)},r.onerror=function(){r.responseText==="Request Entity Too Large"?e(413,r.responseText):e(500,r.responseText)},r.ontimeout=function(){},r.onprogress=function(){},r.send(Ii.stringify(this.data))}else if(typeof XMLHttpRequest<"u"){var n=new XMLHttpRequest;n.open("POST",this.url,!0),n.onreadystatechange=function(){n.readyState===4&&e(n.status,n.responseText)},bp(n,this.headers),n.send(Ii.stringify(this.data))}else{var i=void 0;fetch(this.url,{method:"POST",headers:this.headers,body:Ii.stringify(this.data)}).then(function(o){return i=o.status,o.text()}).then(function(o){e(i,o)})}};var dt=function(){this._price=null,this._productId=null,this._quantity=1,this._revenueType=null,this._properties=null};dt.prototype.setProductId=function(t){return U(t)!=="string"?y.log.error("Unsupported type for productId: "+U(t)+", expecting string"):y.isEmptyString(t)?y.log.error("Invalid empty productId"):this._productId=t,this};dt.prototype.setQuantity=function(t){return U(t)!=="number"?y.log.error("Unsupported type for quantity: "+U(t)+", expecting number"):this._quantity=parseInt(t),this};dt.prototype.setPrice=function(t){return U(t)!=="number"?y.log.error("Unsupported type for price: "+U(t)+", expecting number"):this._price=t,this};dt.prototype.setRevenueType=function(t){return U(t)!=="string"?y.log.error("Unsupported type for revenueType: "+U(t)+", expecting string"):this._revenueType=t,this};dt.prototype.setEventProperties=function(t){return U(t)!=="object"?y.log.error("Unsupported type for eventProperties: "+U(t)+", expecting object"):this._properties=y.validateProperties(t),this};dt.prototype._isValidRevenue=function(){return U(this._price)!=="number"?(y.log.error("Invalid revenue, need to set price field"),!1):!0};dt.prototype._toJSONObject=function(){var t=U(this._properties)==="object"?this._properties:{};return this._productId!==null&&(t[C.REVENUE_PRODUCT_ID]=this._productId),this._quantity!==null&&(t[C.REVENUE_QUANTITY]=this._quantity),this._price!==null&&(t[C.REVENUE_PRICE]=this._price),this._revenueType!==null&&(t[C.REVENUE_REVENUE_TYPE]=this._revenueType),t};var Sp=function e(t){return t?(t^Math.random()*16>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},Tp=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||""},Ip={getLanguage:Tp},hr={US:"US",EU:"EU"},uu=function(t){var r=C.EVENT_LOG_URL;switch(t){case hr.EU:r=C.EVENT_LOG_EU_URL;break;case hr.US:r=C.EVENT_LOG_URL;break}return r},wp=function(t){var r=C.DYNAMIC_CONFIG_URL;switch(t){case hr.EU:r=C.DYNAMIC_CONFIG_EU_URL;break;case hr.US:r=C.DYNAMIC_CONFIG_URL;break}return r},cu="8.21.9",er={apiEndpoint:C.EVENT_LOG_URL,batchEvents:!1,cookieExpiration:365,cookieName:"amplitude_id",sameSiteCookie:"Lax",cookieForceUpgrade:!1,deferInitialization:!1,disableCookies:!1,deviceIdFromUrlParam:!1,domain:"",eventUploadPeriodMillis:30*1e3,eventUploadThreshold:30,forceHttps:!0,includeFbclid:!1,includeGclid:!1,includeReferrer:!1,includeUtm:!1,ingestionMetadata:{sourceName:"",sourceVersion:""},language:Ip.getLanguage(),library:{name:"amplitude-js",version:cu},logLevel:"WARN",logAttributionCapturedEvent:!1,optOut:!1,onError:function(){},onExitPage:function(){},onNewSessionStart:function(){},plan:{branch:"",source:"",version:"",versionId:""},platform:"Web",savedMaxCount:1e3,saveEvents:!0,saveParamsReferrerOncePerSession:!0,secureCookie:!1,sessionTimeout:30*60*1e3,storage:C.STORAGE_DEFAULT,trackingOptions:{city:!0,country:!0,carrier:!0,device_manufacturer:!0,device_model:!0,dma:!0,ip_address:!0,language:!0,os_name:!0,os_version:!0,platform:!0,region:!0,version_name:!0},transport:C.TRANSPORT_HTTP,unsetParamsReferrerOnNewSession:!1,unsentKey:"amplitude_unsent",unsentIdentifyKey:"amplitude_unsent_identify",uploadBatchSize:100,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Cross-Origin-Resource-Policy":"cross-origin"},serverZone:hr.US,useDynamicConfig:!1,serverZoneBasedApi:!1,sessionId:null,partnerId:""},xp=function(){function e(){return qo(this,e),e.instance||(this.ingestionEndpoint=C.EVENT_LOG_URL,e.instance=this),e.instance}return Ko(e,[{key:"refresh",value:function(r,n,i){var o="https";!n&&H.location.protocol!=="https:"&&(o="http");var a=o+"://"+wp(r),s=this,u=!!H.XDomainRequest;if(u){var c=new H.XDomainRequest;c.open("GET",a,!0),c.onload=function(){var f=JSON.parse(c.responseText);s.ingestionEndpoint=f.ingestionEndpoint,i&&i()},c.onerror=function(){},c.ontimeout=function(){},c.onprogress=function(){},c.send()}else{var l=new XMLHttpRequest;l.open("GET",a,!0),l.onreadystatechange=function(){if(l.readyState===4&&l.status===200){var f=JSON.parse(l.responseText);s.ingestionEndpoint=f.ingestionEndpoint,i&&i()}},l.send()}}}]),e}(),Ys=new xp,k=function(t){!_n()&&!y.isWebWorkerEnvironment()&&y.log.warn("amplitude-js will not work in a non-browser environment. If you are planning to add Amplitude to a node environment, please use @amplitude/node"),this._instanceName=y.isEmptyString(t)?C.DEFAULT_INSTANCE:t.toLowerCase(),this._unsentEvents=[],this._unsentIdentifys=[],this.options=ke(ke({},er),{},{headers:ke({},er.headers),ingestionMetadata:ke({},er.ingestionMetadata),library:ke({},er.library),plan:ke({},er.plan),trackingOptions:ke({},er.trackingOptions)}),this._q=[],this._sending=!1,this._updateScheduled=!1,this._onInitCallbacks=[],this._onNewSessionStartCallbacks=[],this._eventId=0,this._identifyId=0,this._lastEventTime=null,this._newSession=!1,this._sequenceNumber=0,this._sessionId=null,this._isInitialized=!1,this._connector=null,this._userAgent=typeof navigator<"u"&&navigator&&navigator.userAgent||null,this._ua=new $s.default(this._userAgent).getResult()};k.prototype.Identify=ve;k.prototype.Revenue=dt;k.prototype.init=function(t,r,n,i){var o=this;if(U(t)!=="string"||y.isEmptyString(t)){y.log.error("Invalid apiKey. Please re-initialize with a valid apiKey");return}try{this._connector=Gs.getInstance(this._instanceName),Cp(this.options,n),(_n()||y.isWebWorkerEnvironment())&&H.Prototype!==void 0&&Array.prototype.toJSON&&(Ro(),y.log.warn("Prototype.js injected Array.prototype.toJSON. Deleting Array.prototype.toJSON to prevent double-stringify")),this.options.cookieName!==er.cookieName&&y.log.warn("The cookieName option is deprecated. We will be ignoring it for newer cookies"),this.options.serverZoneBasedApi&&(this.options.apiEndpoint=uu(this.options.serverZone)),this._refreshDynamicConfig(),this.options.apiKey=t,this._storageSuffix="_"+t+(this._instanceName===C.DEFAULT_INSTANCE?"":"_"+this._instanceName),this._storageSuffixV5=t.slice(0,6),this._oldCookiename=this.options.cookieName+this._storageSuffix,this._unsentKey=this.options.unsentKey+this._storageSuffix,this._unsentIdentifyKey=this.options.unsentIdentifyKey+this._storageSuffix,this._cookieName=C.COOKIE_PREFIX+"_"+this._storageSuffixV5,this.cookieStorage=new au().getStorage(this.options.disableCookies),this.cookieStorage.options({expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie}),this._metadataStorage=new cp({storageKey:this._cookieName,disableCookies:this.options.disableCookies,expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie,storage:this.options.storage});var a=!!this.cookieStorage.get(this._oldCookiename),s=!!this._metadataStorage.load();this._useOldCookie=!s&&a&&!this.options.cookieForceUpgrade;var u=s||a;if(this.options.deferInitialization&&!u){this._deferInitialization(t,r,n,i);return}this.options.domain=this.cookieStorage.options().domain,U(this.options.logLevel)==="string"&&y.setLogLevel(this.options.logLevel);var c=Np(this);this._apiPropertiesTrackingOptions=Object.keys(c).length>0?{tracking_options:c}:{},this.options.cookieForceUpgrade&&a&&(s||Op(this),this.cookieStorage.remove(this._oldCookiename)),Wo(this),this._pendingReadStorage=!0;var l=function(v){n&&n.deviceId&&!y.validateDeviceId(n.deviceId)&&(y.log.error('Invalid device ID rejected. Randomly generated UUID will be used instead of "'.concat(n.deviceId,'"')),delete n.deviceId),o.options.deviceId=o._getInitialDeviceId(n&&n.deviceId,v),o.options.userId=U(r)==="string"&&!y.isEmptyString(r)&&r||U(r)==="number"&&r.toString()||o.options.userId||null;var g=new Date().getTime(),E=!o._sessionId||!o._lastEventTime||g-o._lastEventTime>o.options.sessionTimeout||o.options.sessionId;E&&(o.options.unsetParamsReferrerOnNewSession&&o._unsetUTMParams(),o._newSession=!0,o._sessionId=o.options.sessionId||g,o.options.sessionId=void 0,o.options.saveParamsReferrerOncePerSession&&o._trackParamsAndReferrer()),o.options.saveParamsReferrerOncePerSession||o._trackParamsAndReferrer(),o.options.saveEvents&&(Ws(o._unsentEvents),Ws(o._unsentIdentifys)),o._lastEventTime=g,Lt(o),o._pendingReadStorage=!1,o._sendEventsIfReady();for(var A=0;A<o._onInitCallbacks.length;A++)o._onInitCallbacks[A](o);o._onInitCallbacks=[],o._isInitialized=!0,E&&o._runNewSessionStartCallbacks()};this.options.saveEvents&&(this._unsentEvents=this._loadSavedUnsentEvents(this.options.unsentKey).map(function(m){return{event:m}}).concat(this._unsentEvents),this._unsentIdentifys=this._loadSavedUnsentEvents(this.options.unsentIdentifyKey).map(function(m){return{event:m}}).concat(this._unsentIdentifys)),n&&n.onNewSessionStart&&this.onNewSessionStart(this.options.onNewSessionStart),l(),this.runQueuedFunctions(),U(i)==="function"&&i(this);var f=this.options.onExitPage;if(U(f)==="function"&&H.addEventListener&&!this.pageHandlersAdded){this.pageHandlersAdded=!0;var d=function(){var v=o.options.transport;o.setTransport(C.TRANSPORT_BEACON),f(),o.setTransport(v)};H.addEventListener("pagehide",function(){d()},!1)}this._connector.eventBridge.setEventReceiver(function(m){o._logEvent(m.eventType,m.eventProperties,m.userProperties)});var p=this._connector.identityStore.editIdentity();this.options.deviceId&&p.setDeviceId(this.options.deviceId),this.options.userId&&p.setUserId(this.options.userId),p.commit()}catch(m){y.log.error(m),n&&U(n.onError)==="function"&&n.onError(m)}};k.prototype._runNewSessionStartCallbacks=function(){for(var e=0;e<this._onNewSessionStartCallbacks.length;e++)this._onNewSessionStartCallbacks[e](this)};k.prototype.deleteLowerLevelDomainCookies=function(){var e=y.getHost(),t=this.options.domain&&this.options.domain[0]==="."?this.options.domain.slice(1):this.options.domain;if(!(!t||!y.isWebWorkerEnvironment())&&e!==t&&new RegExp(t+"$").test(e)){for(var r=e.split("."),n=t.split("."),i=r.length;i>n.length;--i){var o=r.slice(r.length-i).join(".");Se.set(this._cookieName,null,{domain:"."+o})}Se.set(this._cookieName,null,{})}};k.prototype._getInitialDeviceId=function(e,t){if(e)return e;if(this.options.deviceIdFromUrlParam){var r=this._getDeviceIdFromUrlParam(this._getUrlParams());if(r)return r}return this.options.deviceId?this.options.deviceId:t||Yo()};var Ws=function(t){for(var r=0;r<t.length;r++){var n=t[r].event.user_properties,i=t[r].event.event_properties,o=t[r].event.groups;t[r].event.user_properties=y.validateProperties(n),t[r].event.event_properties=y.validateProperties(i),t[r].event.groups=y.validateGroups(o)}};k.prototype._trackParamsAndReferrer=function(){var t,r,n,i;if(this.options.includeUtm&&(t=this._initUtmData()),this.options.includeReferrer&&(r=this._saveReferrer(this._getReferrer())),this.options.includeGclid&&(n=this._saveGclid(this._getUrlParams())),this.options.includeFbclid&&(i=this._saveFbclid(this._getUrlParams())),this.options.logAttributionCapturedEvent){var o=ke(ke(ke(ke({},t),r),n),i);Object.keys(o).length>0&&this.logEvent(C.ATTRIBUTION_EVENT,o)}};var Cp=function e(t,r){if(U(r)==="object"){var n=new Set(["headers"]),i=new Set(["eventUploadPeriodMillis"]),o=function(u){if(!!Object.prototype.hasOwnProperty.call(t,u)){var c=r[u],l=U(t[u]);if(!(u==="transport"&&!y.validateTransport(c))){if(u==="sessionId"&&c!==null){t[u]=y.validateSessionId(c)?c:null;return}else if(!y.validateInput(c,u+" option",l))return;l==="boolean"?t[u]=!!c:l==="string"&&!y.isEmptyString(c)||l==="number"&&(c>0||c===0&&i.has(u))||l==="function"?t[u]=c:l==="object"&&e(t[u],c)}}};for(var a in r)n.has(a)?t[a]=ke(ke({},t[a]),r[a]):Object.prototype.hasOwnProperty.call(r,a)&&o(a)}};k.prototype.runQueuedFunctions=function(){var e=this._q;this._q=[];for(var t=0;t<e.length;t++){var r=this[e[t][0]];U(r)==="function"&&r.apply(this,e[t].slice(1))}};k.prototype._apiKeySet=function(t){return y.isEmptyString(this.options.apiKey)?(y.log.error("Invalid apiKey. Please set a valid apiKey with init() before calling "+t),!1):!0};k.prototype._loadSavedUnsentEvents=function(t){var r=this._getFromStorage(ft,t),n=this._parseSavedUnsentEventsString(r,t);return this._setInStorage(ft,t,JSON.stringify(n)),n};k.prototype._parseSavedUnsentEventsString=function(t,r){if(y.isEmptyString(t))return[];if(U(t)==="string")try{var n=JSON.parse(t);if(U(n)==="array")return n}catch{}return y.log.error("Unable to load "+r+" events. Restart with a new empty queue."),[]};k.prototype.isNewSession=function(){return this._newSession};k.prototype.onInit=function(t){this._isInitialized?t(this):this._onInitCallbacks.push(t)};k.prototype.onNewSessionStart=function(t){this._onNewSessionStartCallbacks.push(t)};k.prototype.getSessionId=function(){return this._sessionId};k.prototype.nextEventId=function(){return this._eventId++,this._eventId};k.prototype.nextIdentifyId=function(){return this._identifyId++,this._identifyId};k.prototype.nextSequenceNumber=function(){return this._sequenceNumber++,this._sequenceNumber};k.prototype._unsentCount=function(){return this._unsentEvents.length+this._unsentIdentifys.length};k.prototype._sendEventsIfReady=function(){return this._unsentCount()===0?!1:this.options.batchEvents?this._unsentCount()>=this.options.eventUploadThreshold?(this.sendEvents(),!0):this.options.transport===C.TRANSPORT_BEACON?(this.sendEvents(),!0):(this._updateScheduled||(this._updateScheduled=!0,setTimeout(function(){this._updateScheduled=!1,this.sendEvents()}.bind(this),this.options.eventUploadPeriodMillis)),!1):(this.sendEvents(),!0)};k.prototype.clearStorage=function(){return this._metadataStorage.clear()};k.prototype._getFromStorage=function(t,r){return t.getItem(r+this._storageSuffix)};k.prototype._setInStorage=function(t,r,n){t.setItem(r+this._storageSuffix,n)};var Wo=function(t){if(!t._useOldCookie){var r=t._metadataStorage.load();U(r)==="object"&&jo(t,r);return}var n=t.cookieStorage.get(t._oldCookiename);if(U(n)==="object"){jo(t,n);return}},Op=function(t){var r=t.cookieStorage.get(t._oldCookiename);U(r)==="object"&&(jo(t,r),Lt(t))},jo=function(t,r){r.deviceId&&(t.options.deviceId=r.deviceId),r.userId&&(t.options.userId=r.userId),r.optOut!==null&&r.optOut!==void 0&&r.optOut!==!1&&(t.options.optOut=r.optOut),r.sessionId&&(t._sessionId=parseInt(r.sessionId,10)),r.lastEventTime&&(t._lastEventTime=parseInt(r.lastEventTime,10)),r.eventId&&(t._eventId=parseInt(r.eventId,10)),r.identifyId&&(t._identifyId=parseInt(r.identifyId,10)),r.sequenceNumber&&(t._sequenceNumber=parseInt(r.sequenceNumber,10))},Lt=function(t){var r={deviceId:t.options.deviceId,userId:t.options.userId,optOut:t.options.optOut,sessionId:t._sessionId,lastEventTime:t._lastEventTime,eventId:t._eventId,identifyId:t._identifyId,sequenceNumber:t._sequenceNumber};t._useOldCookie?t.cookieStorage.set(t.options.cookieName+t._storageSuffix,r):t._metadataStorage.save(r)};k.prototype._initUtmData=function(t,r){t=t||this._getUrlParams(),r=r||this.cookieStorage.get("__utmz");var n=lp(r,t);return Ri(this,n),n};k.prototype._unsetUTMParams=function(){var t=new ve;t.unset(C.REFERRER),t.unset(C.REFERRING_DOMAIN),t.unset(C.UTM_SOURCE),t.unset(C.UTM_MEDIUM),t.unset(C.UTM_CAMPAIGN),t.unset(C.UTM_TERM),t.unset(C.UTM_CONTENT),this.identify(t)};var Ri=function(t,r){if(!(U(r)!=="object"||Object.keys(r).length===0)){var n=new ve;for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n.setOnce("initial_"+i,r[i]),n.set(i,r[i]));t.identify(n)}};k.prototype._getReferrer=function(){var t=this._getReferrerFromUrlParam(this._getUrlParams());return t||(typeof document<"u"?document.referrer:"")};k.prototype._getUrlParams=function(){return H.location.search};k.prototype._saveGclid=function(t){var r=y.getQueryParam("gclid",t);if(!y.isEmptyString(r)){var n={gclid:r};return Ri(this,n),n}};k.prototype._saveFbclid=function(t){var r=y.getQueryParam("fbclid",t);if(!y.isEmptyString(r)){var n={fbclid:r};return Ri(this,n),n}};k.prototype._getDeviceIdFromUrlParam=function(t){return y.getQueryParam(C.AMP_DEVICE_ID_PARAM,t)};k.prototype._getReferrerFromUrlParam=function(t){return y.getQueryParam(C.AMP_REFERRER_PARAM,t)};k.prototype._getReferringDomain=function(t){if(y.isEmptyString(t))return null;var r=t.split("/");return r.length>=3?r[2]:null};k.prototype._saveReferrer=function(t){if(!y.isEmptyString(t)){var r={referrer:t,referring_domain:this._getReferringDomain(t)};return Ri(this,r),r}};k.prototype.saveEvents=function(){try{var t=JSON.stringify(this._unsentEvents.map(function(n){var i=n.event;return i}));this._setInStorage(ft,this.options.unsentKey,t)}catch{}try{var r=JSON.stringify(this._unsentIdentifys.map(function(n){return n.event}));this._setInStorage(ft,this.options.unsentIdentifyKey,r)}catch{}};k.prototype.setDomain=function(t){if(this._shouldDeferCall())return this._q.push(["setDomain"].concat(Array.prototype.slice.call(arguments,0)));if(!!y.validateInput(t,"domain","string"))try{this.cookieStorage.options({expirationDays:this.options.cookieExpiration,secure:this.options.secureCookie,domain:t,sameSite:this.options.sameSiteCookie}),this.options.domain=this.cookieStorage.options().domain,Wo(this),Lt(this)}catch(r){y.log.error(r)}};k.prototype.setUserId=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!!y.validateInput(r,"startNewSession","boolean")){if(this._shouldDeferCall())return this._q.push(["setUserId"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.userId=t!=null&&""+t||null,r&&(this.options.unsetParamsReferrerOnNewSession&&this._unsetUTMParams(),this._newSession=!0,this._sessionId=new Date().getTime(),this._runNewSessionStartCallbacks(),this.options.saveParamsReferrerOncePerSession&&this._trackParamsAndReferrer()),Lt(this),this._connector&&this._connector.identityStore.editIdentity().setUserId(this.options.userId).commit()}catch(n){y.log.error(n)}}};k.prototype.setGroup=function(e,t){if(this._shouldDeferCall())return this._q.push(["setGroup"].concat(Array.prototype.slice.call(arguments,0)));if(!(!this._apiKeySet("setGroup()")||!y.validateInput(e,"groupType","string")||y.isEmptyString(e))){var r={};r[e]=t;var n=new ve().set(e,t);this._logEvent(C.IDENTIFY_EVENT,null,null,n.userPropertiesOperations,r,null,null,null)}};k.prototype.setOptOut=function(t){if(this._shouldDeferCall())return this._q.push(["setOptOut"].concat(Array.prototype.slice.call(arguments,0)));if(!!y.validateInput(t,"enable","boolean"))try{this.options.optOut=t,Lt(this)}catch(r){y.log.error(r)}};k.prototype.setSessionId=function(t){if(!!y.validateInput(t,"sessionId","number"))try{this._sessionId=t,Lt(this)}catch(r){y.log.error(r)}};k.prototype.resetSessionId=function(){this.setSessionId(new Date().getTime())};k.prototype.regenerateDeviceId=function(){if(this._shouldDeferCall())return this._q.push(["regenerateDeviceId"].concat(Array.prototype.slice.call(arguments,0)));this.setDeviceId(Yo())};k.prototype.setDeviceId=function(t){if(this._shouldDeferCall())return this._q.push(["setDeviceId"].concat(Array.prototype.slice.call(arguments,0)));if(!!y.validateDeviceId(t))try{y.isEmptyString(t)||(this.options.deviceId=""+t,Lt(this),this._connector&&this._connector.identityStore.editIdentity().setDeviceId(this.options.deviceId).commit())}catch(r){y.log.error(r)}};k.prototype.setTransport=function(t){if(this._shouldDeferCall())return this._q.push(["setTransport"].concat(Array.prototype.slice.call(arguments,0)));!y.validateTransport(t)||(this.options.transport=t)};k.prototype.setUserProperties=function(t){if(this._shouldDeferCall())return this._q.push(["setUserProperties"].concat(Array.prototype.slice.call(arguments,0)));if(!(!this._apiKeySet("setUserProperties()")||!y.validateInput(t,"userProperties","object"))){var r=y.truncate(y.validateProperties(t));if(Object.keys(r).length!==0){var n=new ve;for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&n.set(i,r[i]);this.identify(n)}}};k.prototype.clearUserProperties=function(){if(this._shouldDeferCall())return this._q.push(["clearUserProperties"].concat(Array.prototype.slice.call(arguments,0)));if(!!this._apiKeySet("clearUserProperties()")){var t=new ve;t.clearAll(),this.identify(t)}};var Xo=function(t,r){for(var n=0;n<r._q.length;n++){var i=t[r._q[n][0]];U(i)==="function"&&i.apply(t,r._q[n].slice(1))}return t};k.prototype.identify=function(e,t,r,n){if(this._shouldDeferCall())return this._q.push(["identify"].concat(Array.prototype.slice.call(arguments,0)));if(!this._apiKeySet("identify()")){we(t,r,0,"No request sent",{reason:"API key is not set"});return}if(U(e)==="object"&&Object.prototype.hasOwnProperty.call(e,"_q")&&(e=Xo(new ve,e)),e instanceof ve){if(Object.keys(e.userPropertiesOperations).length>0)return this._logEvent(C.IDENTIFY_EVENT,null,null,e.userPropertiesOperations,null,null,null,t,r,n);we(t,r,0,"No request sent",{reason:"No user property operations"})}else y.log.error("Invalid identify input type. Expected Identify object but saw "+U(e)),we(t,r,0,"No request sent",{reason:"Invalid identify input type"})};k.prototype.groupIdentify=function(e,t,r,n,i,o){if(this._shouldDeferCall())return this._q.push(["groupIdentify"].concat(Array.prototype.slice.call(arguments,0)));if(!this._apiKeySet("groupIdentify()")){we(n,i,0,"No request sent",{reason:"API key is not set"});return}if(!y.validateInput(e,"group_type","string")||y.isEmptyString(e)){we(n,i,0,"No request sent",{reason:"Invalid group type"});return}if(t==null){we(n,i,0,"No request sent",{reason:"Invalid group name"});return}if(U(r)==="object"&&Object.prototype.hasOwnProperty.call(r,"_q")&&(r=Xo(new ve,r)),r instanceof ve){if(Object.keys(r.userPropertiesOperations).length>0)return this._logEvent(C.GROUP_IDENTIFY_EVENT,null,null,null,Hr({},e,t),r.userPropertiesOperations,null,n,i,o);we(n,i,0,"No request sent",{reason:"No group property operations"})}else y.log.error("Invalid identify input type. Expected Identify object but saw "+U(r)),we(n,i,0,"No request sent",{reason:"Invalid identify input type"})};k.prototype.setVersionName=function(t){if(this._shouldDeferCall())return this._q.push(["setVersionName"].concat(Array.prototype.slice.call(arguments,0)));!y.validateInput(t,"versionName","string")||(this.options.versionName=t)};k.prototype._logEvent=function(t,r,n,i,o,a,s,u,c,l){if(Wo(this),!t){we(u,c,0,"No request sent",{reason:"Missing eventType"});return}if(this.options.optOut){we(u,c,0,"No request sent",{reason:"optOut is set to true"});return}try{var f;t===C.IDENTIFY_EVENT||t===C.GROUP_IDENTIFY_EVENT?f=this.nextIdentifyId():f=this.nextEventId();var d=this.nextSequenceNumber(),p=U(s)==="number"?s:new Date().getTime();l?this._sessionId=-1:(!this._sessionId||!this._lastEventTime||p-this._lastEventTime>this.options.sessionTimeout)&&(this._sessionId=p,this._runNewSessionStartCallbacks()),this._lastEventTime=p,Lt(this);var m=this._ua.browser.name,v=this._ua.browser.major,g=this._ua.device.model||this._ua.os.name,E=this._ua.device.vendor;i=i||{};var A=ke({},this._apiPropertiesTrackingOptions);n=ke(ke({},n||{}),A),r=r||{},o=o||{},a=a||{};var D={device_id:this.options.deviceId,user_id:this.options.userId,timestamp:p,event_id:f,session_id:this._sessionId||-1,event_type:t,version_name:this.options.versionName||null,platform:mr(this,"platform")?this.options.platform:null,os_name:mr(this,"os_name")&&m||null,os_version:mr(this,"os_version")&&v||null,device_model:mr(this,"device_model")&&g||null,device_manufacturer:mr(this,"device_manufacturer")&&E||null,language:mr(this,"language")?this.options.language:null,api_properties:n,event_properties:y.truncate(y.validateProperties(r)),user_properties:y.truncate(y.validateProperties(i)),uuid:Sp(),library:this.options.library,sequence_number:d,groups:y.truncate(y.validateGroups(o)),group_properties:y.truncate(y.validateProperties(a)),user_agent:this._userAgent,partner_id:this.options.partnerId||null};return Ap(this)&&(D.plan={branch:this.options.plan.branch||void 0,source:this.options.plan.source||void 0,version:this.options.plan.version||void 0,versionId:this.options.plan.versionId||void 0}),Rp(this)&&(D.ingestion_metadata={source_name:this.options.ingestionMetadata.sourceName||void 0,source_version:this.options.ingestionMetadata.sourceVersion||void 0}),t===C.IDENTIFY_EVENT||t===C.GROUP_IDENTIFY_EVENT?(this._unsentIdentifys.push({event:D,callback:u,errorCallback:c}),this._limitEventsQueued(this._unsentIdentifys)):(this._unsentEvents.push({event:D,callback:u,errorCallback:c}),this._limitEventsQueued(this._unsentEvents)),this.options.saveEvents&&this.saveEvents(),this._sendEventsIfReady(),t===C.IDENTIFY_EVENT&&this._connector&&this._connector.identityStore.editIdentity().updateUserProperties(y.truncate(y.validateProperties(i))).commit(),f}catch(h){y.log.error(h)}};var Ap=function(t){return t.options.plan&&(t.options.plan.source||t.options.plan.branch||t.options.plan.version||t.options.plan.versionId)},Rp=function(t){return t.options.ingestionMetadata&&(t.options.ingestionMetadata.sourceName||t.options.ingestionMetadata.sourceVersion)},mr=function(t,r){return!!t.options.trackingOptions[r]},Np=function(t){for(var r=["city","country","dma","ip_address","region"],n={},i=0;i<r.length;i++){var o=r[i];mr(t,o)||(n[o]=!1)}return n};k.prototype._limitEventsQueued=function(t){if(t.length>this.options.savedMaxCount){var r=t.splice(0,t.length-this.options.savedMaxCount);r.forEach(function(n){we(n.callback,n.errorCallback,0,"No request sent",{reason:"Event dropped because options.savedMaxCount exceeded. User may be offline or have a content blocker"})})}};k.prototype.logEvent=function(t,r,n,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this._shouldDeferCall()?this._q.push(["logEvent"].concat(Array.prototype.slice.call(arguments,0))):this.logEventWithTimestamp(t,r,null,n,i,o)};k.prototype.logEventWithTimestamp=function(t,r,n,i,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;return this._shouldDeferCall()?this._q.push(["logEventWithTimestamp"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logEvent()")?y.validateInput(t,"eventType","string")?y.isEmptyString(t)?(we(i,o,0,"No request sent",{reason:"Missing eventType"}),-1):(y.validateInput(a,"outOfSession","boolean")||we(i,o,0,"No request sent",{reason:"Invalid outOfSession value"}),this._logEvent(t,r,null,null,null,null,n,i,o,a)):(we(i,o,0,"No request sent",{reason:"Invalid type for eventType"}),-1):(we(i,o,0,"No request sent",{reason:"API key not set"}),-1)};k.prototype.logEventWithGroups=function(e,t,r,n,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;return this._shouldDeferCall()?this._q.push(["logEventWithGroups"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logEventWithGroups()")?y.validateInput(e,"eventType","string")?(y.validateInput(o,"outOfSession","boolean")||we(event.callback,event.errorCallback,0,"No request sent",{reason:"Invalid outOfSession value"}),this._logEvent(e,t,null,null,r,null,null,n,i,o)):(we(event.callback,event.errorCallback,0,"No request sent",{reason:"Invalid type for eventType"}),-1):(we(event.callback,event.errorCallback,0,"No request sent",{reason:"API key not set"}),-1)};var Xs=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},we=function(t,r,n,i,o){U(t)==="function"&&t(n,i,o),U(r)==="function"&&r(n,i,o)};k.prototype.logRevenueV2=function(t){if(this._shouldDeferCall())return this._q.push(["logRevenueV2"].concat(Array.prototype.slice.call(arguments,0)));if(!!this._apiKeySet("logRevenueV2()"))if(U(t)==="object"&&Object.prototype.hasOwnProperty.call(t,"_q")&&(t=Xo(new dt,t)),t instanceof dt){if(t&&t._isValidRevenue())return this.logEvent(C.REVENUE_EVENT,t._toJSONObject())}else y.log.error("Invalid revenue input type. Expected Revenue object but saw "+U(t))};k.prototype.logRevenue=function(t,r,n){return this._shouldDeferCall()?this._q.push(["logRevenue"].concat(Array.prototype.slice.call(arguments,0))):!this._apiKeySet("logRevenue()")||!Xs(t)||r!==void 0&&!Xs(r)?-1:this._logEvent(C.REVENUE_EVENT,{},{productId:n,special:"revenue_amount",quantity:r||1,price:t},null,null,null,null,null)};k.prototype._logErrorsOnEvents=function(t,r,n,i){for(var o=["_unsentEvents","_unsentIdentifys"],a=0;a<o.length;a++)for(var s=o[a],u=s==="_unsentEvents"?t:r,c=0;c<this[s].length;c++){var l=this[s][c];l.event.event_id<=u&&l.errorCallback&&l.errorCallback(n,i)}};k.prototype.removeEvents=function(t,r,n,i){Zs(this,"_unsentEvents",t,n,i),Zs(this,"_unsentIdentifys",r,n,i)};var Zs=function(t,r,n,i,o){if(!(n<0)){for(var a=[],s=0;s<t[r].length;s++){var u=t[r][s];u.event.event_id>n?a.push(u):u.callback&&u.callback(i,o)}t[r]=a}};k.prototype.sendEvents=function(){if(!this._apiKeySet("sendEvents()")){this.removeEvents(1/0,1/0,0,"No request sent",{reason:"API key not set"});return}if(this.options.optOut){this.removeEvents(1/0,1/0,0,"No request sent",{reason:"Opt out is set to true"});return}if(this._unsentCount()!==0){if(this.options.transport!==C.TRANSPORT_BEACON){if(this._sending)return;this._sending=!0}var t=this.options.forceHttps||H.location.protocol==="https:"?"https":"http",r=t+"://"+this.options.apiEndpoint,n=Math.min(this._unsentCount(),this.options.uploadBatchSize),i=this._mergeEventsAndIdentifys(n),o=i.maxEventId,a=i.maxIdentifyId,s=JSON.stringify(i.eventsToSend.map(function(m){var v=m.event;return v})),u=new Date().getTime(),c={client:this.options.apiKey,e:s,v:C.API_VERSION,upload_time:u,checksum:(0,Js.default)(C.API_VERSION+this.options.apiKey+s+u)};if(this.options.transport===C.TRANSPORT_BEACON&&typeof navigator<"u"){var l=navigator.sendBeacon(r,new URLSearchParams(c));l?(this.removeEvents(o,a,200,"success"),this.options.saveEvents&&this.saveEvents()):this._logErrorsOnEvents(o,a,0,"");return}var f=this;try{new su(r,c,this.options.headers).send(function(m,v){f._sending=!1;try{m===200?(f.removeEvents(o,a,m,v),f.options.saveEvents&&f.saveEvents(),f._sendEventsIfReady()):(f._logErrorsOnEvents(o,a,m,v),m===413&&(f.options.uploadBatchSize===1&&f.removeEvents(o,a,m,v),f.options.uploadBatchSize=Math.ceil(n/2),f.sendEvents()))}catch{}})}catch(m){var d=0,p="Request failed to send";y.log.error(p),f._logErrorsOnEvents(o,a,d,p),f.removeEvents(o,a,d,p,{reason:m.message})}}};k.prototype._mergeEventsAndIdentifys=function(t){for(var r=[],n=0,i=-1,o=0,a=-1;r.length<t;){var s=void 0,u=o>=this._unsentIdentifys.length,c=n>=this._unsentEvents.length;if(c&&u){y.log.error("Merging Events and Identifys, less events and identifys than expected");break}else u?(s=this._unsentEvents[n++],i=s.event.event_id):c?(s=this._unsentIdentifys[o++],a=s.event.event_id):!("sequence_number"in this._unsentEvents[n].event)||this._unsentEvents[n].event.sequence_number<this._unsentIdentifys[o].event.sequence_number?(s=this._unsentEvents[n++],i=s.event.event_id):(s=this._unsentIdentifys[o++],a=s.event.event_id);r.push(s)}return{eventsToSend:r,maxEventId:i,maxIdentifyId:a}};k.prototype.setGlobalUserProperties=function(t){this.setUserProperties(t)};k.prototype.__VERSION__=function(){return this.options.library.version};k.prototype.setLibrary=function(t,r){t!==null&&typeof t<"u"&&(this.options.library.name=t),r!==null&&typeof r<"u"&&(this.options.library.version=r)};k.prototype._shouldDeferCall=function(){return this._pendingReadStorage||this._initializationDeferred};k.prototype._deferInitialization=function(){this._initializationDeferred=!0,this._q.push(["init"].concat(Array.prototype.slice.call(arguments,0)))};k.prototype.enableTracking=function(){this._initializationDeferred=!1,Lt(this),this.runQueuedFunctions()};k.prototype._refreshDynamicConfig=function(){this.options.useDynamicConfig&&Ys.refresh(this.options.serverZone,this.options.forceHttps,function(){this.options.apiEndpoint=Ys.ingestionEndpoint}.bind(this))};k.prototype.getDeviceId=function(){return this.options.deviceId};k.prototype.getUserId=function(){return this.options.userId};k.prototype.setMinTimeBetweenSessionsMillis=function(t){if(!!y.validateInput(t,"timeInMillis","number")){if(this._shouldDeferCall())return this._q.push(["setMinTimeBetweenSessionsMillis"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.sessionTimeout=t}catch(r){y.log.error(r)}}};k.prototype.setEventUploadThreshold=function(t){if(!!y.validateInput(t,"eventUploadThreshold","number")){if(this._shouldDeferCall())return this._q.push(["setEventUploadThreshold"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.eventUploadThreshold=t}catch(r){y.log.error(r)}}};k.prototype.setUseDynamicConfig=function(t){if(!!y.validateInput(t,"useDynamicConfig","boolean")){if(this._shouldDeferCall())return this._q.push(["setUseDynamicConfig"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.useDynamicConfig=t,this._refreshDynamicConfig()}catch(r){y.log.error(r)}}};k.prototype.setServerZone=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(t!==hr.EU&&t!==hr.US||!y.validateInput(r,"serverZoneBasedApi","boolean"))){if(this._shouldDeferCall())return this._q.push(["setServerZone"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.serverZone=t,this.options.serverZoneBasedApi=r,r&&(this.options.apiEndpoint=uu(this.options.serverZone))}catch(n){y.log.error(n)}}};k.prototype.setServerUrl=function(t){if(!!y.validateInput(t,"serverUrl","string")){if(this._shouldDeferCall())return this._q.push(["setServerUrl"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.apiEndpoint=t}catch(r){y.log.error(r)}}};var Q=function(){this.options=ke({},er),this._q=[],this._instances={}};Q.prototype.Identify=ve;Q.prototype.Revenue=dt;Q.prototype.getInstance=function(t){t=y.isEmptyString(t)?C.DEFAULT_INSTANCE:t.toLowerCase();var r=this._instances[t];return r===void 0&&(r=new k(t),this._instances[t]=r),r};Q.prototype.init=function(t,r,n,i){this.getInstance().init(t,r,n,function(o){this.options=o.options,U(i)==="function"&&i(o)}.bind(this))},Q.prototype.isNewSession=function(){return this.getInstance().isNewSession()},Q.prototype.getSessionId=function(){return this.getInstance().getSessionId()},Q.prototype.nextEventId=function(){return this.getInstance().nextEventId()},Q.prototype.nextIdentifyId=function(){return this.getInstance().nextIdentifyId()},Q.prototype.nextSequenceNumber=function(){return this.getInstance().nextSequenceNumber()},Q.prototype.saveEvents=function(){this.getInstance().saveEvents()},Q.prototype.setDomain=function(t){this.getInstance().setDomain(t)},Q.prototype.setUserId=function(t){this.getInstance().setUserId(t)},Q.prototype.setGroup=function(e,t){this.getInstance().setGroup(e,t)},Q.prototype.setOptOut=function(t){this.getInstance().setOptOut(t)},Q.prototype.regenerateDeviceId=function(){this.getInstance().regenerateDeviceId()},Q.prototype.setDeviceId=function(t){this.getInstance().setDeviceId(t)},Q.prototype.setUserProperties=function(t){this.getInstance().setUserProperties(t)},Q.prototype.clearUserProperties=function(){this.getInstance().clearUserProperties()},Q.prototype.identify=function(e,t){this.getInstance().identify(e,t)},Q.prototype.setVersionName=function(t){this.getInstance().setVersionName(t)},Q.prototype.logEvent=function(t,r,n){return this.getInstance().logEvent(t,r,n)},Q.prototype.logEventWithGroups=function(e,t,r,n){return this.getInstance().logEventWithGroups(e,t,r,n)},Q.prototype.logRevenueV2=function(t){return this.getInstance().logRevenueV2(t)},Q.prototype.logRevenue=function(t,r,n){return this.getInstance().logRevenue(t,r,n)},Q.prototype.removeEvents=function(t,r){this.getInstance().removeEvents(t,r)},Q.prototype.sendEvents=function(t){this.getInstance().sendEvents(t)},Q.prototype.setGlobalUserProperties=function(t){this.getInstance().setUserProperties(t)};Q.prototype.__VERSION__=cu;var Oi=typeof H<"u"&&H.amplitude||{},Pt=new Q;Pt._q=Oi._q||[];for(Ci in Oi._iq)Object.prototype.hasOwnProperty.call(Oi._iq,Ci)&&(Pt.getInstance(Ci)._q=Oi._iq[Ci]._q||[]);var Ci;var ne={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},rt=console,tr={};Object.keys(ne).forEach(function(e){tr[e]=rt[e]});var Tn="Datadog Browser SDK:",L={debug:tr.debug.bind(rt,Tn),log:tr.log.bind(rt,Tn),info:tr.info.bind(rt,Tn),warn:tr.warn.bind(rt,Tn),error:tr.error.bind(rt,Tn)},Et="https://docs.datadoghq.com";function Ni(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return e.apply(void 0,r)}catch(i){L.error(t,i)}}}function $e(e){return e!==0&&Math.random()*100<=e}function gr(e,t){return+e.toFixed(t)}function rr(e){return pt(e)&&e>=0&&e<=100}function pt(e){return typeof e=="number"}var ie=1e3,ue=60*ie,Jo=60*ue,kp=24*Jo,Lp=365*kp;function In(e){return{relative:e,timeStamp:Pp(e)}}function lu(e){return{relative:_r(e),timeStamp:e}}function Pp(e){var t=Ke()-performance.now();return t>wn()?Math.round(nr(t,e)):Dp(e)}function fu(){return Math.round(Ke()-nr(wn(),performance.now()))}function X(e){return pt(e)?gr(e*1e6,0):e}function Ke(){return new Date().getTime()}function j(){return Ke()}function Ce(){return performance.now()}function ee(){return{relative:Ce(),timeStamp:j()}}function ki(){return{relative:0,timeStamp:wn()}}function oe(e,t){return t-e}function nr(e,t){return e+t}function _r(e){return e-wn()}function Dp(e){return Math.round(nr(wn(),e))}function du(e){return e<Lp}var Zo;function wn(){return Zo===void 0&&(Zo=performance.timing.navigationStart),Zo}var Ye=1024,$o=1024*Ye,Up=/[^\u0000-\u007F]/;function jr(e){return Up.test(e)?window.TextEncoder!==void 0?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function pu(e){for(var t=e.reduce(function(s,u){return s+u.length},0),r=new Uint8Array(t),n=0,i=0,o=e;i<o.length;i++){var a=o[i];r.set(a,n),n+=a.length}return r}function le(e,t){return e.indexOf(t)!==-1}function ir(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach(function(n){return t.push(n)});else for(var r=0;r<e.length;r++)t.push(e[r]);return t}function Ve(e,t){for(var r=0;r<e.length;r+=1){var n=e[r];if(t(n,r))return n}}function mu(e,t){for(var r=e.length-1;r>=0;r-=1){var n=e[r];if(t(n,r,e))return n}}function vu(e,t){Array.prototype.forEach.call(e,t)}function bt(e){return Object.keys(e).map(function(t){return e[t]})}function qr(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function St(e,t){return e.slice(0,t.length)===t}function hu(e,t){return e.slice(-t.length)===t}function N(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach(function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}),e}function Dt(e){return N({},e)}function Ut(e,t){return Object.keys(e).some(function(r){return e[r]===t})}function We(e){return Object.keys(e).length===0}function gu(e,t){for(var r={},n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];r[o]=t(e[o])}return r}function Xe(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,typeof e!="object"&&(typeof self=="object"?e=self:typeof window=="object"?e=window:e={}),e}function nt(e,t){var r=Xe(),n;return r.Zone&&typeof r.Zone.__symbol__=="function"&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}var Mp=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},Li,_u=!1;function yu(e){Li=e}function Qo(e){_u=e}function ea(e,t,r){var n=r.value;r.value=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=Li?O(n):n;return a.apply(this,i)}}function O(e){return function(){return it(e,this,arguments)}}function it(e,t,r){try{return e.apply(t,r)}catch(n){if(Pi(n),Li)try{Li(n)}catch(i){Pi(i)}}}function Pi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];_u&&L.error.apply(L,Mp(["[MONITOR]"],e,!1))}function J(e,t){return nt(Xe(),"setTimeout")(O(e),t)}function Le(e){nt(Xe(),"clearTimeout")(e)}function ot(e,t){return nt(Xe(),"setInterval")(O(e),t)}function Tt(e){nt(Xe(),"clearInterval")(e)}var M=function(){function e(t){this.onFirstSubscribe=t,this.observers=[]}return e.prototype.subscribe=function(t){var r=this;return this.observers.push(t),this.observers.length===1&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),{unsubscribe:function(){r.observers=r.observers.filter(function(n){return t!==n}),!r.observers.length&&r.onLastUnsubscribe&&r.onLastUnsubscribe()}}},e.prototype.notify=function(t){this.observers.forEach(function(r){return r(t)})},e}();function Di(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new M(function(r){var n=e.map(function(i){return i.subscribe(function(o){return r.notify(o)})});return function(){return n.forEach(function(i){return i.unsubscribe()})}})}function Pe(e,t,r){var n=r&&r.leading!==void 0?r.leading:!0,i=r&&r.trailing!==void 0?r.trailing:!0,o=!1,a,s;return{throttled:function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];if(o){a=u;return}n?e.apply(void 0,u):a=u,o=!0,s=J(function(){i&&a&&e.apply(void 0,a),o=!1,a=void 0},t)},cancel:function(){Le(s),o=!1,a=void 0}}}function F(){}function ae(e){return e?(parseInt(e,10)^Math.random()*16>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,ae)}var Ui=/([\w-]+)\s*=\s*([^;]+)/g;function or(e,t){for(Ui.lastIndex=0;;){var r=Ui.exec(e);if(r){if(r[1]===t)return r[2]}else break}}function Eu(e){var t=new Map;for(Ui.lastIndex=0;;){var r=Ui.exec(e);if(r)t.set(r[1],r[2]);else break}return t}function Mi(e,t,r){r===void 0&&(r="");var n=e.charCodeAt(t-1),i=n>=55296&&n<=56319,o=i?t+1:t;return e.length<=o?e:"".concat(e.slice(0,o)).concat(r)}function bu(){return ta()===0}function Su(){return ta()===1}function Tu(){return ta()===2}var Fi;function ta(){return Fi??(Fi=Fp())}function Fp(e){var t;e===void 0&&(e=window);var r=e.navigator.userAgent;return e.chrome||/HeadlessChrome/.test(r)?1:((t=e.navigator.vendor)===null||t===void 0?void 0:t.indexOf("Apple"))===0||/safari/i.test(r)&&!/chrome|android/i.test(r)?2:e.document.documentMode?0:3}function yr(e,t,r,n){var i=new Date;i.setTime(i.getTime()+r);var o="expires=".concat(i.toUTCString()),a=n&&n.crossSite?"none":"strict",s=n&&n.domain?";domain=".concat(n.domain):"",u=n&&n.secure?";secure":"",c=n&&n.partitioned?";partitioned":"";document.cookie="".concat(e,"=").concat(t,";").concat(o,";path=/;samesite=").concat(a).concat(s).concat(u).concat(c)}function xn(e){return or(document.cookie,e)}var ra;function at(e){return ra||(ra=Eu(document.cookie)),ra.get(e)}function ia(e,t){yr(e,"",0,t)}function oa(e){if(document.cookie===void 0||document.cookie===null)return!1;try{var t="dd_cookie_test_".concat(ae()),r="test";yr(t,r,ue,e);var n=xn(t)===r;return ia(t,e),n}catch(i){return L.error(i),!1}}var na;function Iu(){if(na===void 0){for(var e="dd_site_test_".concat(ae()),t="test",r=window.location.hostname.split("."),n=r.pop();r.length&&!xn(e);)n="".concat(r.pop(),".").concat(n),yr(e,t,ie,{domain:n});ia(e,{domain:n}),na=n}return na}var Mt="_dd_s";var Be=4*Jo,Vi=15*ue;var wu=/^([a-zA-Z]+)=([a-z0-9-]+)$/,aa="&",Vp="1";function It(){return{isExpired:Vp}}function Cn(e){return We(e)}function Bi(e){return!Cn(e)}function Kr(e){return e.isExpired!==void 0||!Bp(e)}function Bp(e){return(e.created===void 0||Ke()-Number(e.created)<Be)&&(e.expire===void 0||Ke()<Number(e.expire))}function zi(e){e.expire=String(Ke()+Vi)}function On(e){return qr(e).map(function(t){var r=t[0],n=t[1];return"".concat(r,"=").concat(n)}).join(aa)}function Gi(e){var t={};return zp(e)&&e.split(aa).forEach(function(r){var n=wu.exec(r);if(n!==null){var i=n[1],o=n[2];t[i]=o}}),t}function zp(e){return!!e&&(e.indexOf(aa)!==-1||wu.test(e))}var Gp="_dd",Hp="_dd_r",jp="_dd_l",qp="rum",Kp="logs";function xu(e){var t=at(Mt);if(!t){var r=at(Gp),n=at(Hp),i=at(jp),o={};r&&(o.id=r),i&&/^[01]$/.test(i)&&(o[Kp]=i),n&&/^[012]$/.test(n)&&(o[qp]=n),Bi(o)&&(zi(o),e.persistSession(o))}}function Cu(e){var t=Zp(e);return oa(t)?{type:"Cookie",cookieOptions:t}:void 0}function Ou(e){var t={isLockEnabled:Su(),persistSession:Yp(e),retrieveSession:Xp,expireSession:function(){return Wp(e)}};return xu(t),t}function Yp(e){return function(t){yr(Mt,On(t),Vi,e)}}function Wp(e){yr(Mt,On(It()),Be,e)}function Xp(){var e=xn(Mt);return Gi(e)}function Zp(e){var t={};return t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=Iu()),t}var Jp="_dd_test_";function Au(){try{var e=ae(),t="".concat(Jp).concat(e);localStorage.setItem(t,e);var r=localStorage.getItem(t);return localStorage.removeItem(t),e===r?{type:"LocalStorage"}:void 0}catch{return}}function Ru(){return{isLockEnabled:!1,persistSession:Nu,retrieveSession:$p,expireSession:Qp}}function Nu(e){localStorage.setItem(Mt,On(e))}function $p(){var e=localStorage.getItem(Mt);return Gi(e)}function Qp(){Nu(It())}var em=10,tm=100,Lu=[],ji;function ar(e,t,r){var n;r===void 0&&(r=0);var i=t.isLockEnabled,o=t.persistSession,a=t.expireSession,s=function(d){return o(N({},d,{lock:c}))},u=function(){var d=t.retrieveSession(),p=d.lock;return d.lock&&delete d.lock,{session:d,lock:p}};if(ji||(ji=e),e!==ji){Lu.push(e);return}if(i&&r>=tm){ku(t);return}var c,l=u();if(i){if(l.lock){Hi(e,t,r);return}if(c=ae(),s(l.session),l=u(),l.lock!==c){Hi(e,t,r);return}}var f=e.process(l.session);if(i&&(l=u(),l.lock!==c)){Hi(e,t,r);return}if(f&&(Kr(f)?a():(zi(f),i?s(f):o(f))),i&&!(f&&Kr(f))){if(l=u(),l.lock!==c){Hi(e,t,r);return}o(l.session),f=l.session}(n=e.after)===null||n===void 0||n.call(e,f||l.session),ku(t)}function Hi(e,t,r){J(function(){ar(e,t,r+1)},em)}function ku(e){ji=void 0;var t=Lu.shift();t&&ar(t,e)}var Pu=ie;function Du(e){var t=Cu(e);return!t&&e.allowFallbackToLocalStorage&&(t=Au()),t}function Uu(e,t,r){var n=new M,i=new M,o=new M,a=e.type==="Cookie"?Ou(e.cookieOptions):Ru(),s=a.expireSession,u=ot(m,Pu),c;g();var l=Pe(function(){ar({process:function(b){if(!Cn(b)){var z=v(b);return E(z),z}},after:function(b){Bi(b)&&!A()&&R(b),c=b}},a)},Pu),f=l.throttled,d=l.cancel;function p(){ar({process:function(b){return A()?v(b):void 0}},a)}function m(){ar({process:function(b){return Kr(b)?It():void 0},after:v},a)}function v(b){return Kr(b)&&(b=It()),A()&&(D(b)?h():(o.notify({previousState:c,newState:b}),c=b)),b}function g(){ar({process:function(b){if(Cn(b))return It()},after:function(b){c=b}},a)}function E(b){if(Cn(b))return!1;var z=r(b[t]),Z=z.trackingType,W=z.isTracked;b[t]=Z,delete b.isExpired,W&&!b.id&&(b.id=ae(),b.created=String(Ke()))}function A(){return c[t]!==void 0}function D(b){return c.id!==b.id||c[t]!==b[t]}function h(){c=It(),i.notify()}function R(b){c=b,n.notify()}function _(b){ar({process:function(z){return N({},z,b)},after:v},a)}return{expandOrRenewSession:f,expandSession:p,getSession:function(){return c},renewObservable:n,expireObservable:i,sessionStateUpdateObservable:o,restartSession:g,expire:function(){d(),s(),v(It())},stop:function(){Tt(u)},updateSessionState:_}}var An={GRANTED:"granted",NOT_GRANTED:"not-granted"};function Rn(e){var t=new M;return{tryToInit:function(r){e||(e=r)},update:function(r){e=r,t.notify()},isGranted:function(){return e===An.GRANTED},observable:t}}function Qe(e,t,r){if(typeof e!="object"||e===null)return JSON.stringify(e);var n=Er(Object.prototype),i=Er(Array.prototype),o=Er(Object.getPrototypeOf(e)),a=Er(e);try{return JSON.stringify(e,t,r)}catch{return"<error: unable to serialize object>"}finally{n(),i(),o(),a()}}function Er(e){var t=e,r=t.toJSON;return r?(delete t.toJSON,function(){t.toJSON=r}):F}function Yr(e){return Nn(e,location.href).href}function Fu(e){try{return!!Nn(e)}catch{return!1}}function Vu(e){var t=Nn(e).pathname;return t[0]==="/"?t:"/".concat(t)}function Nn(e,t){var r=rm();if(r)try{return t!==void 0?new r(e,t):new r(e)}catch(a){throw new Error("Failed to construct URL: ".concat(String(a)," ").concat(Qe({url:e,base:t})))}if(t===void 0&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var n=document,i=n.createElement("a");if(t!==void 0){n=document.implementation.createHTMLDocument("");var o=n.createElement("base");o.href=t,n.head.appendChild(o),n.body.appendChild(i)}return i.href=e,i}var Mu=URL,qi;function rm(){if(qi===void 0)try{var e=new Mu("http://test/path");qi=e.href==="http://test/path"}catch{qi=!1}return qi?Mu:void 0}var kn="datad0g.com",Bu="dd0g-gov.com",st="datadoghq.com",sa="datadoghq.eu",ua="ddog-gov.com",Ki="pci.browser-intake-datadoghq.com";function Wr(e,t,r){var n=nm(e,t);return{build:function(i,o){var a=om(e,t,r,i,o);return n(a)},urlPrefix:n(""),trackType:t}}function nm(e,t){var r="/api/v2/".concat(t),n=e.proxy;if(typeof n=="string"){var i=Yr(n);return function(a){return"".concat(i,"?ddforward=").concat(encodeURIComponent("".concat(r,"?").concat(a)))}}if(typeof n=="function")return function(a){return n({path:r,parameters:a})};var o=im(t,e);return function(a){return"https://".concat(o).concat(r,"?").concat(a)}}function im(e,t){var r=t.site,n=r===void 0?st:r,i=t.internalAnalyticsSubdomain;if(e==="logs"&&t.usePciIntake&&n===st)return Ki;if(i&&n===st)return"".concat(i,".").concat(st);if(n===Bu)return"http-intake.logs.".concat(n);var o=n.split("."),a=o.pop();return"browser-intake-".concat(o.join("-"),".").concat(a)}function om(e,t,r,n,i){var o=e.clientToken,a=e.internalAnalyticsSubdomain,s=i.retry,u=i.encoding,c=["sdk_version:".concat("5.23.0"),"api:".concat(n)].concat(r);s&&c.push("retry_count:".concat(s.count),"retry_after:".concat(s.lastFailureStatus));var l=["ddsource=browser","ddtags=".concat(encodeURIComponent(c.join(","))),"dd-api-key=".concat(o),"dd-evp-origin-version=".concat(encodeURIComponent("5.23.0")),"dd-evp-origin=browser","dd-request-id=".concat(ae())];return u&&l.push("dd-evp-encoding=".concat(u)),t==="rum"&&l.push("batch_time=".concat(j())),a&&l.reverse(),l.join("&")}var am=200;function zu(e){var t=e.env,r=e.service,n=e.version,i=e.datacenter,o=[];return t&&o.push(Yi("env",t)),r&&o.push(Yi("service",r)),n&&o.push(Yi("version",n)),i&&o.push(Yi("datacenter",i)),o}var sm=/[^a-z0-9_:./-]/;function Yi(e,t){var r=am-e.length-1;(t.length>r||sm.test(t))&&L.warn("".concat(e," value doesn't meet tag requirements and will be sanitized. More details: ").concat(Et,"/getting_started/tagging/#defining-tags"));var n=t.replace(/,/g,"_");return"".concat(e,":").concat(n)}function Gu(e){var t=e.site||st,r=zu(e),n=um(e,r),i=lm(n,t),o=cm(e,i,r);return N({isIntakeUrl:function(a){return i.some(function(s){return a.indexOf(s)===0})},replica:o,site:t},n)}function um(e,t){return{logsEndpointBuilder:Wr(e,"logs",t),rumEndpointBuilder:Wr(e,"rum",t),sessionReplayEndpointBuilder:Wr(e,"replay",t)}}function cm(e,t,r){if(!!e.replica){var n=N({},e,{site:st,clientToken:e.replica.clientToken}),i={logsEndpointBuilder:Wr(n,"logs",r),rumEndpointBuilder:Wr(n,"rum",r)};return t.push.apply(t,bt(i).map(function(o){return o.urlPrefix})),N({applicationId:e.replica.applicationId},i)}}function lm(e,t){var r=bt(e).map(function(n){return n.urlPrefix});return t===st&&r.push("https://".concat(Ki,"/")),r}var Ft={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"},br={ALL:"all",SAMPLED:"sampled"};function ca(e,t){return e!=null&&typeof e!="string"?(L.error("".concat(t," must be defined as a string")),!1):!0}function fm(e){return/(datadog|ddog|datad0g|dd0g)/.test(e)}function Xr(e){var t,r,n,i,o;if(!e||!e.clientToken){L.error("Client Token is not configured, we will not send any data.");return}if(e.sessionSampleRate!==void 0&&!rr(e.sessionSampleRate)){L.error("Session Sample Rate should be a number between 0 and 100");return}if(e.telemetrySampleRate!==void 0&&!rr(e.telemetrySampleRate)){L.error("Telemetry Sample Rate should be a number between 0 and 100");return}if(e.telemetryConfigurationSampleRate!==void 0&&!rr(e.telemetryConfigurationSampleRate)){L.error("Telemetry Configuration Sample Rate should be a number between 0 and 100");return}if(e.telemetryUsageSampleRate!==void 0&&!rr(e.telemetryUsageSampleRate)){L.error("Telemetry Usage Sample Rate should be a number between 0 and 100");return}if(!!ca(e.version,"Version")&&!!ca(e.env,"Env")&&!!ca(e.service,"Service")){if(e.trackingConsent!==void 0&&!Ut(An,e.trackingConsent)){L.error('Tracking Consent should be either "granted" or "not-granted"');return}if(e.site&&!fm(e.site)){L.error("Site should be a valid Datadog site. Learn more here: ".concat(Et,"/getting_started/site/."));return}return N({beforeSend:e.beforeSend&&Ni(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:Du(e),sessionSampleRate:(t=e.sessionSampleRate)!==null&&t!==void 0?t:100,telemetrySampleRate:(r=e.telemetrySampleRate)!==null&&r!==void 0?r:20,telemetryConfigurationSampleRate:(n=e.telemetryConfigurationSampleRate)!==null&&n!==void 0?n:5,telemetryUsageSampleRate:(i=e.telemetryUsageSampleRate)!==null&&i!==void 0?i:5,service:e.service||void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:(o=e.trackingConsent)!==null&&o!==void 0?o:An.GRANTED,storeContextsAcrossPages:!!e.storeContextsAcrossPages,batchBytesLimit:16*Ye,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*ie,batchMessagesLimit:50,messageBytesLimit:256*Ye},Gu(e))}}function Zr(e){return{session_sample_rate:e.sessionSampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:e.telemetryUsageSampleRate,use_before_send:!!e.beforeSend,use_cross_site_session_cookie:e.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:e.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:!!e.proxy,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,allow_fallback_to_local_storage:!!e.allowFallbackToLocalStorage,store_contexts_across_pages:!!e.storeContextsAcrossPages,allow_untrusted_events:!!e.allowUntrustedEvents,tracking_consent:e.trackingConsent}}var Oe;(function(e){e.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",e.CUSTOM_VITALS="custom_vitals",e.TOLERANT_RESOURCE_TIMINGS="tolerant_resource_timings",e.REMOTE_CONFIGURATION="remote_configuration",e.UPDATE_VIEW_NAME="update_view_name",e.PLUGINS="plugins"})(Oe||(Oe={}));var la=new Set;function Ln(e){Array.isArray(e)&&Hu(e.filter(function(t){return Ut(Oe,t)}))}function Hu(e){e.forEach(function(t){la.add(t)})}function ze(e){return la.has(e)}function fa(){return la}var Pn="?";function Te(e){var t=[],r=da(e,"stack"),n=String(e);return r&&St(r,n)&&(r=r.slice(n.length)),r&&r.split(`
`).forEach(function(i){var o=mm(i)||hm(i)||_m(i)||bm(i);o&&(!o.func&&o.line&&(o.func=Pn),t.push(o))}),{message:da(e,"message"),name:da(e,"name"),stack:t}}var ju="((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",Jr="(?::(\\d+))",dm=new RegExp("^\\s*at (.*?) ?\\(".concat(ju).concat(Jr,"?").concat(Jr,"?\\)?\\s*$"),"i"),pm=new RegExp("\\((\\S*)".concat(Jr).concat(Jr,"\\)"));function mm(e){var t=dm.exec(e);if(!!t){var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,i=pm.exec(t[2]);return n&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{args:r?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||Pn,line:t[3]?+t[3]:void 0,url:r?void 0:t[2]}}}var vm=new RegExp("^\\s*at ?".concat(ju).concat(Jr,"?").concat(Jr,"??\\s*$"),"i");function hm(e){var t=vm.exec(e);if(!!t)return{args:[],column:t[3]?+t[3]:void 0,func:Pn,line:t[2]?+t[2]:void 0,url:t[1]}}var gm=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function _m(e){var t=gm.exec(e);if(!!t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||Pn,line:+t[3],url:t[2]}}var ym=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Em=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function bm(e){var t=ym.exec(e);if(!!t){var r=t[3]&&t[3].indexOf(" > eval")>-1,n=Em.exec(t[3]);return r&&n&&(t[3]=n[1],t[4]=n[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||Pn,line:t[4]?+t[4]:void 0,url:t[3]}}}function da(e,t){if(!(typeof e!="object"||!e||!(t in e))){var r=e[t];return typeof r=="string"?r:void 0}}function qu(e,t,r,n){var i=[{url:t,column:n,line:r}],o=Tm(e),a=o.name,s=o.message;return{name:a,message:s,stack:i}}var Sm=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function Tm(e){var t,r,n;return{}.toString.call(e)==="[object String]"&&(t=Sm.exec(e),r=t[1],n=t[2]),{name:r,message:n}}function wt(){var e=2,t=new Error,r;if(!t.stack)try{throw t}catch{}return it(function(){var n=Te(t);n.stack=n.stack.slice(e),r=ut(n)}),r}function ut(e){var t=pa(e);return e.stack.forEach(function(r){var n=r.func==="?"?"<anonymous>":r.func,i=r.args&&r.args.length>0?"(".concat(r.args.join(", "),")"):"",o=r.line?":".concat(r.line):"",a=r.line&&r.column?":".concat(r.column):"";t+=`
  at `.concat(n).concat(i," @ ").concat(r.url).concat(o).concat(a)}),t}function pa(e){return"".concat(e.name||"Error",": ").concat(e.message)}function ge(e,t,r,n){var i=n===void 0?{}:n,o=i.computeHandlingStack,a=e[t];if(typeof a!="function")if(St(t,"on"))a=F;else return{stop:F};var s=!1,u=function(){if(s)return a.apply(this,arguments);var c=ir(arguments),l;it(r,null,[{target:this,parameters:c,onPostCall:function(d){l=d},handlingStack:o?wt():void 0}]);var f=a.apply(this,c);return l&&it(l,null,[f]),f};return e[t]=u,{stop:function(){s=!0,e[t]===u&&(e[t]=a)}}}function Sr(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n||!n.set||!n.configurable)return{stop:F};var i=F,o=function(s,u){J(function(){o!==i&&r(s,u)},0)},a=function(s){n.set.call(this,s),o(this,s)};return Object.defineProperty(e,t,{set:a}),{stop:function(){var s;((s=Object.getOwnPropertyDescriptor(e,t))===null||s===void 0?void 0:s.set)===a&&Object.defineProperty(e,t,n),o=i}}}var Im=220*Ye,wm="$",xm=3;function te(e,t){var r;t===void 0&&(t=Im);var n=Er(Object.prototype),i=Er(Array.prototype),o=[],a=new WeakMap,s=ma(e,wm,void 0,o,a),u=((r=JSON.stringify(s))===null||r===void 0?void 0:r.length)||0;if(u>t){va(t,"discarded",e);return}for(;o.length>0&&u<t;){var c=o.shift(),l=0;if(Array.isArray(c.source))for(var f=0;f<c.source.length;f++){var d=ma(c.source[f],c.path,f,o,a);if(d!==void 0?u+=JSON.stringify(d).length:u+=4,u+=l,l=1,u>t){va(t,"truncated",e);break}c.target[f]=d}else for(var f in c.source)if(Object.prototype.hasOwnProperty.call(c.source,f)){var d=ma(c.source[f],c.path,f,o,a);if(d!==void 0&&(u+=JSON.stringify(d).length+l+f.length+xm,l=1),u>t){va(t,"truncated",e);break}c.target[f]=d}}return n(),i(),s}function ma(e,t,r,n,i){var o=Am(e);if(!o||typeof o!="object")return Cm(o);var a=Om(o);if(a!=="[Object]"&&a!=="[Array]"&&a!=="[Error]")return a;var s=e;if(i.has(s))return"[Reference seen at ".concat(i.get(s),"]");var u=r!==void 0?"".concat(t,".").concat(r):t,c=Array.isArray(o)?[]:{};return i.set(s,u),n.push({source:o,target:c,path:u}),c}function Cm(e){return typeof e=="bigint"?"[BigInt] ".concat(e.toString()):typeof e=="function"?"[Function] ".concat(e.name||"unknown"):typeof e=="symbol"?"[Symbol] ".concat(e.description||e.toString()):e}function Om(e){try{if(e instanceof Event)return{isTrusted:e.isTrusted};var t=Object.prototype.toString.call(e),r=t.match(/\[object (.*)\]/);if(r&&r[1])return"[".concat(r[1],"]")}catch{}return"[Unserializable]"}function Am(e){var t=e;if(t&&typeof t.toJSON=="function")try{return t.toJSON()}catch{}return e}function va(e,t,r){L.warn("The data provided has been ".concat(t," as it is over the limit of ").concat(e," characters:"),r)}var Wi="No stack, consider using an instance of Error";function Tr(e){var t=e.stackTrace,r=e.originalError,n=e.handlingStack,i=e.startClocks,o=e.nonErrorPrefix,a=e.source,s=e.handling,u=r instanceof Error,c=Rm(t,u,o,r),l=Nm(u,t)?ut(t):Wi,f=u?_a(r,a):void 0,d=t?.name,p=ha(r);return{startClocks:i,source:a,handling:s,handlingStack:n,originalError:r,type:d,message:c,stack:l,causes:f,fingerprint:p}}function Rm(e,t,r,n){return e?.message&&e?.name?e.message:t?"Empty message":"".concat(r," ").concat(Qe(te(n)))}function Nm(e,t){return t===void 0?!1:e?!0:t.stack.length>0&&(t.stack.length>1||t.stack[0].url!==void 0)}function ha(e){return e instanceof Error&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function ga(e){var t;return(t=/@ (.+)/.exec(e))===null||t===void 0?void 0:t[1]}function _a(e,t){for(var r=e,n=[];r?.cause instanceof Error&&n.length<10;){var i=Te(r.cause);n.push({message:r.cause.message,source:t,type:i?.name,stack:i&&ut(i)}),r=r.cause}return n.length?n:void 0}var re={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function Dn(e){var t=function(i,o){var a=Tr({stackTrace:i,originalError:o,startClocks:ee(),nonErrorPrefix:"Uncaught",source:re.SOURCE,handling:"unhandled"});e.notify(a)},r=km(t).stop,n=Lm(t).stop;return{stop:function(){r(),n()}}}function km(e){return ge(window,"onerror",function(t){var r=t.parameters,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u;s instanceof Error?u=Te(s):u=qu(n,i,o,a),e(u,s??n)})}function Lm(e){return ge(window,"onunhandledrejection",function(t){var r=t.parameters[0],n=r.reason||"Empty reason",i=Te(n);e(i,n)})}function Un(e){var t=N({version:"5.23.0",onReady:function(r){r()}},e);return Object.defineProperty(t,"_setDebug",{get:function(){return Qo},enumerable:!1}),t}function Mn(e,t,r){var n=e[t];n&&!n.q&&n.version&&L.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),e[t]=r,n&&n.q&&n.q.forEach(function(i){return Ni(i,"onReady callback threw an error:")()})}function Vt(e,t){t.silentMultipleInit||L.error("".concat(e," is already initialized."))}var x;(function(e){e.BEFORE_UNLOAD="beforeunload",e.CLICK="click",e.DBL_CLICK="dblclick",e.KEY_DOWN="keydown",e.LOAD="load",e.POP_STATE="popstate",e.SCROLL="scroll",e.TOUCH_START="touchstart",e.TOUCH_END="touchend",e.TOUCH_MOVE="touchmove",e.VISIBILITY_CHANGE="visibilitychange",e.PAGE_SHOW="pageshow",e.FREEZE="freeze",e.RESUME="resume",e.DOM_CONTENT_LOADED="DOMContentLoaded",e.POINTER_DOWN="pointerdown",e.POINTER_UP="pointerup",e.POINTER_CANCEL="pointercancel",e.HASH_CHANGE="hashchange",e.PAGE_HIDE="pagehide",e.MOUSE_DOWN="mousedown",e.MOUSE_UP="mouseup",e.MOUSE_MOVE="mousemove",e.FOCUS="focus",e.BLUR="blur",e.CONTEXT_MENU="contextmenu",e.RESIZE="resize",e.CHANGE="change",e.INPUT="input",e.PLAY="play",e.PAUSE="pause",e.SECURITY_POLICY_VIOLATION="securitypolicyviolation",e.SELECTION_CHANGE="selectionchange",e.STORAGE="storage"})(x||(x={}));function G(e,t,r,n,i){return fe(e,t,[r],n,i)}function fe(e,t,r,n,i){var o=i===void 0?{}:i,a=o.once,s=o.capture,u=o.passive,c=O(function(p){!p.isTrusted&&!p.__ddIsTrusted&&!e.allowUntrustedEvents||(a&&d(),n(p))}),l=u?{capture:s,passive:u}:s,f=nt(t,"addEventListener");r.forEach(function(p){return f.call(t,p,c,l)});function d(){var p=nt(t,"removeEventListener");r.forEach(function(m){return p.call(t,m,c,l)})}return{stop:d}}var Ze={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Fn(e,t){var r=[];le(t,Ze.cspViolation)&&r.push(Dm(e));var n=t.filter(function(i){return i!==Ze.cspViolation});return n.length&&r.push(Pm(n)),Di.apply(void 0,r)}function Pm(e){return new M(function(t){if(!!window.ReportingObserver){var r=O(function(i,o){return i.forEach(function(a){t.notify(Um(a))})}),n=new window.ReportingObserver(r,{types:e,buffered:!0});return n.observe(),function(){n.disconnect()}}})}function Dm(e){return new M(function(t){var r=G(e,document,x.SECURITY_POLICY_VIOLATION,function(n){t.notify(Mm(n))}).stop;return r})}function Um(e){var t=e.type,r=e.body;return{type:t,subtype:r.id,message:"".concat(t,": ").concat(r.message),originalReport:e,stack:Ku(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)}}function Mm(e){var t=Ze.cspViolation,r="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return{type:Ze.cspViolation,subtype:e.effectiveDirective,message:"".concat(t,": ").concat(r),stack:Ku(e.effectiveDirective,e.originalPolicy?"".concat(r,' of the policy "').concat(Mi(e.originalPolicy,100,"..."),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber),originalReport:e}}function Ku(e,t,r,n,i){return r?ut({name:e,message:t,stack:[{func:"?",url:r,line:n??void 0,column:i??void 0}]}):void 0}function Bt(e,t){var r=window.__ddBrowserSdkExtensionCallback;r&&r({type:e,payload:t})}function Ge(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function Xi(e,t,r){if(r===void 0&&(r=Fm()),t===void 0)return e;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var n=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,n)}if(!r.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],o=0;o<t.length;++o)i[o]=Xi(i[o],t[o],r);return i}var a=Ge(e)==="object"?e:{};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=Xi(a[s],t[s],r));return a}}function sr(e){return Xi(void 0,e)}function pe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r,n=0,i=e;n<i.length;n++){var o=i[n];o!=null&&(r=Xi(r,o))}return r}function Fm(){if(typeof WeakSet<"u"){var e=new WeakSet;return{hasAlreadyBeenSeen:function(r){var n=e.has(r);return n||e.add(r),n}}}var t=[];return{hasAlreadyBeenSeen:function(r){var n=t.indexOf(r)>=0;return n||t.push(r),n}}}function Zi(){var e,t=window.navigator;return{status:t.onLine?"connected":"not_connected",interfaces:t.connection&&t.connection.type?[t.connection.type]:void 0,effective_type:(e=t.connection)===null||e===void 0?void 0:e.effectiveType}}function Yu(e){var t=new Set;return e.forEach(function(r){return t.add(r)}),ir(t)}function Ji(e,t){var r=e.indexOf(t);r>=0&&e.splice(r,1)}var Vm=500,Ir=function(){function e(){this.buffer=[]}return e.prototype.add=function(t){var r=this.buffer.push(t);r>Vm&&this.buffer.splice(0,1)},e.prototype.remove=function(t){Ji(this.buffer,t)},e.prototype.drain=function(t){this.buffer.forEach(function(r){return r(t)}),this.buffer.length=0},e}();var ur={log:"log",configuration:"configuration",usage:"usage"};var Bm=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],zm=[ua],Wu=new Ir,$r=function(e){Wu.add(function(){return $r(e)})};function Qr(e,t){var r,n,i=new M,o=new Set,a=!le(zm,t.site)&&$e(t.telemetrySampleRate),s=(r={},r[ur.log]=a,r[ur.configuration]=a&&$e(t.telemetryConfigurationSampleRate),r[ur.usage]=a&&$e(t.telemetryUsageSampleRate),r),u=Gm();$r=function(l){var f=Qe(l);if(s[l.type]&&o.size<t.maxTelemetryEventsPerPage&&!o.has(f)){var d=c(e,l,u);i.notify(d),Bt("telemetry",d),o.add(f)}},yu(cr);function c(l,f,d){return pe({type:"telemetry",date:j(),service:l,version:"5.23.0",source:"browser",_dd:{format_version:2},telemetry:pe(f,{runtime_env:d,connectivity:Zi()}),experimental_features:ir(fa())},n!==void 0?n():{})}return{setContextProvider:function(l){n=l},observable:i,enabled:a}}function Gm(){return{is_local_file:window.location.protocol==="file:",is_worker:"WorkerGlobalScope"in self}}function en(){Wu.drain()}function tn(e){return e.site===kn}function Ae(e,t){Pi(ne.debug,e,t),$r(N({type:ur.log,message:e,status:"debug"},t))}function cr(e,t){$r(N({type:ur.log,status:"error"},Hm(e),t))}function rn(e){$r({type:ur.configuration,configuration:e})}function Re(e){$r({type:ur.usage,usage:e})}function Hm(e){if(e instanceof Error){var t=Te(e);return{error:{kind:t.name,stack:ut(jm(t))},message:t.message}}return{error:{stack:Wi},message:"".concat("Uncaught"," ").concat(Qe(e))}}function jm(e){return e.stack=e.stack.filter(function(t){return!t.url||Bm.some(function(r){return St(t.url,r)})}),e}var $i=1/0,Xu=ue,et=function(){function e(t,r){var n=this;this.expireDelay=t,this.maxEntries=r,this.entries=[],this.clearOldValuesInterval=ot(function(){return n.clearOldValues()},Xu)}return e.prototype.add=function(t,r){var n=this,i={value:t,startTime:r,endTime:$i,remove:function(){Ji(n.entries,i)},close:function(o){i.endTime=o}};return this.maxEntries&&this.entries.length>=this.maxEntries&&this.entries.pop(),this.entries.unshift(i),i},e.prototype.find=function(t,r){t===void 0&&(t=$i),r===void 0&&(r={returnInactive:!1});for(var n=0,i=this.entries;n<i.length;n++){var o=i[n];if(o.startTime<=t){if(r.returnInactive||t<=o.endTime)return o.value;break}}},e.prototype.closeActive=function(t){var r=this.entries[0];r&&r.endTime===$i&&r.close(t)},e.prototype.findAll=function(t,r){t===void 0&&(t=$i),r===void 0&&(r=0);var n=nr(t,r);return this.entries.filter(function(i){return i.startTime<=n&&t<=i.endTime}).map(function(i){return i.value})},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){Tt(this.clearOldValuesInterval)},e.prototype.clearOldValues=function(){for(var t=Ce()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<t;)this.entries.pop()},e}();var Ym=ue,Wm=Be,nn=[];function Vn(e,t,r,n){var i=new M,o=new M,a=Uu(e.sessionStoreStrategyType,t,r);nn.push(function(){return a.stop()});var s=new et(Wm);nn.push(function(){return s.stop()}),a.renewObservable.subscribe(function(){s.add(u(),Ce()),i.notify()}),a.expireObservable.subscribe(function(){o.notify(),s.closeActive(Ce())}),a.expandOrRenewSession(),s.add(u(),ki().relative),n.observable.subscribe(function(){n.isGranted()?a.expandOrRenewSession():a.expire()}),Xm(e,function(){n.isGranted()&&a.expandOrRenewSession()}),Zm(e,function(){return a.expandSession()}),Jm(e,function(){return a.restartSession()});function u(){return{id:a.getSession().id,trackingType:a.getSession()[t],isReplayForced:!!a.getSession().forcedReplay}}return{findSession:function(c,l){return s.find(c,l)},renewObservable:i,expireObservable:o,sessionStateUpdateObservable:a.sessionStateUpdateObservable,expire:a.expire,updateSessionState:a.updateSessionState}}function Xm(e,t){var r=fe(e,window,[x.CLICK,x.TOUCH_START,x.KEY_DOWN,x.SCROLL],t,{capture:!0,passive:!0}).stop;nn.push(r)}function Zm(e,t){var r=function(){document.visibilityState==="visible"&&t()},n=G(e,document,x.VISIBILITY_CHANGE,r).stop;nn.push(n);var i=ot(r,Ym);nn.push(function(){Tt(i)})}function Jm(e,t){var r=G(e,window,x.RESUME,t,{capture:!0}).stop;nn.push(r)}function Qi(e){return e>=500}function eo(e){try{return e.clone()}catch{return}}var $m=80*Ye,Qm=32,Zu=3*$o,ev=ue,Ju=ie;function ya(e,t,r,n,i){t.transportStatus===0&&t.queuedPayloads.size()===0&&t.bandwidthMonitor.canHandle(e)?Qu(e,t,r,{onSuccess:function(){return ec(0,t,r,n,i)},onFailure:function(){t.queuedPayloads.enqueue(e),$u(t,r,n,i)}}):t.queuedPayloads.enqueue(e)}function $u(e,t,r,n){e.transportStatus===2&&J(function(){var i=e.queuedPayloads.first();Qu(i,e,t,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=Ju,ec(1,e,t,r,n)},onFailure:function(){e.currentBackoffTime=Math.min(ev,e.currentBackoffTime*2),$u(e,t,r,n)}})},e.currentBackoffTime)}function Qu(e,t,r,n){var i=n.onSuccess,o=n.onFailure;t.bandwidthMonitor.add(e),r(e,function(a){t.bandwidthMonitor.remove(e),tv(a)?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:a.status},o()):(t.transportStatus=0,i())})}function ec(e,t,r,n,i){e===0&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:"Reached max ".concat(n," events size queued for upload: ").concat(Zu/$o,"MiB"),source:re.AGENT,startClocks:ee()}),t.queueFullReported=!0);var o=t.queuedPayloads;for(t.queuedPayloads=rc();o.size()>0;)ya(o.dequeue(),t,r,n,i)}function tv(e){return e.type!=="opaque"&&(e.status===0&&!navigator.onLine||e.status===408||e.status===429||Qi(e.status))}function tc(){return{transportStatus:0,currentBackoffTime:Ju,bandwidthMonitor:rv(),queuedPayloads:rc(),queueFullReported:!1}}function rc(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=Zu}}}function rv(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return this.ongoingRequestCount===0||this.ongoingByteCount+e.bytesCount<=$m&&this.ongoingRequestCount<Qm},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}}}function on(e,t,r,n){var i=tc(),o=function(a,s){return ov(e,t,r,a,s)};return{send:function(a){ya(a,i,o,t.trackType,n)},sendOnExit:function(a){nv(e,t,r,a)}}}function nv(e,t,r,n){var i=!!navigator.sendBeacon&&n.bytesCount<r;if(i)try{var o=t.build("beacon",n),a=navigator.sendBeacon(o,n.data);if(a)return}catch(u){iv(u)}var s=t.build("xhr",n);Ea(e,s,n.data)}var nc=!1;function iv(e){nc||(nc=!0,cr(e))}function ov(e,t,r,n,i){var o=av()&&n.bytesCount<r;if(o){var a=t.build("fetch",n);fetch(a,{method:"POST",body:n.data,keepalive:!0,mode:"cors"}).then(O(function(u){return i?.({status:u.status,type:u.type})}),O(function(){var u=t.build("xhr",n);Ea(e,u,n.data,i)}))}else{var s=t.build("xhr",n);Ea(e,s,n.data,i)}}function av(){try{return window.Request&&"keepalive"in new Request("http://a")}catch{return!1}}function Ea(e,t,r,n){var i=new XMLHttpRequest;i.open("POST",t,!0),r instanceof Blob&&i.setRequestHeader("Content-Type",r.type),G(e,i,"loadend",function(){n?.({status:i.status})},{once:!0}),i.send(r)}function De(){var e=sv();if(!!e)return{getCapabilities:function(){var t;return JSON.parse(((t=e.getCapabilities)===null||t===void 0?void 0:t.call(e))||"[]")},getPrivacyLevel:function(){var t;return(t=e.getPrivacyLevel)===null||t===void 0?void 0:t.call(e)},getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,r,n){var i=n?{id:n}:void 0;e.send(JSON.stringify({eventType:t,event:r,view:i}))}}}function an(e){var t=De();return!!t&&le(t.getCapabilities(),e)}function _e(e){var t;e===void 0&&(e=(t=Xe().location)===null||t===void 0?void 0:t.hostname);var r=De();return!!r&&r.getAllowedWebViewHosts().some(function(n){return e===n||hu(e,".".concat(n))})}function sv(){return Xe().DatadogEventBridge}var zt={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function Bn(e){return new M(function(t){var r=fe(e,window,[x.VISIBILITY_CHANGE,x.FREEZE],function(i){i.type===x.VISIBILITY_CHANGE&&document.visibilityState==="hidden"?t.notify({reason:zt.HIDDEN}):i.type===x.FREEZE&&t.notify({reason:zt.FROZEN})},{capture:!0}).stop,n=G(e,window,x.BEFORE_UNLOAD,function(){t.notify({reason:zt.UNLOADING})}).stop;return function(){r(),n()}})}function zn(e){return le(bt(zt),e)}var oc=function(){function e(t,r,n,i){var o=this;this.encoder=t,this.request=r,this.flushController=n,this.messageBytesLimit=i,this.upsertBuffer={},this.flushSubscription=this.flushController.flushObservable.subscribe(function(a){return o.flush(a)})}return e.prototype.add=function(t){this.addOrUpdate(t)},e.prototype.upsert=function(t,r){this.addOrUpdate(t,r)},e.prototype.stop=function(){this.flushSubscription.unsubscribe()},e.prototype.flush=function(t){var r=bt(this.upsertBuffer).join(`
`);this.upsertBuffer={};var n=zn(t.reason),i=n?this.request.sendOnExit:this.request.send;if(n&&this.encoder.isAsync){var o=this.encoder.finishSync();o.outputBytesCount&&i(ic(o));var a=[o.pendingData,r].filter(Boolean).join(`
`);a&&i({data:a,bytesCount:jr(a)})}else r&&this.encoder.write(this.encoder.isEmpty?r:`
`.concat(r)),this.encoder.finish(function(s){i(ic(s))})},e.prototype.addOrUpdate=function(t,r){var n=Qe(t),i=this.encoder.estimateEncodedBytesCount(n);if(i>=this.messageBytesLimit){L.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB. More details: ").concat(Et,"/real_user_monitoring/browser/troubleshooting/#technical-limitations"));return}this.hasMessageFor(r)&&this.remove(r),this.push(n,i,r)},e.prototype.push=function(t,r,n){var i=this;this.flushController.notifyBeforeAddMessage(r),n!==void 0?(this.upsertBuffer[n]=t,this.flushController.notifyAfterAddMessage()):this.encoder.write(this.encoder.isEmpty?t:`
`.concat(t),function(o){i.flushController.notifyAfterAddMessage(o-r)})},e.prototype.remove=function(t){var r=this.upsertBuffer[t];delete this.upsertBuffer[t];var n=this.encoder.estimateEncodedBytesCount(r);this.flushController.notifyAfterRemoveMessage(n)},e.prototype.hasMessageFor=function(t){return t!==void 0&&this.upsertBuffer[t]!==void 0},e}();function ic(e){var t;return typeof e.output=="string"?t=e.output:t=new Blob([e.output],{type:"text/plain"}),{data:t,bytesCount:e.outputBytesCount,encoding:e.encoding}}function ba(e){var t=e.messagesLimit,r=e.bytesLimit,n=e.durationLimit,i=e.pageExitObservable,o=e.sessionExpireObservable,a=i.subscribe(function(v){return f(v.reason)}),s=o.subscribe(function(){return f("session_expire")}),u=new M(function(){return function(){a.unsubscribe(),s.unsubscribe()}}),c=0,l=0;function f(v){if(l!==0){var g=l,E=c;l=0,c=0,m(),u.notify({reason:v,messagesCount:g,bytesCount:E})}}var d;function p(){d===void 0&&(d=J(function(){f("duration_limit")},n))}function m(){Le(d),d=void 0}return{flushObservable:u,get messagesCount(){return l},notifyBeforeAddMessage:function(v){c+v>=r&&f("bytes_limit"),l+=1,c+=v,p()},notifyAfterAddMessage:function(v){v===void 0&&(v=0),c+=v,l>=t?f("messages_limit"):c>=r&&f("bytes_limit")},notifyAfterRemoveMessage:function(v){c-=v,l-=1,l===0&&m()}}}function lr(e,t,r,n,i,o){var a=u(e,t),s=r&&u(e,r);function u(c,l){var f=l.endpoint,d=l.encoder;return new oc(d,on(c,f,c.batchBytesLimit,n),ba({messagesLimit:c.batchMessagesLimit,bytesLimit:c.batchBytesLimit,durationLimit:c.flushTimeout,pageExitObservable:i,sessionExpireObservable:o}),c.messageBytesLimit)}return{flushObservable:a.flushController.flushObservable,add:function(c,l){l===void 0&&(l=!0),a.add(c),s&&l&&s.add(r.transformMessage?r.transformMessage(c):c)},upsert:function(c,l){a.upsert(c,l),s&&s.upsert(r.transformMessage?r.transformMessage(c):c,l)},stop:function(){a.stop(),s?.stop()}}}function Gt(){var e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write:function(r,n){var i=jr(r);t+=i,e+=r,n&&n(i)},finish:function(r){r(this.finishSync())},finishSync:function(){var r={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,r},estimateEncodedBytesCount:function(r){return r.length}}}var Gn=function(){function e(){this.callbacks={}}return e.prototype.notify=function(t,r){var n=this.callbacks[t];n&&n.forEach(function(i){return i(r)})},e.prototype.subscribe=function(t,r){var n=this;return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(r),{unsubscribe:function(){n.callbacks[t]=n.callbacks[t].filter(function(i){return r!==i})}}},e}();function sn(e,t,r){var n=0,i=!1;return{isLimitReached:function(){if(n===0&&J(function(){n=0},ue),n+=1,n<=t||i)return i=!1,!1;if(n===t+1){i=!0;try{r({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:re.AGENT,startClocks:ee()})}finally{i=!1}}return!0}}}function wr(e,t,r){if(document.readyState===t||document.readyState==="complete")r();else{var n=t==="complete"?x.LOAD:x.DOM_CONTENT_LOADED;G(e,window,n,r,{once:!0})}}var Sa,Ta=new WeakMap;function Hn(e){return Sa||(Sa=uv(e)),Sa}function uv(e){return new M(function(t){var r=ge(XMLHttpRequest.prototype,"open",cv).stop,n=ge(XMLHttpRequest.prototype,"send",function(o){lv(o,e,t)},{computeHandlingStack:!0}).stop,i=ge(XMLHttpRequest.prototype,"abort",fv).stop;return function(){r(),n(),i()}})}function cv(e){var t=e.target,r=e.parameters,n=r[0],i=r[1];Ta.set(t,{state:"open",method:String(n).toUpperCase(),url:Yr(String(i))})}function lv(e,t,r){var n=e.target,i=e.handlingStack,o=Ta.get(n);if(!!o){var a=o;a.state="start",a.startClocks=ee(),a.isAborted=!1,a.xhr=n,a.handlingStack=i;var s=!1,u=ge(n,"onreadystatechange",function(){n.readyState===XMLHttpRequest.DONE&&c()}).stop,c=function(){if(l(),u(),!s){s=!0;var f=o;f.state="complete",f.duration=oe(a.startClocks.timeStamp,j()),f.status=n.status,r.notify(Dt(f))}},l=G(t,n,"loadend",c).stop;r.notify(a)}}function fv(e){var t=e.target,r=Ta.get(t);r&&(r.isAborted=!0)}var Ia;function Ht(){return Ia||(Ia=dv()),Ia}function dv(){return new M(function(e){if(!!window.fetch){var t=ge(window,"fetch",function(r){return pv(r,e)},{computeHandlingStack:!0}).stop;return t}})}function pv(e,t){var r=e.parameters,n=e.onPostCall,i=e.handlingStack,o=r[0],a=r[1],s=a&&a.method;s===void 0&&o instanceof Request&&(s=o.method);var u=s!==void 0?String(s).toUpperCase():"GET",c=o instanceof Request?o.url:Yr(String(o)),l=ee(),f={state:"start",init:a,input:o,method:u,startClocks:l,url:c,handlingStack:i};t.notify(f),r[0]=f.input,r[1]=f.init,n(function(d){return mv(t,d,f)})}function mv(e,t,r){var n=function(i){var o=r;o.state="resolve","stack"in i||i instanceof Error?(o.status=0,o.isAborted=i instanceof DOMException&&i.code===DOMException.ABORT_ERR,o.error=i):"status"in i&&(o.response=i,o.responseType=i.type,o.status=i.status,o.isAborted=!1),e.notify(o)};t.then(O(n),O(n))}var wa={};function jn(e){var t=e.map(function(r){return wa[r]||(wa[r]=vv(r)),wa[r]});return Di.apply(void 0,t)}function vv(e){return new M(function(t){var r=rt[e];return rt[e]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];r.apply(console,n);var o=wt();it(function(){t.notify(hv(n,e,o))})},function(){rt[e]=r}})}function hv(e,t,r){var n=e.map(function(u){return gv(u)}).join(" "),i,o,a;if(t===ne.error){var s=Ve(e,function(u){return u instanceof Error});i=s?ut(Te(s)):void 0,o=ha(s),a=s?_a(s,"console"):void 0}return{api:t,message:n,stack:i,handlingStack:r,fingerprint:o,causes:a}}function gv(e){return typeof e=="string"?te(e):e instanceof Error?pa(Te(e)):Qe(te(e),void 0,2)}function jt(e){var t={},r=new M,n={getContext:function(){return sr(t)},setContext:function(i){Ge(i)==="object"?(t=te(i),e.updateCustomerData(t)):n.clearContext(),r.notify()},setContextProperty:function(i,o){t[i]=te(o),e.updateCustomerData(t),r.notify()},removeContextProperty:function(i){delete t[i],e.updateCustomerData(t),r.notify()},clearContext:function(){t={},e.resetCustomerData(),r.notify()},changeObservable:r};return n}var _v="_dd_c",yv=[];function xr(e,t,r,n){var i=Ev(r,n);yv.push(G(e,window,x.STORAGE,function(u){var c=u.key;i===c&&o()})),t.changeObservable.subscribe(a),t.setContext(pe(s(),t.getContext()));function o(){t.setContext(s())}function a(){localStorage.setItem(i,JSON.stringify(t.getContext()))}function s(){var u=localStorage.getItem(i);return u!==null?JSON.parse(u):{}}}function Ev(e,t){return"".concat(_v,"_").concat(e,"_").concat(t)}var ac=3*Ye,bv=16*Ye,Sv=200;function qn(e){e===void 0&&(e=2);var t=new Map,r=!1;function n(i){if(i===void 0&&(i=0),!(r||e===0)){var o=e===2?ac:bv,a=i;t.forEach(function(s){a+=s.getBytesCount()}),a>o&&(Tv(o),r=!0)}}return{createDetachedTracker:function(){var i=xa(function(){return n(i.getBytesCount())});return i},getOrCreateTracker:function(i){return t.has(i)||t.set(i,xa(n)),t.get(i)},setCompressionStatus:function(i){e===0&&(e=i,n())},getCompressionStatus:function(){return e},stop:function(){t.forEach(function(i){return i.stop()}),t.clear()}}}function xa(e){var t=0,r=Pe(function(a){t=jr(Qe(a)),e()},Sv),n=r.throttled,i=r.cancel,o=function(){i(),t=0};return{updateCustomerData:function(a){We(a)?o():n(a)},resetCustomerData:o,getBytesCount:function(){return t},stop:function(){i()}}}function Tv(e){L.warn("Customer data exceeds the recommended ".concat(e/Ye,"KiB threshold. More details: ").concat(Et,"/real_user_monitoring/browser/troubleshooting/#customer-data-exceeds-the-recommended-threshold-warning"))}function Kn(e,t,r){var n=e.getReader(),i=[],o=0;a();function a(){n.read().then(O(function(u){if(u.done){s();return}r.collectStreamBody&&i.push(u.value),o+=u.value.length,o>r.bytesLimit?s():a()}),O(function(u){return t(u)}))}function s(){n.cancel().catch(F);var u,c;if(r.collectStreamBody){var l;if(i.length===1)l=i[0];else{l=new Uint8Array(o);var f=0;i.forEach(function(d){l.set(d,f),f+=d.length})}u=l.slice(0,r.bytesLimit),c=l.length>r.bytesLimit}t(void 0,u,c)}}var Iv="datadog-synthetics-public-id",wv="datadog-synthetics-result-id",xv="datadog-synthetics-injects-rum";function qt(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||at(xv))}function Yn(){var e=window._DATADOG_SYNTHETICS_PUBLIC_ID||at(Iv);return typeof e=="string"?e:void 0}function Wn(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||at(wv);return typeof e=="string"?e:void 0}function Cr(e){var t=N({},e),r=["id","name","email"];return r.forEach(function(n){n in t&&(t[n]=String(t[n]))}),t}function Xn(e){var t=Ge(e)==="object";return t||L.error("Unsupported user:",e),t}function Zn(e){var t=Ge(e);return t==="string"||t==="function"||e instanceof RegExp}function to(e,t,r){return r===void 0&&(r=!1),e.some(function(n){try{if(typeof n=="function")return n(t);if(n instanceof RegExp)return n.test(t);if(typeof n=="string")return r?St(t,n):n===t}catch(i){L.error(i)}return!1})}var mt;function un(e,t,r){var n=r.getHandler(),i=Array.isArray(n)?n:[n];return sc[e]>=sc[r.getLevel()]&&le(i,t)}var V={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},sc=(mt={},mt[V.ok]=0,mt[V.debug]=1,mt[V.info]=2,mt[V.notice]=4,mt[V.warn]=5,mt[V.error]=6,mt[V.critical]=7,mt[V.alert]=8,mt[V.emerg]=9,mt);var Cv=function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o},Or={console:"console",http:"http",silent:"silent"},uc=Object.keys(V),tt=function(){function e(t,r,n,i,o,a){i===void 0&&(i=Or.http),o===void 0&&(o=V.debug),a===void 0&&(a={}),this.handleLogStrategy=t,this.handlerType=i,this.level=o,this.contextManager=jt(r),this.contextManager.setContext(a),n&&this.contextManager.setContextProperty("logger",{name:n})}return e.prototype.logImplementation=function(t,r,n,i,o){n===void 0&&(n=V.info);var a;if(i!=null){var s=i instanceof Error?Te(i):void 0,u=Tr({stackTrace:s,originalError:i,nonErrorPrefix:"Provided",source:re.LOGGER,handling:"handled",startClocks:ee()});a={stack:u.stack,kind:u.type,message:u.message,causes:u.causes}}var c=te(r),l=a?pe({error:a},c):c;this.handleLogStrategy({message:te(t),context:l,status:n},this,o)},e.prototype.log=function(t,r,n,i){n===void 0&&(n=V.info);var o;un(n,Or.http,this)&&(o=wt()),this.logImplementation(t,r,n,i,o)},e.prototype.setContext=function(t){this.contextManager.setContext(t)},e.prototype.getContext=function(){return this.contextManager.getContext()},e.prototype.setContextProperty=function(t,r){this.contextManager.setContextProperty(t,r)},e.prototype.removeContextProperty=function(t){this.contextManager.removeContextProperty(t)},e.prototype.clearContext=function(){this.contextManager.clearContext()},e.prototype.setHandler=function(t){this.handlerType=t},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=function(t){this.level=t},e.prototype.getLevel=function(){return this.level},Cv([ea],e.prototype,"logImplementation",null),e}();tt.prototype.ok=Kt(V.ok);tt.prototype.debug=Kt(V.debug);tt.prototype.info=Kt(V.info);tt.prototype.notice=Kt(V.notice);tt.prototype.warn=Kt(V.warn);tt.prototype.error=Kt(V.error);tt.prototype.critical=Kt(V.critical);tt.prototype.alert=Kt(V.alert);tt.prototype.emerg=Kt(V.emerg);function Kt(e){return function(t,r,n){var i;un(e,Or.http,this)&&(i=wt()),this.logImplementation(t,r,e,n,i)}}function cc(e,t){return{view:{referrer:document.referrer,url:window.location.href},context:e.getContext(),user:t.getContext()}}var Ov=32*Ye;function fc(e){e.usePciIntake===!0&&e.site&&e.site!=="datadoghq.com"&&L.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");var t=Xr(e),r=lc(e.forwardConsoleLogs,bt(ne),"Forward Console Logs"),n=lc(e.forwardReports,bt(Ze),"Forward Reports");if(!(!t||!r||!n))return e.forwardErrorsToLogs&&!le(r,ne.error)&&r.push(ne.error),N({forwardErrorsToLogs:e.forwardErrorsToLogs!==!1,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:Ov,sendLogsAfterSessionExpiration:!!e.sendLogsAfterSessionExpiration},t)}function lc(e,t,r){if(e===void 0)return[];if(!(e==="all"||Array.isArray(e)&&e.every(function(n){return le(t,n)}))){L.error("".concat(r,' should be "all" or an array with allowed values "').concat(t.join('", "'),'"'));return}return e==="all"?t:Yu(e)}function dc(e){var t=Zr(e);return N({forward_errors_to_logs:e.forwardErrorsToLogs,forward_console_logs:e.forwardConsoleLogs,forward_reports:e.forwardReports,use_pci_intake:e.usePciIntake,send_logs_after_session_expiration:e.sendLogsAfterSessionExpiration},t)}function pc(e,t,r){var n=new Ir,i,o,a=t.observable.subscribe(s);function s(){if(!(!o||!i||!t.isGranted())){a.unsubscribe();var u=r(i,o);n.drain(u)}}return{init:function(u){if(!u){L.error("Missing configuration");return}if(Ln(u.enableExperimentalFeatures),_e()&&(u=Av(u)),i=u,o){Vt("DD_LOGS",u);return}var c=fc(u);!c||(o=c,Ht().subscribe(F),t.tryToInit(c.trackingConsent),s())},get initConfiguration(){return i},getInternalContext:F,handleLog:function(u,c,l,f,d){f===void 0&&(f=e()),d===void 0&&(d=j()),n.add(function(p){return p.handleLog(u,c,l,f,d)})}}}function Av(e){return N({},e,{clientToken:"empty"})}var mc="logs";function vc(e){var t=qn(),r=jt(t.getOrCreateTracker(2)),n=jt(t.getOrCreateTracker(1)),i=Rn();function o(){return cc(r,n)}var a=pc(o,i,function(c,l){c.storeContextsAcrossPages&&(xr(l,r,mc,2),xr(l,n,mc,1));var f=e(c,l,o,i);return a=Rv(c,f),f}),s={},u=new tt(function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return a.handleLog.apply(a,c)},t.createDetachedTracker());return Un({logger:u,init:O(function(c){return a.init(c)}),setTrackingConsent:O(function(c){i.update(c),Re({feature:"set-tracking-consent",tracking_consent:c})}),getGlobalContext:O(function(){return r.getContext()}),setGlobalContext:O(function(c){return r.setContext(c)}),setGlobalContextProperty:O(function(c,l){return r.setContextProperty(c,l)}),removeGlobalContextProperty:O(function(c){return r.removeContextProperty(c)}),clearGlobalContext:O(function(){return r.clearContext()}),createLogger:O(function(c,l){return l===void 0&&(l={}),s[c]=new tt(function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return a.handleLog.apply(a,f)},t.createDetachedTracker(),te(c),l.handler,l.level,te(l.context)),s[c]}),getLogger:O(function(c){return s[c]}),getInitConfiguration:O(function(){return sr(a.initConfiguration)}),getInternalContext:O(function(c){return a.getInternalContext(c)}),setUser:O(function(c){Xn(c)&&n.setContext(Cr(c))}),getUser:O(function(){return n.getContext()}),setUserProperty:O(function(c,l){var f,d=Cr((f={},f[c]=l,f))[c];n.setContextProperty(c,d)}),removeUserProperty:O(function(c){return n.removeContextProperty(c)}),clearUser:O(function(){return n.clearContext()})})}function Rv(e,t){return N({init:function(r){Vt("DD_LOGS",r)},initConfiguration:e},t)}var Nv="logs";function hc(e,t){var r=Vn(e,Nv,function(n){return kv(e,n)},t);return{findTrackedSession:function(n,i){i===void 0&&(i={returnInactive:!1});var o=r.findSession(n,i);return o&&o.trackingType==="1"?{id:o.id}:void 0},expireObservable:r.expireObservable}}function gc(e){var t=_c(e)==="1",r=t?{}:void 0;return{findTrackedSession:function(){return r},expireObservable:new M}}function _c(e){return $e(e.sessionSampleRate)?"1":"0"}function kv(e,t){var r=Lv(t)?t:_c(e);return{trackingType:r,isTracked:r==="1"}}function Lv(e){return e==="0"||e==="1"}var yc=!1;function cn(e){var t=window;if(qt()){var r=n(t.DD_RUM_SYNTHETICS);return!r&&!yc&&(yc=!0,Ae("Logs sent before RUM is injected by the synthetics worker",{testId:Yn(),resultId:Wn()})),r}return n(t.DD_RUM);function n(i){if(i&&i.getInternalContext)return i.getInternalContext(e)}}function Ec(e,t,r,n,i){var o=uc.concat(["custom"]),a={};o.forEach(function(s){a[s]=sn(s,t.eventRateLimiterThreshold,i)}),r.subscribe(0,function(s){var u,c,l=s.rawLogsEvent,f=s.messageContext,d=f===void 0?void 0:f,p=s.savedCommonContext,m=p===void 0?void 0:p,v=s.domainContext,g=_r(l.date),E=e.findTrackedSession(g);if(!(!E&&(!t.sendLogsAfterSessionExpiration||!e.findTrackedSession(g,{returnInactive:!0})))){var A=m||n(),D=pe({service:t.service,session_id:E?.id,usr:We(A.user)?void 0:A.user,view:A.view},A.context,cn(g),l,d);((u=t.beforeSend)===null||u===void 0?void 0:u.call(t,D,v))===!1||D.origin!==re.AGENT&&((c=a[D.status])!==null&&c!==void 0?c:a.custom).isLimitReached()||r.notify(1,D)}})}var Ar,Pv=(Ar={},Ar[ne.log]=V.info,Ar[ne.debug]=V.debug,Ar[ne.info]=V.info,Ar[ne.warn]=V.warn,Ar[ne.error]=V.error,Ar);function bc(e,t){var r=jn(e.forwardConsoleLogs).subscribe(function(n){var i={rawLogsEvent:{date:j(),message:n.message,origin:re.CONSOLE,error:n.api===ne.error?{stack:n.stack,fingerprint:n.fingerprint,causes:n.causes}:void 0,status:Pv[n.api]},domainContext:{handlingStack:n.handlingStack}};t.notify(0,i)});return{stop:function(){r.unsubscribe()}}}var Jn,Dv=(Jn={},Jn[Ze.cspViolation]=V.error,Jn[Ze.intervention]=V.error,Jn[Ze.deprecation]=V.warn,Jn);function Sc(e,t){var r=Fn(e,e.forwardReports).subscribe(function(n){var i=n.message,o=Dv[n.type],a;o===V.error?a={kind:n.subtype,stack:n.stack}:n.stack&&(i+=" Found in ".concat(ga(n.stack))),t.notify(0,{rawLogsEvent:{date:j(),message:i,origin:re.REPORT,error:a,status:o}})});return{stop:function(){r.unsubscribe()}}}function Tc(e,t){if(!e.forwardErrorsToLogs)return{stop:F};var r=Hn(e).subscribe(function(o){o.state==="complete"&&i("xhr",o)}),n=Ht().subscribe(function(o){o.state==="resolve"&&i("fetch",o)});function i(o,a){!e.isIntakeUrl(a.url)&&(Vv(a)||Qi(a.status))&&("xhr"in a?Uv(a.xhr,e,s):a.response?Fv(a.response,e,s):a.error&&Mv(a.error,e,s));function s(u){var c={isAborted:a.isAborted,handlingStack:a.handlingStack};t.notify(0,{rawLogsEvent:{message:"".concat(Bv(o)," error ").concat(a.method," ").concat(a.url),date:a.startClocks.timeStamp,error:{stack:u||"Failed to load"},http:{method:a.method,status_code:a.status,url:a.url},status:V.error,origin:re.NETWORK},domainContext:c})}}return{stop:function(){r.unsubscribe(),n.unsubscribe()}}}function Uv(e,t,r){typeof e.response=="string"?r(Ca(e.response,t)):r(e.response)}function Mv(e,t,r){r(Ca(ut(Te(e)),t))}function Fv(e,t,r){var n=eo(e);!n||!n.body?r():window.TextDecoder?zv(n.body,t.requestErrorResponseLengthLimit,function(i,o){r(i?"Unable to retrieve response: ".concat(i):o)}):n.text().then(O(function(i){return r(Ca(i,t))}),O(function(i){return r("Unable to retrieve response: ".concat(i))}))}function Vv(e){return e.status===0&&e.responseType!=="opaque"}function Ca(e,t){return e.length>t.requestErrorResponseLengthLimit?"".concat(e.substring(0,t.requestErrorResponseLengthLimit),"..."):e}function Bv(e){return e==="xhr"?"XHR":"Fetch"}function zv(e,t,r){Kn(e,function(n,i,o){if(n)r(n);else{var a=new TextDecoder().decode(i);o&&(a+="..."),r(void 0,a)}},{bytesLimit:t,collectStreamBody:!0})}function Ic(e,t){if(!e.forwardErrorsToLogs)return{stop:F};var r=new M,n=Dn(r).stop,i=r.subscribe(function(o){t.notify(0,{rawLogsEvent:{message:o.message,date:o.startClocks.timeStamp,error:{kind:o.type,stack:o.stack,causes:o.causes},origin:re.SOURCE,status:V.error}})});return{stop:function(){n(),i.unsubscribe()}}}var wc=Gn;var vt;function xc(e){function t(r,n,i,o,a){var s=pe(n.getContext(),r.context);if(un(r.status,Or.console,n)&&Hv(r,s),un(r.status,Or.http,n)){var u={rawLogsEvent:{date:a||j(),message:r.message,status:r.status,origin:re.LOGGER},messageContext:s,savedCommonContext:o};i&&(u.domainContext={handlingStack:i}),e.notify(0,u)}}return{handleLog:t}}var Gv=(vt={},vt[V.ok]=ne.debug,vt[V.debug]=ne.debug,vt[V.info]=ne.info,vt[V.notice]=ne.info,vt[V.warn]=ne.warn,vt[V.error]=ne.error,vt[V.critical]=ne.error,vt[V.alert]=ne.error,vt[V.emerg]=ne.error,vt);function Hv(e,t){var r=e.status,n=e.message;tr[Gv[r]].call(rt,n,t)}function Cc(e,t,r,n,i){var o=lr(e,{endpoint:e.logsEndpointBuilder,encoder:Gt()},e.replica&&{endpoint:e.replica.logsEndpointBuilder,encoder:Gt()},r,n,i.expireObservable);return t.subscribe(1,function(a){o.add(a)}),o}function Oc(e){var t=De();e.subscribe(1,function(r){t.send("log",r)})}function Ac(e){return{get:function(t){var r=e.findTrackedSession(t);if(r)return{session_id:r.id}}}}function Rc(e){return function(t){e.notify(0,{rawLogsEvent:{message:t.message,date:t.startClocks.timeStamp,origin:re.AGENT,status:V.error}}),Ae("Error reported to customer",{"error.message":t.message})}}function Nc(e,t,r,n,i){var o=Qr("browser-logs-sdk",t);o.setContextProvider(function(){var f,d,p,m,v,g;return{application:{id:(f=cn())===null||f===void 0?void 0:f.application_id},session:{id:(d=i.findTrackedSession())===null||d===void 0?void 0:d.id},view:{id:(m=(p=cn())===null||p===void 0?void 0:p.view)===null||m===void 0?void 0:m.id},action:{id:(g=(v=cn())===null||v===void 0?void 0:v.user_action)===null||g===void 0?void 0:g.id}}});var a=[];if(_e()){var s=De(),u=o.observable.subscribe(function(f){return s.send("internal_telemetry",f)});a.push(function(){return u.unsubscribe()})}else{var c=lr(t,{endpoint:t.rumEndpointBuilder,encoder:Gt()},t.replica&&{endpoint:t.replica.rumEndpointBuilder,encoder:Gt()},r,n,i.expireObservable);a.push(function(){return c.stop()});var l=o.observable.subscribe(function(f){return c.add(f,tn(t))});a.push(function(){return l.unsubscribe()})}return en(),rn(dc(e)),{telemetry:o,stop:function(){a.forEach(function(f){return f()})}}}function kc(e,t,r,n){var i=new wc,o=[];i.subscribe(1,function(p){return Bt("logs",p)});var a=Rc(i),s=Bn(t),u=t.sessionStoreStrategyType&&!_e()&&!qt()?hc(t,n):gc(t),c=Nc(e,t,a,s,u).stop;o.push(function(){return c()}),Tc(t,i),Ic(t,i),bc(t,i),Sc(t,i);var l=xc(i).handleLog;if(Ec(u,t,i,r,a),_e())Oc(i);else{var f=Cc(t,i,a,s,u).stop;o.push(function(){return f()})}var d=Ac(u);return{handleLog:l,getInternalContext:d.get,stop:function(){o.forEach(function(p){return p()})}}}var ln=vc(kc);Mn(Xe(),"DD_LOGS",ln);var l0=()=>{_t.nodeEnvironment!=="local"&&(Pt.getInstance().init(_t.amplitudeAPIKey,bi()?.currentUser?.email?.toString()),Pt.getInstance().setOptOut(!0))},f0=()=>{Pt.getInstance().setOptOut(!1)},d0=()=>{Pt.getInstance().setOptOut(!0)},p0=(e,t,r)=>{try{t&&Pt.getInstance().logEvent(e,r)}catch(n){ln.logger.error("Error in logging amplitude event",n)}},m0=e=>{try{Pt.getInstance().setUserProperties(e)}catch(t){ln.logger.error("Error in setting amplitude user properties",t)}};var ro=null;function g0(){return ro||(ro=xs(Ao()),ro)}var Lc={grandfathered_date:"2021-10-15",free_dynamic_codes:2,auto_trials:!0,sentryEnabled:!1,sentryTraceSampleRate:.01,sentryIgnoreMessages:"[]",posthogEnabled:!1,selectTypeUi:!1,customDomains:!1,showTabIcons:!0,minVersionForced:0,minVersionPrompt:0,serveDomains:["qr.page","qr.sale","inf.ooo","q-r.dev","qr-open.it","qr-scan.it"]};function _0(){let e=Ao();e.defaultConfig={...Lc,serveDomains:JSON.stringify(Lc.serveDomains)}}function Pc(e,t,r){return{context:e.getContext(),user:t.getContext(),hasReplay:r.isRecording()?!0:void 0}}function Uc(e){var t=e;return Ge(t)==="object"&&Zn(t.match)&&Array.isArray(t.propagatorTypes)}function jv(e){e.status===0&&!e.isAborted&&(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function Mc(e,t){return{clearTracingIfNeeded:jv,traceFetch:function(r){return Dc(e,r,t,function(n){var i;if(r.input instanceof Request&&!(!((i=r.init)===null||i===void 0)&&i.headers))r.input=new Request(r.input),Object.keys(n).forEach(function(a){r.input.headers.append(a,n[a])});else{r.init=Dt(r.init);var o=[];r.init.headers instanceof Headers?r.init.headers.forEach(function(a,s){o.push([s,a])}):Array.isArray(r.init.headers)?r.init.headers.forEach(function(a){o.push(a)}):r.init.headers&&Object.keys(r.init.headers).forEach(function(a){o.push([a,r.init.headers[a]])}),r.init.headers=o.concat(qr(n))}})},traceXhr:function(r,n){return Dc(e,r,t,function(i){Object.keys(i).forEach(function(o){n.setRequestHeader(o,i[o])})})}}}function Dc(e,t,r,n){if(!(!qv()||!r.findTrackedSession())){var i=Ve(e.allowedTracingUrls,function(o){return to([o.match],t.url,!0)});!i||(t.traceSampled=!pt(e.traceSampleRate)||$e(e.traceSampleRate),!(!t.traceSampled&&e.traceContextInjection!==br.ALL)&&(t.traceId=new no,t.spanId=new no,n(Kv(t.traceId,t.spanId,t.traceSampled,i.propagatorTypes))))}}function qv(){return Fc()!==void 0}function Fc(){return window.crypto||window.msCrypto}function Kv(e,t,r,n){var i={};return n.forEach(function(o){switch(o){case"datadog":{N(i,{"x-datadog-origin":"rum","x-datadog-parent-id":t.toDecimalString(),"x-datadog-sampling-priority":r?"1":"0","x-datadog-trace-id":e.toDecimalString()});break}case"tracecontext":{N(i,{traceparent:"00-0000000000000000".concat(e.toPaddedHexadecimalString(),"-").concat(t.toPaddedHexadecimalString(),"-0").concat(r?"1":"0")});break}case"b3":{N(i,{b3:"".concat(e.toPaddedHexadecimalString(),"-").concat(t.toPaddedHexadecimalString(),"-").concat(r?"1":"0")});break}case"b3multi":{N(i,{"X-B3-TraceId":e.toPaddedHexadecimalString(),"X-B3-SpanId":t.toPaddedHexadecimalString(),"X-B3-Sampled":r?"1":"0"});break}}}),i}var no=function(){function e(){this.buffer=new Uint8Array(8),Fc().getRandomValues(this.buffer),this.buffer[0]=this.buffer[0]&127}return e.prototype.toString=function(t){var r=this.readInt32(0),n=this.readInt32(4),i="";do{var o=r%t*4294967296+n;r=Math.floor(r/t),n=Math.floor(o/t),i=(o%t).toString(t)+i}while(r||n);return i},e.prototype.toDecimalString=function(){return this.toString(10)},e.prototype.toPaddedHexadecimalString=function(){var t=this.toString(16);return Array(17-t.length).join("0")+t},e.prototype.readInt32=function(t){return this.buffer[t]*16777216+(this.buffer[t+1]<<16)+(this.buffer[t+2]<<8)+this.buffer[t+3]},e}();var Vc=["tracecontext","datadog"];function Bc(e){var t,r;if(!e.applicationId){L.error("Application ID is not configured, no RUM data will be collected.");return}if(e.sessionReplaySampleRate!==void 0&&!rr(e.sessionReplaySampleRate)){L.error("Session Replay Sample Rate should be a number between 0 and 100");return}if(e.traceSampleRate!==void 0&&!rr(e.traceSampleRate)){L.error("Trace Sample Rate should be a number between 0 and 100");return}if(e.excludedActivityUrls!==void 0&&!Array.isArray(e.excludedActivityUrls)){L.error("Excluded Activity Urls should be an array");return}var n=Yv(e);if(!!n){var i=Xr(e);if(!!i)return N({applicationId:e.applicationId,version:e.version||void 0,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:(t=e.sessionReplaySampleRate)!==null&&t!==void 0?t:0,startSessionReplayRecordingManually:!!e.startSessionReplayRecordingManually,traceSampleRate:e.traceSampleRate,allowedTracingUrls:n,excludedActivityUrls:(r=e.excludedActivityUrls)!==null&&r!==void 0?r:[],workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:!!e.trackUserInteractions,trackViewsManually:!!e.trackViewsManually,trackResources:!!e.trackResources,trackLongTasks:!!e.trackLongTasks,subdomain:e.subdomain,defaultPrivacyLevel:Ut(Ft,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:Ft.MASK,enablePrivacyForActionName:!!e.enablePrivacyForActionName,customerDataTelemetrySampleRate:1,traceContextInjection:Ut(br,e.traceContextInjection)?e.traceContextInjection:br.ALL,plugins:ze(Oe.PLUGINS)&&e.plugins||[]},i)}}function Yv(e){if(e.allowedTracingUrls!==void 0){if(!Array.isArray(e.allowedTracingUrls)){L.error("Allowed Tracing URLs should be an array");return}if(e.allowedTracingUrls.length!==0&&e.service===void 0){L.error("Service needs to be configured when tracing is enabled");return}var t=[];return e.allowedTracingUrls.forEach(function(r){Zn(r)?t.push({match:r,propagatorTypes:Vc}):Uc(r)?t.push(r):L.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",r)}),t}return[]}function Wv(e){var t=new Set;return Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0&&e.allowedTracingUrls.forEach(function(r){Zn(r)?Vc.forEach(function(n){return t.add(n)}):Ge(r)==="object"&&Array.isArray(r.propagatorTypes)&&r.propagatorTypes.forEach(function(n){return t.add(n)})}),ir(t)}function zc(e){var t,r=Zr(e);return N({session_replay_sample_rate:e.sessionReplaySampleRate,start_session_replay_recording_manually:e.startSessionReplayRecordingManually,trace_sample_rate:e.traceSampleRate,trace_context_injection:e.traceContextInjection,action_name_attribute:e.actionNameAttribute,use_allowed_tracing_urls:Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0,selected_tracing_propagators:Wv(e),default_privacy_level:e.defaultPrivacyLevel,enable_privacy_for_action_name:e.enablePrivacyForActionName,use_excluded_activity_urls:Array.isArray(e.excludedActivityUrls)&&e.excludedActivityUrls.length>0,use_worker_url:!!e.workerUrl,compress_intake_requests:e.compressIntakeRequests,track_views_manually:e.trackViewsManually,track_user_interactions:e.trackUserInteractions,track_resources:e.trackResources,track_long_task:e.trackLongTasks,plugins:(t=e.plugins)===null||t===void 0?void 0:t.map(function(n){var i;return N({name:n.name},(i=n.getConfigurationTelemetry)===null||i===void 0?void 0:i.call(n))})},r)}var Xv="https://d3uc069fcn7uxw.cloudfront.net/configuration";function Hc(e,t){Jv(e,function(r){t(Zv(e,r))})}function Zv(e,t){return N({},e,t)}function Jv(e,t){var r=new XMLHttpRequest;G(e,r,"load",function(){r.status===200?t(JSON.parse(r.responseText)):Gc()}),G(e,r,"error",function(){Gc()}),r.open("GET","".concat(Xv,"/").concat(encodeURIComponent(e.remoteConfigurationId),".json")),r.send()}function Gc(){L.error("Error fetching the remote configuration.")}function jc(e,t){function r(i){return!t.wasInPageStateDuringPeriod("frozen",i.startClocks.relative,i.duration)}function n(i){r(i)&&e.notify(12,Qv(i,!0))}return{addDurationVital:n,startDurationVital:function(i){return Oa(function(o){n(o)},i)}}}function Oa(e,t){var r=ee(),n;return{stop:function(i){n||(n=ee(),e($v(t,r,i,n)))}}}function $v(e,t,r,n){var i;return r===void 0&&(r={}),{name:e.name,type:"duration",startClocks:t,duration:oe(t.timeStamp,n.timeStamp),context:pe(e.context,r.context),details:(i=r.details)!==null&&i!==void 0?i:e.details}}function Qv(e,t){var r={date:e.startClocks.timeStamp,vital:{id:ae(),type:e.type,name:e.name,duration:X(e.duration),details:e.details},type:"vital"};return t&&(r._dd={vital:{computed_value:!0}}),{rawRumEvent:r,startTime:e.startClocks.relative,customerContext:e.context,domainContext:{}}}function qc(e,t,r){if(!!e)for(var n=0,i=e;n<i.length;n++){var o=i[n],a=o[t];a&&a(r)}}function Kc(e,t,r,n){var i=e.ignoreInitIfSyntheticsWillInjectRum,o=e.startDeflateWorker,a=new Ir,s,u,c,l,f=r.observable.subscribe(d);function d(){if(!(!c||!l||!r.isGranted())){f.unsubscribe();var v;if(l.trackViewsManually){if(!s)return;a.remove(s.callback),v=s.options}var g=n(l,u,v);a.drain(g)}}function p(v){var g=_e();if(g&&(v=eh(v)),c=v,rn(zc(v)),l){Vt("DD_RUM",v);return}var E=Bc(v);if(!!E){if(!g&&!E.sessionStoreStrategyType){L.warn("No storage available for session. We will not send any data.");return}E.compressIntakeRequests&&!g&&o&&(u=o(E,"Datadog RUM",F),!u)||(l=E,Ht().subscribe(F),r.tryToInit(E.trackingConsent),d())}}var m=function(v){a.add(function(g){return g.addDurationVital(v)})};return{init:function(v,g){if(!v){L.error("Missing configuration");return}Ln(v.enableExperimentalFeatures),c=v,!(i&&qt())&&(ze(Oe.PLUGINS)&&qc(v.plugins,"onInit",{initConfiguration:v,publicApi:g}),v.remoteConfigurationId&&ze(Oe.REMOTE_CONFIGURATION)?Hc(v,p):p(v))},get initConfiguration(){return c},getInternalContext:F,stopSession:F,addTiming:function(v,g){g===void 0&&(g=j()),a.add(function(E){return E.addTiming(v,g)})},startView:function(v,g){g===void 0&&(g=ee());var E=function(A){A.startView(v,g)};a.add(E),s||(s={options:v,callback:E},d())},updateViewName:function(v){a.add(function(g){return g.updateViewName(v)})},addAction:function(v,g){g===void 0&&(g=t()),a.add(function(E){return E.addAction(v,g)})},addError:function(v,g){g===void 0&&(g=t()),a.add(function(E){return E.addError(v,g)})},addFeatureFlagEvaluation:function(v,g){a.add(function(E){return E.addFeatureFlagEvaluation(v,g)})},startDurationVital:function(v){return Oa(function(g){return m(g)},v)},addDurationVital:m}}function eh(e){var t,r;return N({},e,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100,defaultPrivacyLevel:(t=e.defaultPrivacyLevel)!==null&&t!==void 0?t:(r=De())===null||r===void 0?void 0:r.getPrivacyLevel()})}var Yc="rum";function Aa(e,t,r){r===void 0&&(r={});var n=qn(0),i=jt(n.getOrCreateTracker(2)),o=jt(n.getOrCreateTracker(1)),a=Rn();function s(){return Pc(i,o,t)}var u=Kc(r,s,a,function(f,d,p){ze(Oe.CUSTOM_VITALS)&&(l.startDurationVital=O(function(v,g){return Re({feature:"start-duration-vital"}),u.startDurationVital({name:te(v),context:te(g?.context),details:te(g?.details)})}),l.addDurationVital=O(function(v,g){Re({feature:"add-duration-vital"}),u.addDurationVital({name:te(v),type:"duration",startClocks:lu(g.startTime),duration:g.duration,context:te(g?.context),details:te(g?.details)})}),l.stopDurationVital=F),ze(Oe.UPDATE_VIEW_NAME)&&(l.updateViewName=O(function(v){u.updateViewName(v)})),f.storeContextsAcrossPages&&(xr(f,i,Yc,2),xr(f,o,Yc,1)),n.setCompressionStatus(d?1:2);var m=e(f,t,n,s,p,d&&r.createDeflateEncoder?function(v){return r.createDeflateEncoder(f,d,v)}:Gt,a);return t.onRumStart(m.lifeCycle,f,m.session,m.viewContexts,d),u=th(u,m),m}),c=O(function(f){var d=typeof f=="object"?f:{name:f};u.startView(d),Re({feature:"start-view"})}),l=Un({init:O(function(f){return u.init(f,l)}),setTrackingConsent:O(function(f){a.update(f),Re({feature:"set-tracking-consent",tracking_consent:f})}),setGlobalContext:O(function(f){i.setContext(f),Re({feature:"set-global-context"})}),getGlobalContext:O(function(){return i.getContext()}),setGlobalContextProperty:O(function(f,d){i.setContextProperty(f,d),Re({feature:"set-global-context"})}),removeGlobalContextProperty:O(function(f){return i.removeContextProperty(f)}),clearGlobalContext:O(function(){return i.clearContext()}),getInternalContext:O(function(f){return u.getInternalContext(f)}),getInitConfiguration:O(function(){return sr(u.initConfiguration)}),addAction:function(f,d){var p=wt();it(function(){u.addAction({name:te(f),context:te(d),startClocks:ee(),type:"custom",handlingStack:p}),Re({feature:"add-action"})})},addError:function(f,d){var p=wt();it(function(){u.addError({error:f,handlingStack:p,context:te(d),startClocks:ee()}),Re({feature:"add-error"})})},addTiming:O(function(f,d){u.addTiming(te(f),d)}),setUser:O(function(f){Xn(f)&&o.setContext(Cr(f)),Re({feature:"set-user"})}),getUser:O(function(){return o.getContext()}),setUserProperty:O(function(f,d){var p,m=Cr((p={},p[f]=d,p))[f];o.setContextProperty(f,m),Re({feature:"set-user"})}),removeUserProperty:O(function(f){return o.removeContextProperty(f)}),clearUser:O(function(){return o.clearContext()}),startView:c,stopSession:O(function(){u.stopSession(),Re({feature:"stop-session"})}),addFeatureFlagEvaluation:O(function(f,d){u.addFeatureFlagEvaluation(te(f),te(d)),Re({feature:"add-feature-flag-evaluation"})}),getSessionReplayLink:O(function(){return t.getSessionReplayLink()}),startSessionReplayRecording:O(function(f){t.start(f),Re({feature:"start-session-replay-recording",force:f?.force})}),stopSessionReplayRecording:O(function(){return t.stop()})});return l}function th(e,t){return N({init:function(r){Vt("DD_RUM",r)},initConfiguration:e.initConfiguration},t)}function Wc(){var e=io();return new M(function(t){if(!!e){var r=new e(O(function(){return t.notify()}));return r.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return r.disconnect()}}})}function io(){var e,t=window;if(t.Zone&&(e=nt(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){var r=new t.MutationObserver(F),n=nt(r,"originalInstance");e=n&&n.constructor}return e||(e=t.MutationObserver),e}var Na="initial_document",rh=[["document",function(e){return Na===e}],["xhr",function(e){return e==="xmlhttprequest"}],["fetch",function(e){return e==="fetch"}],["beacon",function(e){return e==="beacon"}],["css",function(e,t){return/\.css$/i.test(t)}],["js",function(e,t){return/\.js$/i.test(t)}],["image",function(e,t){return le(["image","img","icon"],e)||/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)!==null}],["font",function(e,t){return/\.(woff|eot|woff2|ttf)$/i.exec(t)!==null}],["media",function(e,t){return le(["audio","video"],e)||/\.(mp3|mp4)$/i.exec(t)!==null}]];function Zc(e){var t=e.name;if(!Fu(t))return Ae('Failed to construct URL for "'.concat(e.name,'"')),"other";for(var r=Vu(t),n=0,i=rh;n<i.length;n++){var o=i[n],a=o[0],s=o[1];if(s(e.initiatorType,r))return a}return"other"}function Xc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=1;r<e.length;r+=1)if(e[r-1]>e[r])return!1;return!0}function Jc(e){return e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch"}function $c(e){var t=e.duration,r=e.startTime,n=e.responseEnd;return t===0&&r<n?X(oe(r,n)):X(t)}function Qc(e){if(!!ka(e)){var t=e.startTime,r=e.fetchStart,n=e.redirectStart,i=e.redirectEnd,o=e.domainLookupStart,a=e.domainLookupEnd,s=e.connectStart,u=e.secureConnectionStart,c=e.connectEnd,l=e.requestStart,f=e.responseStart,d=e.responseEnd,p={download:fn(t,f,d),first_byte:fn(t,l,f)};return r<c&&(p.connect=fn(t,s,c),s<=u&&u<=c&&(p.ssl=fn(t,u,c))),r<a&&(p.dns=fn(t,o,a)),t<i&&(p.redirect=fn(t,n,i)),p}}function ka(e){if(ze(Oe.TOLERANT_RESOURCE_TIMINGS))return!0;var t=Xc(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd),r=nh(e)?Xc(e.startTime,e.redirectStart,e.redirectEnd,e.fetchStart):!0;return t&&r}function nh(e){return e.redirectEnd>e.startTime}function fn(e,t,r){if(e<=t&&t<=r)return{duration:X(oe(t,r)),start:X(oe(e,t))}}function el(e){if(e.startTime<e.responseStart){var t=e.encodedBodySize,r=e.decodedBodySize,n=e.transferSize;return{size:r,encoded_body_size:t,decoded_body_size:r,transfer_size:n}}return{size:void 0,encoded_body_size:void 0,decoded_body_size:void 0,transfer_size:void 0}}function $n(e,t){return t&&!e.isIntakeUrl(t)}var ih=/data:(.+)?(;base64)?,/g,Ra=24e3;function Qn(e){return e.length<=Ra?!1:e.substring(0,5)==="data:"?(e=e.substring(0,Ra),!0):!1}function ei(e){return"".concat(e.match(ih)[0],"[...]")}function oo(){var e={},t=performance.timing;for(var r in t)if(pt(t[r])){var n=r,i=t[n];e[n]=i===0?0:_r(i)}return e}var B;(function(e){e.EVENT="event",e.FIRST_INPUT="first-input",e.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",e.LAYOUT_SHIFT="layout-shift",e.LONG_TASK="longtask",e.NAVIGATION="navigation",e.PAINT="paint",e.RESOURCE="resource"})(B||(B={}));function ao(e,t){return new M(function(r){var n,i;if(window.PerformanceObserver){var o=!0,a=function(u){var c=sh(e,u);c.length>0&&r.notify(c)};n=new PerformanceObserver(O(function(u){o?i=J(function(){return a(u.getEntries())}):a(u.getEntries())}));try{n.observe(t)}catch{var s=[B.RESOURCE,B.NAVIGATION,B.LONG_TASK,B.PAINT];le(s,t.type)&&(t.buffered&&(i=J(function(){return a(performance.getEntriesByType(t.type))})),n.observe({entryTypes:[t.type]}))}o=!1}return oh(e),function(){n?.disconnect(),i&&Le(i)}})}var ti;function oh(e){return!ti&&ah()&&"addEventListener"in performance&&(ti=G(e,performance,"resourcetimingbufferfull",function(){performance.clearResourceTimings()})),function(){ti?.stop()}}function ah(){return window.performance!==void 0&&"getEntries"in performance}function Yt(e){return window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.includes(e)}function sh(e,t){return t.filter(function(r){return uh(e,r)})}function uh(e,t){return t.entryType===B.RESOURCE&&$n(e,t.name)}function tl(){return window.performance!==void 0&&"getEntries"in performance}function rl(e,t){var r=[];if(tl()){var n=performance.getEntries();J(function(){return so(e,n)})}if(window.PerformanceObserver){var i=O(function(l){return so(e,l.getEntries())}),o=[B.NAVIGATION,B.LONG_TASK,B.PAINT],a=[B.LARGEST_CONTENTFUL_PAINT,B.FIRST_INPUT,B.LAYOUT_SHIFT,B.EVENT];try{a.forEach(function(l){var f=new window.PerformanceObserver(i);f.observe({type:l,buffered:!0,durationThreshold:40}),r.push(function(){return f.disconnect()})})}catch{o.push.apply(o,a)}var s=new PerformanceObserver(i);if(s.observe({entryTypes:o}),r.push(function(){return s.disconnect()}),tl()&&"addEventListener"in performance){var u=G(t,performance,"resourcetimingbufferfull",function(){performance.clearResourceTimings()}).stop;r.push(u)}}if(Yt(B.NAVIGATION)||ch(t,function(l){so(e,[l])}),!Yt(B.FIRST_INPUT)){var c=lh(t,function(l){so(e,[l])}).stop;r.push(c)}return{stop:function(){r.forEach(function(l){return l()})}}}function ch(e,t){function r(){t(N(oo(),{entryType:B.NAVIGATION}))}wr(e,"complete",function(){J(r)})}function lh(e,t){var r=Ke(),n=!1,i=fe(e,window,[x.CLICK,x.MOUSE_DOWN,x.KEY_DOWN,x.TOUCH_START,x.POINTER_DOWN],function(s){if(!!s.cancelable){var u={entryType:B.FIRST_INPUT,processingStart:Ce(),processingEnd:Ce(),startTime:s.timeStamp,duration:0,name:""};s.type===x.POINTER_DOWN?o(e,u):a(u)}},{passive:!0,capture:!0}).stop;return{stop:i};function o(s,u){fe(s,window,[x.POINTER_UP,x.POINTER_CANCEL],function(c){c.type===x.POINTER_UP&&a(u)},{once:!0})}function a(s){if(!n){n=!0,i();var u=s.processingStart-s.startTime;u>=0&&u<Ke()-r&&t(s)}}}function so(e,t){var r=t.filter(function(i){return Ut(B,i.entryType)}),n=r.filter(function(i){return!fh(i)});n.length&&e.notify(0,n)}function fh(e){return e.entryType===B.NAVIGATION&&e.loadEventEnd<=0}function nl(){var e=Yn(),t=Wn();if(e&&t)return{test_id:e,result_id:t,injected:qt()}}function ol(e,t,r){var n=sr(e),i=r(n);return qr(t).forEach(function(o){var a=o[0],s=o[1],u=dh(n,a),c=Ge(u);c===s?il(e,a,te(u)):s==="object"&&(c==="undefined"||c==="null")&&il(e,a,{})}),i}function dh(e,t){for(var r=e,n=0,i=t.split(".");n<i.length;n++){var o=i[n];if(!ph(r,o))return;r=r[o]}return r}function il(e,t,r){for(var n=e,i=t.split("."),o=0;o<i.length;o+=1){var a=i[o];if(!al(n))return;o!==i.length-1?n=n[a]:n[a]=r}}function al(e){return Ge(e)==="object"}function ph(e,t){return al(e)&&Object.prototype.hasOwnProperty.call(e,t)}var dn={"view.name":"string","view.url":"string","view.referrer":"string"},ri={context:"object"},La={service:"string",version:"string"},sl;function ul(e,t,r,n,i,o,a,s,u,c){var l,f;sl=(l={},l.view=dn,l.error=N({"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string"},ri,dn,La),l.resource=N({"resource.url":"string"},ze(Oe.WRITABLE_RESOURCE_GRAPHQL)?{"resource.graphql":"object"}:{},ri,dn,La),l.action=N({"action.target.name":"string"},ri,dn,La),l.long_task=N({},ri,dn),l.vital=N({},ri,dn),l);var d=(f={},f.error=sn("error",e.eventRateLimiterThreshold,c),f.action=sn("action",e.eventRateLimiterThreshold,c),f.vital=sn("vital",e.eventRateLimiterThreshold,c),f),p=nl();t.subscribe(12,function(m){var v=m.startTime,g=m.rawRumEvent,E=m.domainContext,A=m.savedCommonContext,D=m.customerContext,h=n.findView(v),R=i.findUrl(v),_=r.findTrackedSession(v);if(_&&h&&R){var b=A||u(),z=o.findActionId(v),Z={_dd:{format_version:2,drift:fu(),configuration:{session_sample_rate:gr(e.sessionSampleRate,3),session_replay_sample_rate:gr(e.sessionReplaySampleRate,3)},browser_sdk_version:_e()?"5.23.0":void 0},application:{id:e.applicationId},date:j(),service:h.service||e.service,version:h.version||e.version,source:"browser",session:{id:_.id,type:p?"synthetics":s.get()?"ci_test":"user"},view:{id:h.id,name:h.name,url:R.url,referrer:R.referrer},action:vh(g)&&z?{id:z}:void 0,synthetics:p,ci_test:s.get(),display:a.get(),connectivity:Zi()},W=pe(Z,g);W.context=pe(b.context,D),"has_replay"in W.session||(W.session.has_replay=b.hasReplay),W.type==="view"&&(W.session.sampled_for_replay=_.sessionReplay===1),We(b.user)||(W.usr=b.user),mh(W,e.beforeSend,E,d)&&(We(W.context)&&delete W.context,t.notify(13,W))}})}function mh(e,t,r,n){var i;if(t){var o=ol(e,sl[e.type],function(s){return t(s,r)});if(o===!1&&e.type!=="view")return!1;o===!1&&L.warn("Can't dismiss view events using beforeSend!")}var a=(i=n[e.type])===null||i===void 0?void 0:i.isLimitReached();return!a}function vh(e){return["error","resource","long_task"].indexOf(e.type)!==-1}function cl(e,t,r,n,i){return{get:function(o){var a=r.findView(o),s=i.findUrl(o),u=t.findTrackedSession(o);if(u&&a&&s){var c=n.findActionId(o);return{application_id:e,session_id:u.id,user_action:c?{id:c}:void 0,view:{id:a.id,name:a.name,referrer:s.referrer,url:s.url}}}}}}var Pa=Gn;var hh=Be;function Da(e){var t=new et(hh);e.subscribe(2,function(n){t.add(r(n),n.startClocks.relative)}),e.subscribe(6,function(n){var i=n.endClocks;t.closeActive(i.relative)}),e.subscribe(4,function(n){var i=t.find(n.startClocks.relative);i&&n.name&&(i.name=n.name)}),e.subscribe(10,function(){t.reset()});function r(n){return{service:n.service,version:n.version,id:n.id,name:n.name,startClocks:n.startClocks}}return{findView:function(n){return t.find(n)},stop:function(){t.stop()}}}var ll=1;function fl(e,t,r){var n=Mc(t,r);gh(e,t,n),_h(e,t,n)}function gh(e,t,r){var n=Hn(t).subscribe(function(i){var o=i;if(!!$n(t,o.url))switch(o.state){case"start":r.traceXhr(o,o.xhr),o.requestIndex=dl(),e.notify(7,{requestIndex:o.requestIndex,url:o.url});break;case"complete":r.clearTracingIfNeeded(o),e.notify(8,{duration:o.duration,method:o.method,requestIndex:o.requestIndex,spanId:o.spanId,startClocks:o.startClocks,status:o.status,traceId:o.traceId,traceSampled:o.traceSampled,type:"xhr",url:o.url,xhr:o.xhr,isAborted:o.isAborted,handlingStack:o.handlingStack});break}});return{stop:function(){return n.unsubscribe()}}}function _h(e,t,r){var n=Ht().subscribe(function(i){var o=i;if(!!$n(t,o.url))switch(o.state){case"start":r.traceFetch(o),o.requestIndex=dl(),e.notify(7,{requestIndex:o.requestIndex,url:o.url});break;case"resolve":yh(o,function(a){r.clearTracingIfNeeded(o),e.notify(8,{duration:a,method:o.method,requestIndex:o.requestIndex,responseType:o.responseType,spanId:o.spanId,startClocks:o.startClocks,status:o.status,traceId:o.traceId,traceSampled:o.traceSampled,type:"fetch",url:o.url,response:o.response,init:o.init,input:o.input,isAborted:o.isAborted,handlingStack:o.handlingStack})});break}});return{stop:function(){return n.unsubscribe()}}}function dl(){var e=ll;return ll+=1,e}function yh(e,t){var r=e.response&&eo(e.response);!r||!r.body?t(oe(e.startClocks.timeStamp,j())):Kn(r.body,function(){t(oe(e.startClocks.timeStamp,j()))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1})}function uo(e){return pt(e)&&e<0?void 0:e}function co(e){var t=e.lifeCycle,r=e.isChildEvent,n=e.onChange,i=n===void 0?F:n,o={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},a=t.subscribe(13,function(s){var u;if(!(s.type==="view"||s.type==="vital"||!r(s)))switch(s.type){case"error":o.errorCount+=1,i();break;case"action":o.actionCount+=1,s.action.frustration&&(o.frustrationCount+=s.action.frustration.type.length),i();break;case"long_task":o.longTaskCount+=1,i();break;case"resource":!((u=s._dd)===null||u===void 0)&&u.discarded||(o.resourceCount+=1,i());break}});return{stop:function(){a.unsubscribe()},eventCounts:o}}var Ma=100,Eh=100;function ni(e,t,r,n,i){var o=Sh(e,t,r);return bh(o,n,i)}function bh(e,t,r){var n,i=!1,o=J(O(function(){return c({hadActivity:!1})}),Ma),a=r!==void 0?J(O(function(){return c({hadActivity:!0,end:j()})}),r):void 0,s=e.subscribe(function(l){var f=l.isBusy;Le(o),Le(n);var d=j();f||(n=J(O(function(){return c({hadActivity:!0,end:d})}),Eh))}),u=function(){i=!0,Le(o),Le(n),Le(a),s.unsubscribe()};function c(l){i||(u(),t(l))}return{stop:u}}function Sh(e,t,r){return new M(function(n){var i=[],o,a=0;i.push(t.subscribe(u),ao(r,{type:B.RESOURCE}).subscribe(function(c){c.some(function(l){return!Ua(r,l.name)})&&u()}),e.subscribe(7,function(c){Ua(r,c.url)||(o===void 0&&(o=c.requestIndex),a+=1,u())}),e.subscribe(8,function(c){Ua(r,c.url)||o===void 0||c.requestIndex<o||(a-=1,u())}));var s=Th(u).stop;return function(){s(),i.forEach(function(c){return c.unsubscribe()})};function u(){n.notify({isBusy:a>0})}})}function Ua(e,t){return to(e.excludedActivityUrls,t)}function Th(e){return ge(window,"open",e)}function xt(e){return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,r){return r?t==="\0"?"\uFFFD":"".concat(t.slice(0,-1),"\\").concat(t.charCodeAt(t.length-1).toString(16)," "):"\\".concat(t)})}function Wt(e,t){return e.matches?e.matches(t):e.msMatchesSelector?e.msMatchesSelector(t):!1}function Rr(e){if(e.parentElement)return e.parentElement;for(;e.parentNode;){if(e.parentNode.nodeType===Node.ELEMENT_NODE)return e.parentNode;e=e.parentNode}return null}function ml(e){var t;if(e.classList)return e.classList;var r=(t=e.getAttribute("class"))===null||t===void 0?void 0:t.trim();return r?r.split(/\s+/):[]}var pl=1,vl=function(){function e(t){var r=this;this.map=new WeakMap,t&&t.forEach(function(n){return r.map.set(n,pl)})}return e.prototype.add=function(t){return this.map.set(t,pl),this},e.prototype.delete=function(t){return this.map.delete(t)},e.prototype.has=function(t){return this.map.has(t)},e}();function lo(e){return e.nodeType===Node.TEXT_NODE}function hl(e){return e.nodeType===Node.COMMENT_NODE}function Ct(e){return e.nodeType===Node.ELEMENT_NODE}function pn(e){return Ct(e)&&Boolean(e.shadowRoot)}function ii(e){var t=e;return!!t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&Ct(t.host)}function gl(e){return e.childNodes.length>0||pn(e)}function fo(e,t){for(var r=e.firstChild;r;)t(r),r=r.nextSibling;pn(e)&&t(e.shadowRoot)}function Nr(e){return ii(e)?e.host:e.parentNode}var P={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:Ft.ALLOW,MASK:Ft.MASK,MASK_USER_INPUT:Ft.MASK_USER_INPUT},oi="data-dd-privacy";var yl="hidden",Ih="dd-privacy-",Ot="***",Fa="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",wh={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0},xh="x";function Ue(e,t,r){if(r&&r.has(e))return r.get(e);var n=Nr(e),i=n?Ue(n,t,r):t,o=Ba(e),a=Va(o,i);return r&&r.set(e,a),a}function Va(e,t){switch(t){case P.HIDDEN:case P.IGNORE:return t}switch(e){case P.ALLOW:case P.MASK:case P.MASK_USER_INPUT:case P.HIDDEN:case P.IGNORE:return e;default:return t}}function Ba(e){if(!!Ct(e)){if(e.tagName==="BASE")return P.ALLOW;if(e.tagName==="INPUT"){var t=e;if(t.type==="password"||t.type==="email"||t.type==="tel"||t.type==="hidden")return P.MASK;var r=t.getAttribute("autocomplete");if(r&&r.indexOf("cc-")===0)return P.MASK}if(Wt(e,kr(P.HIDDEN)))return P.HIDDEN;if(Wt(e,kr(P.MASK)))return P.MASK;if(Wt(e,kr(P.MASK_USER_INPUT)))return P.MASK_USER_INPUT;if(Wt(e,kr(P.ALLOW)))return P.ALLOW;if(Oh(e))return P.IGNORE}}function Lr(e,t){switch(t){case P.MASK:case P.HIDDEN:case P.IGNORE:return!0;case P.MASK_USER_INPUT:return lo(e)?_l(e.parentNode):_l(e);default:return!1}}function _l(e){if(!e||e.nodeType!==e.ELEMENT_NODE)return!1;var t=e;if(t.tagName==="INPUT")switch(t.type){case"button":case"color":case"reset":case"submit":return!1}return!!wh[t.tagName]}var Ch=function(e){return e.replace(/\S/g,xh)};function po(e,t,r){var n,i=(n=e.parentElement)===null||n===void 0?void 0:n.tagName,o=e.textContent||"";if(!(t&&!o.trim())){var a=r,s=i==="SCRIPT";if(s)o=Ot;else if(a===P.HIDDEN)o=Ot;else if(Lr(e,a))if(i==="DATALIST"||i==="SELECT"||i==="OPTGROUP"){if(!o.trim())return}else i==="OPTION"?o=Ot:o=Ch(o);return o}}function Oh(e){if(e.nodeName==="SCRIPT")return!0;if(e.nodeName==="LINK"){var t=i("rel");return/preload|prefetch/i.test(t)&&i("as")==="script"||t==="shortcut icon"||t==="icon"}if(e.nodeName==="META"){var r=i("name"),t=i("rel"),n=i("property");return/^msapplication-tile(image|color)$/.test(r)||r==="application-name"||t==="icon"||t==="apple-touch-icon"||t==="shortcut icon"||r==="keywords"||r==="description"||/^(og|twitter|fb):/.test(n)||/^(og|twitter):/.test(r)||r==="pinterest"||r==="robots"||r==="googlebot"||r==="bingbot"||e.hasAttribute("http-equiv")||r==="author"||r==="generator"||r==="framework"||r==="publisher"||r==="progid"||/^article:/.test(n)||/^product:/.test(n)||r==="google-site-verification"||r==="yandex-verification"||r==="csrf-token"||r==="p:domain_verify"||r==="verify-v1"||r==="verification"||r==="shopify-checkout-api-token"}function i(o){return(e.getAttribute(o)||"").toLowerCase()}return!1}function kr(e){return"[".concat(oi,'="').concat(e,'"], .').concat(Ih).concat(e)}var ai="data-dd-action-name",Ah="Masked Element";function Sl(e,t,r){var n=t.enablePrivacyForActionName,i=t.actionNameAttribute,o=El(e,ai)||i&&El(e,i);return r===P.MASK?o||Ah:o||bl(e,i,Rh,n)||bl(e,i,Nh,n)||""}function El(e,t){var r;if(Uh())r=e.closest("[".concat(t,"]"));else for(var n=e;n;){if(n.hasAttribute(t)){r=n;break}n=Rr(n)}if(!!r){var i=r.getAttribute(t);return Il(Tl(i.trim()))}}var Rh=[function(e,t,r){if(Dh()){if("labels"in e&&e.labels&&e.labels.length>0)return mn(e.labels[0],t)}else if(e.id){var n=e.ownerDocument&&Ve(e.ownerDocument.querySelectorAll("label"),function(i){return i.htmlFor===e.id});return n&&mn(n,t,r)}},function(e){if(e.nodeName==="INPUT"){var t=e,r=t.getAttribute("type");if(r==="button"||r==="submit"||r==="reset")return t.value}},function(e,t,r){if(e.nodeName==="BUTTON"||e.nodeName==="LABEL"||e.getAttribute("role")==="button")return mn(e,t,r)},function(e){return e.getAttribute("aria-label")},function(e,t,r){var n=e.getAttribute("aria-labelledby");if(n)return n.split(/\s+/).map(function(i){return Lh(e,i)}).filter(function(i){return Boolean(i)}).map(function(i){return mn(i,t,r)}).join(" ")},function(e){return e.getAttribute("alt")},function(e){return e.getAttribute("name")},function(e){return e.getAttribute("title")},function(e){return e.getAttribute("placeholder")},function(e,t){if("options"in e&&e.options.length>0)return mn(e.options[0],t)}],Nh=[function(e,t,r){return mn(e,t,r)}],kh=10;function bl(e,t,r,n){for(var i=e,o=0;o<=kh&&i&&i.nodeName!=="BODY"&&i.nodeName!=="HTML"&&i.nodeName!=="HEAD";){for(var a=0,s=r;a<s.length;a++){var u=s[a],c=u(i,t,n);if(typeof c=="string"){var l=c.trim();if(l)return Il(Tl(l))}}if(i.nodeName==="FORM")break;i=Rr(i),o+=1}}function Tl(e){return e.replace(/\s+/g," ")}function Il(e){return e.length>100?"".concat(Mi(e,100)," [...]"):e}function Lh(e,t){return e.ownerDocument?e.ownerDocument.getElementById(t):null}function mn(e,t,r){if(!e.isContentEditable){if("innerText"in e){var n=e.innerText,i=function(o){for(var a=e.querySelectorAll(o),s=0;s<a.length;s+=1){var u=a[s];if("innerText"in u){var c=u.innerText;c&&c.trim().length>0&&(n=n.replace(c,""))}}};return Ph()||i("script, style"),i("[".concat(ai,"]")),t&&i("[".concat(t,"]")),r&&i("".concat(kr(P.HIDDEN),", ").concat(kr(P.MASK))),n}return e.textContent}}function Ph(){return!bu()}var za;function Dh(){return za===void 0&&(za="labels"in HTMLInputElement.prototype),za}var Ga;function Uh(){return Ga===void 0&&(Ga="closest"in HTMLElement.prototype),Ga}var vo=[ai,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],Mh=[Cl,Vh],Fh=[Cl,Bh,zh];function At(e,t){if(!!Kh(e)){for(var r,n=e;n&&n.nodeName!=="HTML";){var i=wl(n,Mh,Hh,t,r);if(i)return i;var o=wl(n,Fh,jh,t,r);r=o||si(Gh(n),r),n=Rr(n)}return r}}function xl(e){return/[0-9]/.test(e)}function Vh(e){if(e.id&&!xl(e.id))return"#".concat(xt(e.id))}function Bh(e){if(e.tagName!=="BODY")for(var t=ml(e),r=0;r<t.length;r+=1){var n=t[r];if(!xl(n))return"".concat(xt(e.tagName),".").concat(xt(n))}}function zh(e){return xt(e.tagName)}function Cl(e,t){if(t){var r=a(t);if(r)return r}for(var n=0,i=vo;n<i.length;n++){var o=i[n],r=a(o);if(r)return r}function a(s){if(e.hasAttribute(s))return"".concat(xt(e.tagName),"[").concat(s,'="').concat(xt(e.getAttribute(s)),'"]')}}function Gh(e){for(var t=Rr(e).firstElementChild,r=1;t&&t!==e;)t.tagName===e.tagName&&(r+=1),t=t.nextElementSibling;return"".concat(xt(e.tagName),":nth-of-type(").concat(r,")")}function wl(e,t,r,n,i){for(var o=0,a=t;o<a.length;o++){var s=a[o],u=s(e,n);if(!!u&&r(e,u,i))return si(u,i)}}function Hh(e,t,r){return e.ownerDocument.querySelectorAll(si(t,r)).length===1}function jh(e,t,r){var n;if(r===void 0)n=function(s){return Wt(s,t)};else{var i=qh()?si("".concat(t,":scope"),r):si(t,r);n=function(s){return s.querySelector(i)!==null}}for(var o=Rr(e),a=o.firstElementChild;a;){if(a!==e&&n(a))return!1;a=a.nextElementSibling}return!0}function si(e,t){return t?"".concat(e,">").concat(t):e}var mo;function qh(){if(mo===void 0)try{document.querySelector(":scope"),mo=!0}catch{mo=!1}return mo}function Kh(e){return"isConnected"in e?e.isConnected:e.ownerDocument.documentElement.contains(e)}var Ol=ie,Yh=100;function Al(e,t){var r=[],n=0,i;o(e);function o(u){u.stopObservable.subscribe(a),r.push(u),Le(i),i=J(s,Ol)}function a(){n===1&&r.every(function(u){return u.isStopped()})&&(n=2,t(r))}function s(){Le(i),n===0&&(n=1,a())}return{tryAppend:function(u){return n!==0?!1:r.length>0&&!Wh(r[r.length-1].event,u.event)?(s(),!1):(o(u),!0)},stop:function(){s()}}}function Wh(e,t){return e.target===t.target&&Xh(e,t)<=Yh&&e.timeStamp-t.timeStamp<=Ol}function Xh(e,t){return Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2))}function kl(e,t){var r=t.onPointerDown,n=t.onPointerUp,i,o={selection:!1,input:!1,scroll:!1},a,s=[G(e,window,x.POINTER_DOWN,function(u){Nl(u)&&(i=Rl(),o={selection:!1,input:!1,scroll:!1},a=r(u))},{capture:!0}),G(e,window,x.SELECTION_CHANGE,function(){(!i||!Rl())&&(o.selection=!0)},{capture:!0}),G(e,window,x.SCROLL,function(){o.scroll=!0},{capture:!0,passive:!0}),G(e,window,x.POINTER_UP,function(u){if(Nl(u)&&a){var c=o;n(a,u,function(){return c}),a=void 0}},{capture:!0}),G(e,window,x.INPUT,function(){o.input=!0},{capture:!0})];return{stop:function(){s.forEach(function(u){return u.stop()})}}}function Rl(){var e=window.getSelection();return!e||e.isCollapsed}function Nl(e){return e.target instanceof Element&&e.isPrimary!==!1}var Ll=3;function Dl(e,t){if(Zh(e))return t.addFrustration("rage_click"),e.some(Pl)&&t.addFrustration("dead_click"),t.hasError&&t.addFrustration("error_click"),{isRage:!0};var r=e.some(function(n){return n.getUserActivity().selection});return e.forEach(function(n){n.hasError&&n.addFrustration("error_click"),Pl(n)&&!r&&n.addFrustration("dead_click")}),{isRage:!1}}function Zh(e){if(e.some(function(r){return r.getUserActivity().selection||r.getUserActivity().scroll}))return!1;for(var t=0;t<e.length-(Ll-1);t+=1)if(e[t+Ll-1].event.timeStamp-e[t].event.timeStamp<=ie)return!0;return!1}var Jh='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *';function Pl(e){return e.hasPageActivity||e.getUserActivity().input||e.getUserActivity().scroll?!1:!Wt(e.event.target,Jh)}var $h=10*ie,Qh=5*ue;function Ul(e,t,r){var n=new et(Qh),i=new M,o;e.subscribe(10,function(){n.reset()}),e.subscribe(5,c);var a=kl(r,{onPointerDown:function(l){return eg(r,e,t,l)},onPointerUp:function(l,f,d){var p=l.clickActionBase,m=l.hadActivityOnPointerDown;tg(r,e,t,n,i,u,p,f,d,m)}}).stop,s={findActionId:function(l){return n.findAll(l)}};return{stop:function(){c(),i.notify(),a()},actionContexts:s};function u(l){if(!o||!o.tryAppend(l)){var f=l.clone();o=Al(l,function(d){ng(d,f)})}}function c(){o&&o.stop()}}function eg(e,t,r,n){var i=e.enablePrivacyForActionName?Ue(n.target,e.defaultPrivacyLevel):P.ALLOW;if(i!==P.HIDDEN){var o=rg(n,i,e),a=!1;return ni(t,r,e,function(s){a=s.hadActivity},Ma),{clickActionBase:o,hadActivityOnPointerDown:function(){return a}}}}function tg(e,t,r,n,i,o,a,s,u,c){var l=Ml(t,n,u,a,s);o(l);var f=ni(t,r,e,function(m){m.hadActivity&&m.end<l.startClocks.timeStamp?l.discard():m.hadActivity?l.stop(m.end):c()?l.stop(l.startClocks.timeStamp):l.stop()},$h).stop,d=t.subscribe(5,function(m){var v=m.endClocks;l.stop(v.timeStamp)}),p=i.subscribe(function(){l.stop()});l.stopObservable.subscribe(function(){d.unsubscribe(),f(),p.unsubscribe()})}function rg(e,t,r){var n=e.target.getBoundingClientRect();return{type:"click",target:{width:Math.round(n.width),height:Math.round(n.height),selector:At(e.target,r.actionNameAttribute)},position:{x:Math.round(e.clientX-n.left),y:Math.round(e.clientY-n.top)},name:Sl(e.target,r,t)}}function Ml(e,t,r,n,i){var o=ae(),a=ee(),s=t.add(o,a.relative),u=co({lifeCycle:e,isChildEvent:function(m){return m.action!==void 0&&(Array.isArray(m.action.id)?le(m.action.id,o):m.action.id===o)}}),c=0,l,f=[],d=new M;function p(m){c===0&&(l=m,c=1,l?s.close(_r(l)):s.remove(),u.stop(),d.notify())}return{event:i,stop:p,stopObservable:d,get hasError(){return u.eventCounts.errorCount>0},get hasPageActivity(){return l!==void 0},getUserActivity:r,addFrustration:function(m){f.push(m)},startClocks:a,isStopped:function(){return c===1||c===2},clone:function(){return Ml(e,t,r,n,i)},validate:function(m){if(p(),c===1){var v=u.eventCounts,g=v.resourceCount,E=v.errorCount,A=v.longTaskCount,D=N({type:"click",duration:l&&oe(a.timeStamp,l),startClocks:a,id:o,frustrationTypes:f,counts:{resourceCount:g,errorCount:E,longTaskCount:A},events:m??[i],event:i},n);e.notify(1,D),c=2}},discard:function(){p(),c=2}}}function ng(e,t){var r=Dl(e,t).isRage;r?(e.forEach(function(n){return n.discard()}),t.stop(j()),t.validate(e.map(function(n){return n.event}))):(t.discard(),e.forEach(function(n){return n.validate()}))}function Vl(e,t,r,n){e.subscribe(1,function(o){return e.notify(12,Fl(o,n))});var i={findActionId:F};return r.trackUserInteractions&&(i=Ul(e,t,r).actionContexts),{addAction:function(o,a){e.notify(12,N({savedCommonContext:a},Fl(o,n)))},actionContexts:i}}function Fl(e,t){var r=ho(e)?{action:{id:e.id,loading_time:uo(X(e.duration)),frustration:{type:e.frustrationTypes},error:{count:e.counts.errorCount},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_dd:{action:{target:e.target,position:e.position}}}:void 0,n=ho(e)?void 0:e.context,i=pe({action:{id:ae(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:"action",view:{in_foreground:t.wasInPageStateAt("active",e.startClocks.relative)}},r),o=ho(e)?{events:e.events}:{};return!ho(e)&&e.handlingStack&&(o.handlingStack=e.handlingStack),{customerContext:n,rawRumEvent:i,startTime:e.startClocks.relative,domainContext:o}}function ho(e){return e.type!=="custom"}function Bl(e){var t=jn([ne.error]).subscribe(function(r){return e.notify({startClocks:ee(),message:r.message,stack:r.stack,fingerprint:r.fingerprint,source:re.CONSOLE,handling:"handled",handlingStack:r.handlingStack})});return{stop:function(){t.unsubscribe()}}}function zl(e,t){var r=Fn(e,[Ze.cspViolation,Ze.intervention]).subscribe(function(n){var i={startClocks:ee(),message:n.message,stack:n.stack,type:n.subtype,source:re.REPORT,handling:"unhandled",originalError:n.originalReport};return n.originalReport.type==="securitypolicyviolation"&&(i.csp={disposition:n.originalReport.disposition}),t.notify(i)});return{stop:function(){r.unsubscribe()}}}function Gl(e,t,r,n){var i=new M;return Bl(i),Dn(i),zl(t,i),i.subscribe(function(o){return e.notify(14,{error:o})}),ig(e,r,n)}function ig(e,t,r){return e.subscribe(14,function(n){var i=n.error,o=n.customerContext,a=n.savedCommonContext;e.notify(12,N({customerContext:o,savedCommonContext:a},og(i,t,r)))}),{addError:function(n,i){var o=n.error,a=n.handlingStack,s=n.startClocks,u=n.context,c=o instanceof Error?Te(o):void 0,l=Tr({stackTrace:c,originalError:o,handlingStack:a,startClocks:s,nonErrorPrefix:"Provided",source:re.CUSTOM,handling:"handled"});e.notify(14,{customerContext:u,savedCommonContext:i,error:l})}}}function og(e,t,r){var n={date:e.startClocks.timeStamp,error:{id:ae(),message:e.message,source:e.source,stack:e.stack,handling_stack:e.handlingStack,type:e.type,handling:e.handling,causes:e.causes,source_type:"browser",fingerprint:e.fingerprint,csp:e.csp},type:"error",view:{in_foreground:t.wasInPageStateAt("active",e.startClocks.relative)}},i=r.findFeatureFlagEvaluations(e.startClocks.relative);i&&!We(i)&&(n.feature_flags=i);var o={error:e.originalError,handlingStack:e.handlingStack};return{rawRumEvent:n,startTime:e.startClocks.relative,domainContext:o}}function Hl(e,t){e.subscribe(0,function(r){for(var n=0,i=r;n<i.length;n++){var o=i[n];if(o.entryType!==B.LONG_TASK||!t.trackLongTasks)break;var a=In(o.startTime),s={date:a.timeStamp,long_task:{id:ae(),duration:X(o.duration)},type:"long_task",_dd:{discarded:!1}};e.notify(12,{rawRumEvent:s,startTime:a.relative,domainContext:{performanceEntry:o}})}})}var jl=new vl;function ql(e){if(!(!performance||!("getEntriesByName"in performance))){var t=performance.getEntriesByName(e.url,"resource");if(!(!t.length||!("toJSON"in t[0]))){var r=t.filter(function(n){return!jl.has(n)}).filter(function(n){return ka(n)}).filter(function(n){return ag(n,e.startClocks.relative,Kl({startTime:e.startClocks.relative,duration:e.duration}))});if(r.length===1)return jl.add(r[0]),r[0].toJSON()}}}function Kl(e){return nr(e.startTime,e.duration)}function ag(e,t,r){var n=1;return e.startTime>=t-n&&Kl(e)<=nr(r,n)}var sg=2*ue;function Wl(e){var t=ug(e)||cg(e);if(!(!t||t.traceTime<=Ke()-sg))return t.traceId}function ug(e){var t=e.querySelector("meta[name=dd-trace-id]"),r=e.querySelector("meta[name=dd-trace-time]");return Xl(t&&t.content,r&&r.content)}function cg(e){var t=lg(e);if(!!t)return Xl(or(t,"trace-id"),or(t,"trace-time"))}function Xl(e,t){var r=t&&Number(t);if(!(!e||!r))return{traceId:e,traceTime:r}}function lg(e){for(var t=0;t<e.childNodes.length;t+=1){var r=Yl(e.childNodes[t]);if(r)return r}if(e.body)for(var t=e.body.childNodes.length-1;t>=0;t-=1){var n=e.body.childNodes[t],r=Yl(n);if(r)return r;if(!lo(n))break}}function Yl(e){if(e&&hl(e)){var t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}function Zl(e,t){wr(e,"interactive",function(){var r,n={entryType:B.RESOURCE,initiatorType:Na,traceId:Wl(document),toJSON:function(){return N({},r,{toJSON:void 0})}};if(Yt(B.NAVIGATION)&&performance.getEntriesByType(B.NAVIGATION).length>0){var i=performance.getEntriesByType(B.NAVIGATION)[0];r=N(i.toJSON(),n)}else{var o=oo();r=N(o,{decodedBodySize:0,encodedBodySize:0,transferSize:0,renderBlockingStatus:"non-blocking",duration:o.responseEnd,name:window.location.href,startTime:0},n)}t(r)})}function $l(e,t,r){e.subscribe(8,function(i){var o=fg(i,t,r);o&&e.notify(12,o)});var n=ao(t,{type:B.RESOURCE,buffered:!0}).subscribe(function(i){for(var o=0,a=i;o<a.length;o++){var s=a[o];if(!Jc(s)){var u=Jl(s,t);u&&e.notify(12,u)}}});return Zl(t,function(i){var o=Jl(i,t);o&&e.notify(12,o)}),{stop:function(){n.unsubscribe()}}}function fg(e,t,r){var n=ql(e),i=n?In(n.startTime):e.startClocks,o=dg(e,t);if(!(!t.trackResources&&!o)){var a=e.type==="xhr"?"xhr":"fetch",s=n?Ql(n):void 0,u=mg(r,i,e.duration),c=pe({date:i.timeStamp,resource:{id:ae(),type:a,duration:u,method:e.method,status_code:e.status,url:Qn(e.url)?ei(e.url):e.url},type:"resource",_dd:{discarded:!t.trackResources}},o,s);return{startTime:i.relative,rawRumEvent:c,domainContext:{performanceEntry:n,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error,isAborted:e.isAborted,handlingStack:e.handlingStack}}}}function Jl(e,t){var r=In(e.startTime),n=pg(e,t);if(!(!t.trackResources&&!n)){var i=Zc(e),o=Ql(e),a=pe({date:r.timeStamp,resource:{id:ae(),type:i,url:e.name,status_code:vg(e.responseStatus)},type:"resource",_dd:{discarded:!t.trackResources}},n,o);return{startTime:r.relative,rawRumEvent:a,domainContext:{performanceEntry:e}}}}function Ql(e){var t=e.renderBlockingStatus;return{resource:N({duration:$c(e),render_blocking_status:t},el(e),Qc(e))}}function dg(e,t){var r=e.traceSampled&&e.traceId&&e.spanId;if(!!r)return{_dd:{span_id:e.spanId.toDecimalString(),trace_id:e.traceId.toDecimalString(),rule_psr:ef(t)}}}function pg(e,t){var r=e.traceId;if(!!r)return{_dd:{trace_id:e.traceId,span_id:new no().toDecimalString(),rule_psr:ef(t)}}}function ef(e){return pt(e.traceSampleRate)?e.traceSampleRate/100:void 0}function mg(e,t,r){return e.wasInPageStateDuringPeriod("frozen",t.relative,r)?void 0:X(r)}function vg(e){return e===0?void 0:e}function tf(e,t,r){var n=co({lifeCycle:e,isChildEvent:function(a){return a.view.id===t},onChange:r}),i=n.stop,o=n.eventCounts;return{stop:i,eventCounts:o}}var hg=10*ue;function rf(e,t,r){var n=e.subscribe(0,function(i){var o=Ve(i,function(a){return a.entryType===B.PAINT&&a.name==="first-contentful-paint"&&a.startTime<t.timeStamp&&a.startTime<hg});o&&r(o.startTime)}).unsubscribe;return{stop:n}}function nf(e,t,r,n){var i=e.subscribe(0,function(o){var a=Ve(o,function(c){return c.entryType===B.FIRST_INPUT&&c.startTime<r.timeStamp});if(a){var s=oe(a.startTime,a.processingStart),u=void 0;a.target&&Ct(a.target)&&(u=At(a.target,t.actionNameAttribute)),n({delay:s>=0?s:0,time:a.startTime,targetSelector:u})}}).unsubscribe;return{stop:i}}function of(e,t){var r=e.subscribe(0,function(n){for(var i=0,o=n;i<o.length;i++){var a=o[i];a.entryType===B.NAVIGATION&&t({domComplete:a.domComplete,domContentLoaded:a.domContentLoadedEventEnd,domInteractive:a.domInteractive,loadEvent:a.loadEventEnd,firstByte:a.responseStart>=0&&a.responseStart<=Ce()?a.responseStart:void 0})}}).unsubscribe;return{stop:r}}var gg=10*ue;function af(e,t,r,n,i){var o=1/0,a=fe(t,n,[x.POINTER_DOWN,x.KEY_DOWN],function(c){o=c.timeStamp},{capture:!0,once:!0}).stop,s=0,u=e.subscribe(0,function(c){var l=mu(c,function(d){return d.entryType===B.LARGEST_CONTENTFUL_PAINT&&d.startTime<o&&d.startTime<r.timeStamp&&d.startTime<gg&&d.size>s});if(l){var f=void 0;l.element&&(f=At(l.element,t.actionNameAttribute)),i({value:l.startTime,targetSelector:f}),s=l.size}}).unsubscribe;return{stop:function(){a(),u()}}}function sf(e,t){t===void 0&&(t=window);var r,n;return document.visibilityState==="hidden"?r=0:(r=1/0,n=fe(e,t,[x.PAGE_HIDE,x.VISIBILITY_CHANGE],function(i){(i.type===x.PAGE_HIDE||document.visibilityState==="hidden")&&(r=i.timeStamp,n())},{capture:!0}).stop),{get timeStamp(){return r},stop:function(){n?.()}}}function uf(e,t,r,n){var i={},o=of(e,function(f){r(f.loadEvent),i.navigationTimings=f,n()}).stop,a=sf(t),s=rf(e,a,function(f){i.firstContentfulPaint=f,n()}).stop,u=af(e,t,a,window,function(f){i.largestContentfulPaint=f,n()}).stop,c=nf(e,t,a,function(f){i.firstInput=f,n()}).stop;function l(){o(),s(),u(),c(),a.stop()}return{stop:l,initialViewMetrics:i}}function cf(e,t,r,n){if(!Sg())return{stop:F};var i=0,o,a;n({value:0});var s=bg(),u=t.subscribe(0,function(c){for(var l=0,f=c;l<f.length;l++){var d=f[l];if(d.entryType===B.LAYOUT_SHIFT&&!d.hadRecentInput){var p=s.update(d),m=p.cumulatedValue,v=p.isMaxValue;if(v){var g=_g(d.sources);o=g?new WeakRef(g):void 0,a=oe(r,d.startTime)}if(m>i){i=m;var g=o?.deref();n({value:gr(i,4),targetSelector:g&&At(g,e.actionNameAttribute),time:a})}}}}).unsubscribe;return{stop:u}}function _g(e){var t;if(!!e)return(t=Ve(e,function(r){return!!r.node&&Ct(r.node)}))===null||t===void 0?void 0:t.node}var yg=5*ie,Eg=ie;function bg(){var e=0,t,r,n=0;return{update:function(i){var o=t===void 0||i.startTime-r>=Eg||i.startTime-t>=yg,a;return o?(t=r=i.startTime,n=e=i.value,a=!0):(e+=i.value,r=i.startTime,a=i.value>n,a&&(n=i.value)),{cumulatedValue:e,isMaxValue:a}}}}function Sg(){return Yt(B.LAYOUT_SHIFT)}var go,lf=0,Ha=1/0,ja=0;function ff(){"interactionCount"in performance||go||(go=new window.PerformanceObserver(O(function(e){e.getEntries().forEach(function(t){var r=t;r.interactionId&&(Ha=Math.min(Ha,r.interactionId),ja=Math.max(ja,r.interactionId),lf=(ja-Ha)/7+1)})})),go.observe({type:"event",buffered:!0,durationThreshold:0}))}var qa=function(){return go?lf:window.performance.interactionCount||0};var df=10,Tg=1*ue;function pf(e,t,r,n){if(!xg())return{getInteractionToNextPaint:function(){},setViewEnd:F,stop:F};var i=wg(r),o=i.getViewInteractionCount,a=i.stopViewInteractionCount,s=1/0,u=Ig(o),c=-1,l,f,d=n.subscribe(0,function(p){for(var m=0,v=p;m<v.length;m++){var g=v[m];(g.entryType===B.EVENT||g.entryType===B.FIRST_INPUT)&&g.interactionId&&g.startTime>=t&&g.startTime<=s&&u.process(g)}var E=u.estimateP98Interaction();E&&E.duration!==c&&(c=E.duration,f=oe(t,E.startTime),E.target&&Ct(E.target)?l=At(E.target,e.actionNameAttribute):l=void 0)}).unsubscribe;return{getInteractionToNextPaint:function(){if(c>=0)return{value:Math.min(c,Tg),targetSelector:l,time:f};if(o())return{value:0}},setViewEnd:function(p){s=p,a()},stop:d}}function Ig(e){var t=[];function r(){t.sort(function(n,i){return i.duration-n.duration}).splice(df)}return{process:function(n){var i=t.findIndex(function(a){return n.interactionId===a.interactionId}),o=t[t.length-1];i!==-1?n.duration>t[i].duration&&(t[i]=n,r()):(t.length<df||n.duration>o.duration)&&(t.push(n),r())},estimateP98Interaction:function(){var n=Math.min(t.length-1,Math.floor(e()/50));return t[n]}}}function wg(e){ff();var t=e==="initial_load"?0:qa(),r={stopped:!1};function n(){return qa()-t}return{getViewInteractionCount:function(){return r.stopped?r.interactionCount:n()},stopViewInteractionCount:function(){r={stopped:!0,interactionCount:n()}}}}function xg(){return Yt(B.EVENT)&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype}function mf(e,t,r,n,i,o){var a=n==="initial_load",s=!0,u=[];function c(){!s&&!a&&u.length>0&&o(Math.max.apply(Math,u))}var l=ni(e,t,r,function(f){s&&(s=!1,f.hadActivity&&u.push(oe(i.timeStamp,f.end)),c())}).stop;return{stop:l,setLoadEvent:function(f){a&&(a=!1,u.push(f),c())}}}function ui(){var e,t=window.visualViewport;return t?e=t.pageLeft-t.offsetLeft:window.scrollX!==void 0?e=window.scrollX:e=window.pageXOffset||0,Math.round(e)}function Pr(){var e,t=window.visualViewport;return t?e=t.pageTop-t.offsetTop:window.scrollY!==void 0?e=window.scrollY:e=window.pageYOffset||0,Math.round(e)}var Ka;function ci(e){return Ka||(Ka=Cg(e)),Ka}function Cg(e){return new M(function(t){var r=Pe(function(){t.notify(fr())},200).throttled;return G(e,window,x.RESIZE,r,{capture:!0,passive:!0}).stop})}function fr(){var e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}var Og=ie;function vf(e,t,r,n){n===void 0&&(n=Rg(e));var i=0,o=0,a=0,s=n.subscribe(function(u){var c=u.scrollDepth,l=u.scrollTop,f=u.scrollHeight,d=!1;if(c>i&&(i=c,d=!0),f>o){o=f;var p=Ce();a=oe(t.relative,p),d=!0}d&&r({maxDepth:Math.min(i,o),maxDepthScrollTop:l,maxScrollHeight:o,maxScrollHeightTime:a})});return{stop:function(){return s.unsubscribe()}}}function Ag(){var e=Pr(),t=fr().height,r=Math.round((document.scrollingElement||document.documentElement).scrollHeight),n=Math.round(t+e);return{scrollHeight:r,scrollDepth:n,scrollTop:e}}function Rg(e,t){return t===void 0&&(t=Og),new M(function(r){function n(){r.notify(Ag())}if(window.ResizeObserver){var i=Pe(n,t,{leading:!1,trailing:!0}),o=document.scrollingElement||document.documentElement,a=new ResizeObserver(O(i.throttled));a.observe(o);var s=G(e,window,x.SCROLL,i.throttled,{passive:!0});return function(){i.cancel(),a.unobserve(o),s.stop()}}})}function hf(e,t,r,n,i,o){var a={},s=mf(e,t,r,i,o,function(g){a.loadingTime=g,n()}),u=s.stop,c=s.setLoadEvent,l=vf(r,o,function(g){a.scroll=g}).stop,f=cf(r,e,o.relative,function(g){a.cumulativeLayoutShift=g,n()}).stop,d=pf(r,o.relative,i,e),p=d.stop,m=d.getInteractionToNextPaint,v=d.setViewEnd;return{stop:function(){u(),f(),l()},stopINPTracking:p,setLoadEvent:c,setViewEnd:v,getCommonViewMetrics:function(){return a.interactionToNextPaint=m(),a}}}var Ng=3e3,kg=5*ue,Lg=5*ue;function _f(e,t,r,n,i,o,a){var s=new Set,u=l("initial_load",ki(),a);f();var c;o&&(c=d(i));function l(p,m,v){var g=Pg(t,r,n,e,p,m,v);return s.add(g),g.stopObservable.subscribe(function(){s.delete(g)}),g}function f(){t.subscribe(10,function(){u=l("route_change",void 0,{name:u.name,service:u.service,version:u.version})}),t.subscribe(9,function(){u.end({sessionIsActive:!1})}),t.subscribe(11,function(p){p.reason===zt.UNLOADING&&u.end()})}function d(p){return p.subscribe(function(m){var v=m.oldLocation,g=m.newLocation;Ug(v,g)&&(u.end(),u=l("route_change"))})}return{addTiming:function(p,m){m===void 0&&(m=j()),u.addTiming(p,m)},startView:function(p,m){u.end({endClocks:m}),u=l("route_change",m,p)},updateViewName:function(p){u.updateViewName(p)},stop:function(){c?.unsubscribe(),u.end(),s.forEach(function(p){return p.stop()})}}}function Pg(e,t,r,n,i,o,a){o===void 0&&(o=ee());var s=ae(),u=new M,c={},l=0,f,d=Dt(n),p=!0,m,v,g;a&&(m=a.name,v=a.service||void 0,g=a.version||void 0);var E={id:s,name:m,startClocks:o,service:v,version:g};e.notify(2,E),e.notify(3,E);var A=Pe(lt,Ng,{leading:!1}),D=A.throttled,h=A.cancel,R=hf(e,t,r,D,i,o),_=R.setLoadEvent,b=R.setViewEnd,z=R.stop,Z=R.stopINPTracking,W=R.getCommonViewMetrics,S=i==="initial_load"?uf(e,r,_,D):{stop:F,initialViewMetrics:{}},I=S.stop,w=S.initialViewMetrics,T=tf(e,s,D),Zt=T.stop,Vr=T.eventCounts,Jt=ot(lt,kg);lt();function lt(){h(),l+=1;var se=f===void 0?j():f.timeStamp;e.notify(4,{customTimings:c,documentVersion:l,id:s,name:m,service:v,version:g,loadingType:i,location:d,startClocks:o,commonViewMetrics:W(),initialViewMetrics:w,duration:oe(o.timeStamp,se),isActive:f===void 0,sessionIsActive:p,eventCounts:Vr})}return{get name(){return m},service:v,version:g,stopObservable:u,end:function(se){var je=this,Nt,Br;se===void 0&&(se={}),!f&&(f=(Nt=se.endClocks)!==null&&Nt!==void 0?Nt:ee(),p=(Br=se.sessionIsActive)!==null&&Br!==void 0?Br:!0,e.notify(5,{endClocks:f}),e.notify(6,{endClocks:f}),Tt(Jt),b(f.relative),z(),lt(),J(function(){je.stop()},Lg))},stop:function(){I(),Zt(),Z(),u.notify()},addTiming:function(se,je){if(!f){var Nt=du(je)?je:oe(o.timeStamp,je);c[Dg(se)]=Nt,D()}},updateViewName:function(se){!ze(Oe.UPDATE_VIEW_NAME)||(m=se,lt())}}}function Dg(e){var t=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return t!==e&&L.warn("Invalid timing name: ".concat(e,", sanitized to: ").concat(t)),t}function Ug(e,t){return e.pathname!==t.pathname||!Mg(t.hash)&&gf(t.hash)!==gf(e.hash)}function Mg(e){var t=e.substring(1);return t!==""&&!!document.getElementById(t)}function gf(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}function yf(e,t,r,n,i,o,a,s,u){return e.subscribe(4,function(c){return e.notify(12,Fg(c,t,o,s,a))}),_f(r,e,n,t,i,!t.trackViewsManually,u)}function Fg(e,t,r,n,i){var o,a,s,u,c,l,f,d,p,m,v,g,E,A,D,h,R=n.getReplayStats(e.id),_=r.findFeatureFlagEvaluations(e.startClocks.relative),b=i.findAll(e.startClocks.relative,e.duration),z={_dd:{document_version:e.documentVersion,replay_stats:R,page_states:b,configuration:{start_session_replay_recording_manually:t.startSessionReplayRecordingManually}},date:e.startClocks.timeStamp,type:"view",view:{action:{count:e.eventCounts.actionCount},frustration:{count:e.eventCounts.frustrationCount},cumulative_layout_shift:(o=e.commonViewMetrics.cumulativeLayoutShift)===null||o===void 0?void 0:o.value,cumulative_layout_shift_time:X((a=e.commonViewMetrics.cumulativeLayoutShift)===null||a===void 0?void 0:a.time),cumulative_layout_shift_target_selector:(s=e.commonViewMetrics.cumulativeLayoutShift)===null||s===void 0?void 0:s.targetSelector,first_byte:X((u=e.initialViewMetrics.navigationTimings)===null||u===void 0?void 0:u.firstByte),dom_complete:X((c=e.initialViewMetrics.navigationTimings)===null||c===void 0?void 0:c.domComplete),dom_content_loaded:X((l=e.initialViewMetrics.navigationTimings)===null||l===void 0?void 0:l.domContentLoaded),dom_interactive:X((f=e.initialViewMetrics.navigationTimings)===null||f===void 0?void 0:f.domInteractive),error:{count:e.eventCounts.errorCount},first_contentful_paint:X(e.initialViewMetrics.firstContentfulPaint),first_input_delay:X((d=e.initialViewMetrics.firstInput)===null||d===void 0?void 0:d.delay),first_input_time:X((p=e.initialViewMetrics.firstInput)===null||p===void 0?void 0:p.time),first_input_target_selector:(m=e.initialViewMetrics.firstInput)===null||m===void 0?void 0:m.targetSelector,interaction_to_next_paint:X((v=e.commonViewMetrics.interactionToNextPaint)===null||v===void 0?void 0:v.value),interaction_to_next_paint_time:X((g=e.commonViewMetrics.interactionToNextPaint)===null||g===void 0?void 0:g.time),interaction_to_next_paint_target_selector:(E=e.commonViewMetrics.interactionToNextPaint)===null||E===void 0?void 0:E.targetSelector,is_active:e.isActive,name:e.name,largest_contentful_paint:X((A=e.initialViewMetrics.largestContentfulPaint)===null||A===void 0?void 0:A.value),largest_contentful_paint_target_selector:(D=e.initialViewMetrics.largestContentfulPaint)===null||D===void 0?void 0:D.targetSelector,load_event:X((h=e.initialViewMetrics.navigationTimings)===null||h===void 0?void 0:h.loadEvent),loading_time:uo(X(e.commonViewMetrics.loadingTime)),loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},resource:{count:e.eventCounts.resourceCount},time_spent:X(e.duration)},feature_flags:_&&!We(_)?_:void 0,display:e.commonViewMetrics.scroll?{scroll:{max_depth:e.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:e.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:e.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:X(e.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{has_replay:R?!0:void 0,is_active:e.sessionIsActive?void 0:!1},privacy:{replay_level:t.defaultPrivacyLevel}};return We(e.customTimings)||(z.view.custom_timings=gu(e.customTimings,X)),{rawRumEvent:z,startTime:e.startClocks.relative,domainContext:{location:e.location}}}var Vg="rum";function Ef(e,t,r){var n=Vn(e,Vg,function(i){return Bg(e,i)},r);return n.expireObservable.subscribe(function(){t.notify(9)}),n.renewObservable.subscribe(function(){t.notify(10)}),n.sessionStateUpdateObservable.subscribe(function(i){var o=i.previousState,a=i.newState;if(!o.forcedReplay&&a.forcedReplay){var s=n.findSession();s&&(s.isReplayForced=!0)}}),{findTrackedSession:function(i){var o=n.findSession(i);if(!(!o||!Sf(o.trackingType)))return{id:o.id,sessionReplay:o.trackingType==="1"?1:o.isReplayForced?2:0}},expire:n.expire,expireObservable:n.expireObservable,setForcedReplay:function(){return n.updateSessionState({forcedReplay:"1"})}}}function bf(){var e={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplay:an("records")?1:0};return{findTrackedSession:function(){return e},expire:F,expireObservable:new M,setForcedReplay:F}}function Bg(e,t){var r;return zg(t)?r=t:$e(e.sessionSampleRate)?$e(e.sessionReplaySampleRate)?r="1":r="2":r="0",{trackingType:r,isTracked:Sf(r)}}function zg(e){return e==="0"||e==="1"||e==="2"}function Sf(e){return e==="2"||e==="1"}function Tf(e,t,r,n,i,o,a){var s=e.replica,u=lr(e,{endpoint:e.rumEndpointBuilder,encoder:a(2)},s&&{endpoint:s.rumEndpointBuilder,transformMessage:function(c){return pe(c,{application:{id:s.applicationId}})},encoder:a(3)},n,i,o);return t.subscribe(13,function(c){c.type==="view"?u.upsert(c,c.view.id):u.add(c)}),r.subscribe(function(c){return u.add(c,tn(e))}),u}function If(e){var t=De();e.subscribe(13,function(r){t.send("rum",r)})}var Gg=Be;function wf(e,t,r){var n=new et(Gg),i;e.subscribe(2,function(s){var u=s.startClocks,c=r.href;n.add(a({url:c,referrer:i||document.referrer}),u.relative),i=c}),e.subscribe(6,function(s){var u=s.endClocks;n.closeActive(u.relative)});var o=t.subscribe(function(s){var u=s.newLocation,c=n.find();if(c){var l=Ce();n.closeActive(l),n.add(a({url:u.href,referrer:c.referrer}),l)}});function a(s){var u=s.url,c=s.referrer;return{url:u,referrer:c}}return{findUrl:function(s){return n.find(s)},stop:function(){o.unsubscribe(),n.stop()}}}function xf(e,t){var r=Dt(t);return new M(function(n){var i=Hg(e,a).stop,o=jg(e,a).stop;function a(){if(r.href!==t.href){var s=Dt(t);n.notify({newLocation:s,oldLocation:r}),r=s}}return function(){i(),o()}})}function Hg(e,t){var r=ge(history,"pushState",function(o){var a=o.onPostCall;a(t)}).stop,n=ge(history,"replaceState",function(o){var a=o.onPostCall;a(t)}).stop,i=G(e,window,x.POP_STATE,t).stop;return{stop:function(){r(),n(),i()}}}function jg(e,t){return G(e,window,x.HASH_CHANGE,t)}var qg=Be;function Cf(e,t){var r=new et(qg);return e.subscribe(2,function(n){var i=n.startClocks;r.add({},i.relative),t.resetCustomerData()}),e.subscribe(6,function(n){var i=n.endClocks;r.closeActive(i.relative)}),{findFeatureFlagEvaluations:function(n){return r.find(n)},addFeatureFlagEvaluation:function(n,i){var o=r.find();o&&(o[n]=i,t.updateCustomerData(o))},stop:function(){return t.stop()}}}var Kg=10*ie,Xt,Dr,Wa;function Af(e,t,r,n,i){var o=t.enabled&&$e(e.customerDataTelemetrySampleRate);!o||(Rf(),Of(),r.subscribe(13,function(a){Wa=!0,li(Dr.globalContextBytes,n.getOrCreateTracker(2).getBytesCount()),li(Dr.userContextBytes,n.getOrCreateTracker(1).getBytesCount()),li(Dr.featureFlagBytes,le(["view","error"],a.type)?n.getOrCreateTracker(0).getBytesCount():0)}),i.subscribe(function(a){var s=a.bytesCount,u=a.messagesCount;!Wa||(Xt.batchCount+=1,li(Xt.batchBytesCount,s),li(Xt.batchMessagesCount,u),Ya(Xt.globalContextBytes,Dr.globalContextBytes),Ya(Xt.userContextBytes,Dr.userContextBytes),Ya(Xt.featureFlagBytes,Dr.featureFlagBytes),Of())}),ot(Yg,Kg))}function Yg(){Xt.batchCount!==0&&(Ae("Customer data measures",Xt),Rf())}function dr(){return{min:1/0,max:0,sum:0}}function li(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function Ya(e,t){e.sum+=t.sum,e.min=Math.min(e.min,t.min),e.max=Math.max(e.max,t.max)}function Rf(){Xt={batchCount:0,batchBytesCount:dr(),batchMessagesCount:dr(),globalContextBytes:dr(),userContextBytes:dr(),featureFlagBytes:dr()}}function Of(){Wa=!1,Dr={globalContextBytes:dr(),userContextBytes:dr(),featureFlagBytes:dr()}}var Wg=4e3,Xg=500,Zg=Be;function Nf(e,t){t===void 0&&(t=Xg);var r=new et(Zg,Wg),n;o(kf(),Ce());var i=fe(e,window,[x.PAGE_SHOW,x.FOCUS,x.BLUR,x.VISIBILITY_CHANGE,x.RESUME,x.FREEZE,x.PAGE_HIDE],function(s){o(Jg(s),s.timeStamp)},{capture:!0}).stop;function o(s,u){u===void 0&&(u=Ce()),s!==n&&(n=s,r.closeActive(u),r.add({state:n,startTime:u},u))}var a={findAll:function(s,u){var c=r.findAll(s,u);if(c.length!==0){for(var l=[],f=Math.max(0,c.length-t),d=c.length-1;d>=f;d--){var p=c[d],m=oe(s,p.startTime);l.push({state:p.state,start:X(m)})}return l}},wasInPageStateAt:function(s,u){return a.wasInPageStateDuringPeriod(s,u,0)},wasInPageStateDuringPeriod:function(s,u,c){return r.findAll(u,c).some(function(l){return l.state===s})},addPageState:o,stop:function(){i(),r.stop()}};return a}function Jg(e){return e.type===x.FREEZE?"frozen":e.type===x.PAGE_HIDE?e.persisted?"frozen":"terminated":kf()}function kf(){return document.visibilityState==="hidden"?"hidden":document.hasFocus()?"active":"passive"}function Lf(e){var t=fr(),r=ci(e).subscribe(function(n){t=n}).unsubscribe;return{get:function(){return{viewport:t}},stop:r}}function Pf(e,t){var r=window.cookieStore?$g(e):e_;return new M(function(n){return r(t,function(i){return n.notify(i)})})}function $g(e){return function(t,r){var n=G(e,window.cookieStore,x.CHANGE,function(i){var o=Ve(i.changed,function(a){return a.name===t})||Ve(i.deleted,function(a){return a.name===t});o&&r(o.value)});return n.stop}}var Qg=ie;function e_(e,t){var r=or(document.cookie,e),n=ot(function(){var i=or(document.cookie,e);i!==r&&t(i)},Qg);return function(){Tt(n)}}var Df="datadog-ci-visibility-test-execution-id";function Uf(e,t){var r;t===void 0&&(t=Pf(e,Df));var n=at(Df)||((r=window.Cypress)===null||r===void 0?void 0:r.env("traceId")),i=t.subscribe(function(o){n=o});return{get:function(){if(typeof n=="string")return{test_execution_id:n}},stop:function(){return i.unsubscribe()}}}function Xa(e,t,r,n,i,o,a){var s=[],u=new Pa;u.subscribe(13,function(se){return Bt("rum",se)});var c=t_(e);c.setContextProvider(function(){var se,je;return{application:{id:e.applicationId},session:{id:(se=m.findTrackedSession())===null||se===void 0?void 0:se.id},view:{id:(je=h.findView())===null||je===void 0?void 0:je.id},action:{id:_.findActionId()}}});var l=function(se){u.notify(14,{error:se}),Ae("Error reported to customer",{"error.message":se.message})},f=Cf(u,r.getOrCreateTracker(0)),d=Bn(e),p=d.subscribe(function(se){u.notify(11,se)});s.push(function(){return p.unsubscribe()});var m=_e()?bf():Ef(e,u,a);if(_e())If(u);else{var v=Tf(e,u,c.observable,l,d,m.expireObservable,o);s.push(function(){return v.stop()}),Af(e,c,u,r,v.flushObservable)}var g=Wc(),E=xf(e,location),A=Nf(e),D=r_(u,e,location,m,A,E,g,n,l),h=D.viewContexts,R=D.urlContexts,_=D.actionContexts,b=D.addAction,z=D.stop;s.push(z),en();var Z=yf(u,e,location,g,E,f,A,t,i),W=Z.addTiming,S=Z.startView,I=Z.updateViewName,w=Z.stop;s.push(w);var T=$l(u,e,A).stop;s.push(T),Hl(u,e);var Zt=Gl(u,e,A,f).addError;fl(u,e,m);var Vr=rl(u,e).stop;s.push(Vr);var Jt=jc(u,A),lt=cl(e.applicationId,m,h,_,R);return{addAction:b,addError:Zt,addTiming:W,addFeatureFlagEvaluation:f.addFeatureFlagEvaluation,startView:S,updateViewName:I,lifeCycle:u,viewContexts:h,session:m,stopSession:function(){return m.expire()},getInternalContext:lt.get,startDurationVital:Jt.startDurationVital,addDurationVital:Jt.addDurationVital,stop:function(){s.forEach(function(se){return se()})}}}function t_(e){var t=Qr("browser-rum-sdk",e);if(_e()){var r=De();t.observable.subscribe(function(n){return r.send("internal_telemetry",n)})}return t}function r_(e,t,r,n,i,o,a,s,u){var c=Da(e),l=wf(e,o,r),f=Vl(e,a,t,i),d=f.addAction,p=f.actionContexts,m=Lf(t),v=Uf(t);return ul(t,e,n,c,l,p,m,v,s,u),{viewContexts:c,pageStateHistory:i,urlContexts:l,addAction:d,actionContexts:p,stop:function(){v.stop(),m.stop(),i.stop(),l.stop(),c.stop(),i.stop()}}}function Za(e,t){var r=t.session,n=t.viewContext,i=t.errorType,o=r?r.id:"no-session-id",a=[];i!==void 0&&a.push("error-type=".concat(i)),n&&(a.push("seed=".concat(n.id)),a.push("from=".concat(n.startClocks.timeStamp)));var s=n_(e),u="/rum/replay/sessions/".concat(o);return"".concat(s).concat(u,"?").concat(a.join("&"))}function n_(e){var t=e.site,r=e.subdomain||i_(e);return"https://".concat(r?"".concat(r,"."):"").concat(t)}function i_(e){switch(e.site){case st:case sa:return"app";case kn:return"dd";default:return}}var o_=10,He;function Mf(e){return _o(e).segments_count}function Ff(e){_o(e).segments_count+=1}function Vf(e){_o(e).records_count+=1}function Bf(e,t){_o(e).segments_total_raw_size+=t}function zf(e){return He?.get(e)}function _o(e){He||(He=new Map);var t;return He.has(e)?t=He.get(e):(t={records_count:0,segments_count:0,segments_total_raw_size:0},He.set(e,t),He.size>o_&&a_()),t}function a_(){if(!!He)if(He.keys)He.delete(He.keys().next().value);else{var e=!0;He.forEach(function(t,r){e&&(He.delete(r),e=!1)})}}var Ja=new WeakMap;function Ne(e){return Ja.has(e)}function $a(e){for(var t=e;t;){if(!Ne(t)&&!ii(t))return!1;t=Nr(t)}return!0}function me(e){return Ja.get(e)}function Hf(e,t){Ja.set(e,t)}function Ur(e,t){var r=e.tagName,n=e.value;if(Lr(e,t)){var i=e.type;return r==="INPUT"&&(i==="button"||i==="submit"||i==="reset")?n:!n||r==="OPTION"?void 0:Ot}if(r==="OPTION"||r==="SELECT")return e.value;if(!(r!=="INPUT"&&r!=="TEXTAREA"))return n}var s_=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,u_=/^[A-Za-z]+:|^\/\//,c_=/^data:.*,/i;function jf(e,t){return e.replace(s_,function(r,n,i,o,a,s){var u=i||a||s;if(!t||!u||u_.test(u)||c_.test(u))return r;var c=n||o||"";return"url(".concat(c).concat(l_(u,t)).concat(c,")")})}function l_(e,t){try{return Nn(e,t).href}catch{return e}}var f_=/[^a-z1-6-_]/;function yo(e){var t=e.toLowerCase().trim();return f_.test(t)?"div":t}function Qa(e,t){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='".concat(e,"' height='").concat(t,"' style='background-color:silver'%3E%3C/svg%3E")}var Me={FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Focus:6,ViewEnd:7,VisualViewport:8,FrustrationRecord:9},pr={Document:0,DocumentType:1,Element:2,Text:3,CDATA:4,DocumentFragment:11},be={Mutation:0,MouseMove:1,MouseInteraction:2,Scroll:3,ViewportResize:4,Input:5,TouchMove:6,MediaInteraction:7,StyleSheetRule:8},ct={MouseUp:0,MouseDown:1,Click:2,ContextMenu:3,DblClick:4,Focus:5,Blur:6,TouchStart:7,TouchEnd:9},es={Play:0,Pause:1};function ts(e){if(!(e===void 0||e.length===0))return e.map(function(t){var r=t.cssRules||t.rules,n=Array.from(r,function(o){return o.cssText}),i={cssRules:n,disabled:t.disabled||void 0,media:t.media.length>0?Array.from(t.media):void 0};return i})}function fi(e,t,r,n){if(t===P.HIDDEN)return null;var i=e.getAttribute(r);if(t===P.MASK&&r!==oi&&!vo.includes(r)&&r!==n.actionNameAttribute){var o=e.tagName;switch(r){case"title":case"alt":case"placeholder":return Ot}if(o==="IMG"&&(r==="src"||r==="srcset")){var a=e;if(a.naturalWidth>0)return Qa(a.naturalWidth,a.naturalHeight);var s=e.getBoundingClientRect(),u=s.width,c=s.height;return u>0||c>0?Qa(u,c):Fa}if(o==="SOURCE"&&(r==="src"||r==="srcset"))return Fa;if(o==="A"&&r==="href")return Ot;if(i&&St(r,"data-"))return Ot;if(o==="IFRAME"&&r==="srcdoc")return Ot}return!i||typeof i!="string"?i:Qn(i)?ei(i):i}function qf(e,t,r){var n;if(t===P.HIDDEN)return{};for(var i={},o=yo(e.tagName),a=e.ownerDocument,s=0;s<e.attributes.length;s+=1){var u=e.attributes.item(s),c=u.name,l=fi(e,t,c,r.configuration);l!==null&&(i[c]=l)}if(e.value&&(o==="textarea"||o==="select"||o==="option"||o==="input")){var f=Ur(e,t);f!==void 0&&(i.value=f)}if(o==="option"&&t===P.ALLOW){var d=e;d.selected&&(i.selected=d.selected)}if(o==="link"){var p=Array.from(a.styleSheets).find(function(h){return h.href===e.href}),m=rs(p);m&&p&&(i._cssText=m)}if(o==="style"&&e.sheet){var m=rs(e.sheet);m&&(i._cssText=m)}var v=e;if(o==="input"&&(v.type==="radio"||v.type==="checkbox")&&(t===P.ALLOW?i.checked=!!v.checked:Lr(v,t)&&delete i.checked),o==="audio"||o==="video"){var g=e;i.rr_mediaState=g.paused?"paused":"played"}var E,A,D=r.serializationContext;switch(D.status){case 0:E=Math.round(e.scrollTop),A=Math.round(e.scrollLeft),(E||A)&&D.elementsScrollPositions.set(e,{scrollTop:E,scrollLeft:A});break;case 1:D.elementsScrollPositions.has(e)&&(n=D.elementsScrollPositions.get(e),E=n.scrollTop,A=n.scrollLeft);break}return A&&(i.rr_scrollLeft=A),E&&(i.rr_scrollTop=E),i}function rs(e){if(!e)return null;var t;try{t=e.rules||e.cssRules}catch{}if(!t)return null;var r=Array.from(t,Tu()?d_:Kf).join("");return jf(r,e.href)}function d_(e){if(m_(e)&&e.selectorText.includes(":")){var t=/(\[[\w-]+[^\\])(:[^\]]+\])/g;return e.cssText.replace(t,"$1\\$2")}return Kf(e)}function Kf(e){return p_(e)&&rs(e.styleSheet)||e.cssText}function p_(e){return"styleSheet"in e}function m_(e){return"selectorText"in e}function Mr(e,t){var r=g_(e,t);if(!r)return null;var n=me(e)||h_(),i=r;return i.id=n,Hf(e,n),t.serializedNodeIds&&t.serializedNodeIds.add(n),i}var v_=1;function h_(){return v_++}function ns(e,t){var r=[];return fo(e,function(n){var i=Mr(n,t);i&&r.push(i)}),r}function g_(e,t){switch(e.nodeType){case e.DOCUMENT_NODE:return __(e,t);case e.DOCUMENT_FRAGMENT_NODE:return y_(e,t);case e.DOCUMENT_TYPE_NODE:return E_(e);case e.ELEMENT_NODE:return b_(e,t);case e.TEXT_NODE:return T_(e,t);case e.CDATA_SECTION_NODE:return I_()}}function __(e,t){return{type:pr.Document,childNodes:ns(e,t),adoptedStyleSheets:ts(e.adoptedStyleSheets)}}function y_(e,t){var r=ii(e);return r&&t.serializationContext.shadowRootsController.addShadowRoot(e),{type:pr.DocumentFragment,childNodes:ns(e,t),isShadowRoot:r,adoptedStyleSheets:r?ts(e.adoptedStyleSheets):void 0}}function E_(e){return{type:pr.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId}}function b_(e,t){var r,n=yo(e.tagName),i=S_(e)||void 0,o=Va(Ba(e),t.parentNodePrivacyLevel);if(o===P.HIDDEN){var a=e.getBoundingClientRect(),s=a.width,u=a.height;return{type:pr.Element,tagName:n,attributes:(r={rr_width:"".concat(s,"px"),rr_height:"".concat(u,"px")},r[oi]=yl,r),childNodes:[],isSVG:i}}if(o!==P.IGNORE){var c=qf(e,o,t),l=[];if(gl(e)&&n!=="style"){var f=void 0;t.parentNodePrivacyLevel===o&&t.ignoreWhiteSpace===(n==="head")?f=t:f=N({},t,{parentNodePrivacyLevel:o,ignoreWhiteSpace:n==="head"}),l=ns(e,f)}return{type:pr.Element,tagName:n,attributes:c,childNodes:l,isSVG:i}}}function S_(e){return e.tagName==="svg"||e instanceof SVGElement}function T_(e,t){var r=po(e,t.ignoreWhiteSpace||!1,t.parentNodePrivacyLevel);if(r!==void 0)return{type:pr.Text,textContent:r}}function I_(){return{type:pr.CDATA,textContent:""}}function Eo(e,t,r){return Mr(e,{serializationContext:r,parentNodePrivacyLevel:t.defaultPrivacyLevel,configuration:t})}function is(e){return Boolean(e.changedTouches)}function Rt(e){return e.composed===!0&&pn(e.target)?e.composedPath()[0]:e.target}var Yf=25;function w_(e){return Math.abs(e.pageTop-e.offsetTop-window.scrollY)>Yf||Math.abs(e.pageLeft-e.offsetLeft-window.scrollX)>Yf}var Wf=function(e,t){var r=window.visualViewport,n={layoutViewportX:e,layoutViewportY:t,visualViewportX:e,visualViewportY:t};if(r)w_(r)?(n.layoutViewportX=Math.round(e+r.offsetLeft),n.layoutViewportY=Math.round(t+r.offsetTop)):(n.visualViewportX=Math.round(e-r.offsetLeft),n.visualViewportY=Math.round(t-r.offsetTop));else return n;return n},os=function(e){return{scale:e.scale,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,pageLeft:e.pageLeft,pageTop:e.pageTop,height:e.height,width:e.width}};function Ie(e,t){return{data:N({source:e},t),type:Me.IncrementalSnapshot,timestamp:j()}}var x_=50;function as(e,t){var r=Pe(function(a){var s=Rt(a);if(Ne(s)){var u=ss(a);if(!u)return;var c={id:me(s),timeOffset:0,x:u.x,y:u.y};t(Ie(is(a)?be.TouchMove:be.MouseMove,{positions:[c]}))}},x_,{trailing:!1}),n=r.throttled,i=r.cancel,o=fe(e,document,[x.MOUSE_MOVE,x.TOUCH_MOVE],n,{capture:!0,passive:!0}).stop;return{stop:function(){o(),i()}}}function ss(e){var t=is(e)?e.changedTouches[0]:e,r=t.clientX,n=t.clientY;if(window.visualViewport){var i=Wf(r,n),o=i.visualViewportX,a=i.visualViewportY;r=o,n=a}if(!Number.isFinite(r)||!Number.isFinite(n)){e.isTrusted&&Ae("mouse/touch event without x/y");return}return{x:r,y:n}}var ht,Xf=(ht={},ht[x.POINTER_UP]=ct.MouseUp,ht[x.MOUSE_DOWN]=ct.MouseDown,ht[x.CLICK]=ct.Click,ht[x.CONTEXT_MENU]=ct.ContextMenu,ht[x.DBL_CLICK]=ct.DblClick,ht[x.FOCUS]=ct.Focus,ht[x.BLUR]=ct.Blur,ht[x.TOUCH_START]=ct.TouchStart,ht[x.TOUCH_END]=ct.TouchEnd,ht);function us(e,t,r){var n=function(i){var o=Rt(i);if(!(Ue(o,e.defaultPrivacyLevel)===P.HIDDEN||!Ne(o))){var a=me(o),s=Xf[i.type],u;if(s!==ct.Blur&&s!==ct.Focus){var c=ss(i);if(!c)return;u={id:a,type:s,x:c.x,y:c.y}}else u={id:a,type:s};var l=N({id:r.getIdForEvent(i)},Ie(be.MouseInteraction,u));t(l)}};return fe(e,document,Object.keys(Xf),n,{capture:!0,passive:!0})}var C_=100;function di(e,t,r,n){n===void 0&&(n=document);var i=Pe(function(u){var c=Rt(u);if(!(!c||Ue(c,e.defaultPrivacyLevel)===P.HIDDEN||!Ne(c))){var l=me(c),f=c===document?{scrollTop:Pr(),scrollLeft:ui()}:{scrollTop:Math.round(c.scrollTop),scrollLeft:Math.round(c.scrollLeft)};r.set(c,f),t(Ie(be.Scroll,{id:l,x:f.scrollLeft,y:f.scrollTop}))}},C_),o=i.throttled,a=i.cancel,s=G(e,n,x.SCROLL,o,{capture:!0,passive:!0}).stop;return{stop:function(){s(),a()}}}function bo(e,t){var r=ci(e).subscribe(function(n){t(Ie(be.ViewportResize,n))});return{stop:function(){r.unsubscribe()}}}function cs(e,t){return fe(e,document,[x.PLAY,x.PAUSE],function(r){var n=Rt(r);!n||Ue(n,e.defaultPrivacyLevel)===P.HIDDEN||!Ne(n)||t(Ie(be.MediaInteraction,{id:me(n),type:r.type===x.PLAY?es.Play:es.Pause}))},{capture:!0,passive:!0})}function ls(e){function t(i,o){i&&Ne(i.ownerNode)&&o(me(i.ownerNode))}var r=[ge(CSSStyleSheet.prototype,"insertRule",function(i){var o=i.target,a=i.parameters,s=a[0],u=a[1];t(o,function(c){return e(Ie(be.StyleSheetRule,{id:c,adds:[{rule:s,index:u}]}))})}),ge(CSSStyleSheet.prototype,"deleteRule",function(i){var o=i.target,a=i.parameters[0];t(o,function(s){return e(Ie(be.StyleSheetRule,{id:s,removes:[{index:a}]}))})})];typeof CSSGroupingRule<"u"?n(CSSGroupingRule):(n(CSSMediaRule),n(CSSSupportsRule));function n(i){r.push(ge(i.prototype,"insertRule",function(o){var a=o.target,s=o.parameters,u=s[0],c=s[1];t(a.parentStyleSheet,function(l){var f=Zf(a);f&&(f.push(c||0),e(Ie(be.StyleSheetRule,{id:l,adds:[{rule:u,index:f}]})))})}),ge(i.prototype,"deleteRule",function(o){var a=o.target,s=o.parameters[0];t(a.parentStyleSheet,function(u){var c=Zf(a);c&&(c.push(s),e(Ie(be.StyleSheetRule,{id:u,removes:[{index:c}]})))})}))}return{stop:function(){r.forEach(function(i){return i.stop()})}}}function Zf(e){for(var t=[],r=e;r.parentRule;){var n=Array.from(r.parentRule.cssRules),i=n.indexOf(r);t.unshift(i),r=r.parentRule}if(!!r.parentStyleSheet){var o=Array.from(r.parentStyleSheet.cssRules),a=o.indexOf(r);return t.unshift(a),t}}function fs(e,t){return fe(e,window,[x.FOCUS,x.BLUR],function(){t({data:{has_focus:document.hasFocus()},type:Me.Focus,timestamp:j()})})}function ds(e,t,r){var n=e.subscribe(12,function(i){var o,a,s;i.rawRumEvent.type==="action"&&i.rawRumEvent.action.type==="click"&&((a=(o=i.rawRumEvent.action.frustration)===null||o===void 0?void 0:o.type)===null||a===void 0?void 0:a.length)&&"events"in i.domainContext&&((s=i.domainContext.events)===null||s===void 0?void 0:s.length)&&t({timestamp:i.rawRumEvent.date,type:Me.FrustrationRecord,data:{frustrationTypes:i.rawRumEvent.action.frustration.type,recordIds:i.domainContext.events.map(function(u){return r.getIdForEvent(u)})}})});return{stop:function(){n.unsubscribe()}}}function ps(e,t){var r=e.subscribe(5,function(){t({timestamp:j(),type:Me.ViewEnd})});return{stop:function(){r.unsubscribe()}}}function pi(e,t,r){r===void 0&&(r=document);var n=e.defaultPrivacyLevel,i=new WeakMap,o=r!==document,a=fe(e,r,o?[x.CHANGE]:[x.INPUT,x.CHANGE],function(f){var d=Rt(f);(d instanceof HTMLInputElement||d instanceof HTMLTextAreaElement||d instanceof HTMLSelectElement)&&c(d)},{capture:!0,passive:!0}).stop,s;if(o)s=F;else{var u=[Sr(HTMLInputElement.prototype,"value",c),Sr(HTMLInputElement.prototype,"checked",c),Sr(HTMLSelectElement.prototype,"value",c),Sr(HTMLTextAreaElement.prototype,"value",c),Sr(HTMLSelectElement.prototype,"selectedIndex",c)];s=function(){u.forEach(function(f){return f.stop()})}}return{stop:function(){s(),a()}};function c(f){var d=Ue(f,n);if(d!==P.HIDDEN){var p=f.type,m;if(p==="radio"||p==="checkbox"){if(Lr(f,d))return;m={isChecked:f.checked}}else{var v=Ur(f,d);if(v===void 0)return;m={text:v}}l(f,m);var g=f.name;p==="radio"&&g&&f.checked&&vu(document.querySelectorAll('input[type="radio"][name="'.concat(xt(g),'"]')),function(E){E!==f&&l(E,{isChecked:!1})})}}function l(f,d){if(!!Ne(f)){var p=i.get(f);(!p||p.text!==d.text||p.isChecked!==d.isChecked)&&(i.set(f,d),t(Ie(be.Input,N({id:me(f)},d))))}}}var O_=100,A_=16;function Jf(e){var t=F,r=[];function n(){t(),e(r),r=[]}var i=Pe(n,A_,{leading:!1}),o=i.throttled,a=i.cancel;return{addMutations:function(s){r.length===0&&(t=R_(o,{timeout:O_})),r.push.apply(r,s)},flush:n,stop:function(){t(),a()}}}function R_(e,t){if(window.requestIdleCallback&&window.cancelIdleCallback){var r=window.requestIdleCallback(O(e),t);return function(){return window.cancelIdleCallback(r)}}var n=window.requestAnimationFrame(O(e));return function(){return window.cancelAnimationFrame(n)}}function mi(e,t,r,n){var i=io();if(!i)return{stop:F,flush:F};var o=Jf(function(s){N_(s.concat(a.takeRecords()),e,t,r)}),a=new i(O(o.addMutations));return a.observe(n,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{stop:function(){a.disconnect(),o.stop()},flush:function(){o.flush()}}}function N_(e,t,r,n){var i=new Map;e.filter(function(d){return d.type==="childList"}).forEach(function(d){d.removedNodes.forEach(function(p){$f(p,n.removeShadowRoot)})});var o=e.filter(function(d){return d.target.isConnected&&$a(d.target)&&Ue(d.target,r.defaultPrivacyLevel,i)!==P.HIDDEN}),a=k_(o.filter(function(d){return d.type==="childList"}),r,n,i),s=a.adds,u=a.removes,c=a.hasBeenSerialized,l=L_(o.filter(function(d){return d.type==="characterData"&&!c(d.target)}),r,i),f=P_(o.filter(function(d){return d.type==="attributes"&&!c(d.target)}),r,i);!l.length&&!f.length&&!u.length&&!s.length||t(Ie(be.Mutation,{adds:s,removes:u,texts:l,attributes:f}))}function k_(e,t,r,n){for(var i=new Set,o=new Map,a=function(_){_.addedNodes.forEach(function(b){i.add(b)}),_.removedNodes.forEach(function(b){i.has(b)||o.set(b,_.target),i.delete(b)})},s=0,u=e;s<u.length;s++){var c=u[s];a(c)}var l=Array.from(i);D_(l);for(var f=new Set,d=[],p=0,m=l;p<m.length;p++){var v=m[p];if(!h(v)){var g=Ue(v.parentNode,t.defaultPrivacyLevel,n);if(!(g===P.HIDDEN||g===P.IGNORE)){var E=Mr(v,{serializedNodeIds:f,parentNodePrivacyLevel:g,serializationContext:{status:2,shadowRootsController:r},configuration:t});if(!!E){var A=Nr(v);d.push({nextId:R(v),parentId:me(A),node:E})}}}}var D=[];return o.forEach(function(_,b){Ne(b)&&D.push({parentId:me(_),id:me(b)})}),{adds:d,removes:D,hasBeenSerialized:h};function h(_){return Ne(_)&&f.has(me(_))}function R(_){for(var b=_.nextSibling;b;){if(Ne(b))return me(b);b=b.nextSibling}return null}}function L_(e,t,r){for(var n,i=[],o=new Set,a=e.filter(function(d){return o.has(d.target)?!1:(o.add(d.target),!0)}),s=0,u=a;s<u.length;s++){var c=u[s],l=c.target.textContent;if(l!==c.oldValue){var f=Ue(Nr(c.target),t.defaultPrivacyLevel,r);f===P.HIDDEN||f===P.IGNORE||i.push({id:me(c.target),value:(n=po(c.target,!1,f))!==null&&n!==void 0?n:null})}}return i}function P_(e,t,r){for(var n=[],i=new Map,o=e.filter(function(g){var E=i.get(g.target);return E?.has(g.attributeName)?!1:(E?E.add(g.attributeName):i.set(g.target,new Set([g.attributeName])),!0)}),a=new Map,s=0,u=o;s<u.length;s++){var c=u[s],l=c.target.getAttribute(c.attributeName);if(l!==c.oldValue){var f=Ue(c.target,t.defaultPrivacyLevel,r),d=fi(c.target,f,c.attributeName,t),p=void 0;if(c.attributeName==="value"){var m=Ur(c.target,f);if(m===void 0)continue;p=m}else typeof d=="string"?p=d:p=null;var v=a.get(c.target);v||(v={id:me(c.target),attributes:{}},n.push(v),a.set(c.target,v)),v.attributes[c.attributeName]=p}}return n}function D_(e){e.sort(function(t,r){var n=t.compareDocumentPosition(r);return n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_CONTAINS||n&Node.DOCUMENT_POSITION_FOLLOWING?1:n&Node.DOCUMENT_POSITION_PRECEDING?-1:0})}function $f(e,t){pn(e)&&t(e.shadowRoot),fo(e,function(r){return $f(r,t)})}function ms(){var e=new WeakMap;return{set:function(t,r){t===document&&!document.scrollingElement||e.set(t===document?document.scrollingElement:t,r)},get:function(t){return e.get(t)},has:function(t){return e.has(t)}}}var Qf=function(e,t,r){var n=new Map,i={addShadowRoot:function(o){if(!n.has(o)){var a=mi(t,e,i,o),s=pi(e,t,o),u=di(e,t,r,o);n.set(o,{flush:function(){return a.flush()},stop:function(){a.stop(),s.stop(),u.stop()}})}},removeShadowRoot:function(o){var a=n.get(o);!a||(a.stop(),n.delete(o))},stop:function(){n.forEach(function(o){var a=o.stop;return a()})},flush:function(){n.forEach(function(o){var a=o.flush;return a()})}};return i};function ed(e,t,r,n,i,o){var a=function(u,c){u===void 0&&(u=j()),c===void 0&&(c={status:0,elementsScrollPositions:e,shadowRootsController:t});var l=fr(),f=l.width,d=l.height,p=[{data:{height:d,href:window.location.href,width:f},type:Me.Meta,timestamp:u},{data:{has_focus:document.hasFocus()},type:Me.Focus,timestamp:u},{data:{node:Eo(document,n,c),initialOffset:{left:ui(),top:Pr()}},type:Me.FullSnapshot,timestamp:u}];return window.visualViewport&&p.push({data:os(window.visualViewport),type:Me.VisualViewport,timestamp:u}),p};o(a());var s=r.subscribe(3,function(u){i(),o(a(u.startClocks.timeStamp,{shadowRootsController:t,status:1,elementsScrollPositions:e}))}).unsubscribe;return{stop:s}}function td(){var e=new WeakMap,t=1;return{getIdForEvent:function(r){return e.has(r)||e.set(r,t++),e.get(r)}}}function vs(e){var t=e.emit,r=e.configuration,n=e.lifeCycle;if(!t)throw new Error("emit function is required");var i=function(d){t(d),Bt("record",{record:d});var p=e.viewContexts.findView();Vf(p.id)},o=ms(),a=Qf(r,i,o),s=ed(o,a,n,r,u,function(d){return d.forEach(function(p){return i(p)})}).stop;function u(){a.flush(),l.flush()}var c=td(),l=mi(i,r,a,document),f=[l,as(r,i),us(r,i,c),di(r,i,o,document),bo(r,i),pi(r,i),cs(r,i),ls(i),fs(r,i),bo(r,i),ds(n,i,c),ps(n,function(d){u(),i(d)})];return{stop:function(){a.stop(),f.forEach(function(d){return d.stop()}),s()},flushMutations:u,shadowRootsController:a}}function rd(e,t,r){var n=new FormData;n.append("segment",new Blob([e],{type:"application/octet-stream"}),"".concat(t.session.id,"-").concat(t.start));var i=N({raw_segment_size:r,compressed_segment_size:e.byteLength},t),o=JSON.stringify(i);return n.append("event",new Blob([o],{type:"application/json"})),{data:n,bytesCount:e.byteLength}}var nd=function(){function e(t,r,n){this.encoder=t,this.encodedBytesCount=0;var i=r.view.id;this.metadata=N({start:1/0,end:-1/0,creation_reason:n,records_count:0,has_full_snapshot:!1,index_in_view:Mf(i),source:"browser"},r),Ff(i)}return e.prototype.addRecord=function(t,r){var n=this,i;this.metadata.start=Math.min(this.metadata.start,t.timestamp),this.metadata.end=Math.max(this.metadata.end,t.timestamp),this.metadata.records_count+=1,(i=this.metadata).has_full_snapshot||(i.has_full_snapshot=t.type===Me.FullSnapshot);var o=this.encoder.isEmpty?'{"records":[':",";this.encoder.write(o+JSON.stringify(t),function(a){n.encodedBytesCount+=a,r(n.encodedBytesCount)})},e.prototype.flush=function(t){var r=this;if(this.encoder.isEmpty)throw new Error("Empty segment flushed");this.encoder.write("],".concat(JSON.stringify(this.metadata).slice(1),`
`)),this.encoder.finish(function(n){Bf(r.metadata.view.id,n.rawBytesCount),t(r.metadata,n)})},e}();var U_=30*ie,So=6e4;function hs(e,t,r,n,i,o){return M_(e,function(){return F_(t.applicationId,r,n)},i,o)}function M_(e,t,r,n){var i={status:0,nextSegmentCreationReason:"init"},o=e.subscribe(3,function(){s("view_change")}).unsubscribe,a=e.subscribe(11,function(u){s(u.reason)}).unsubscribe;function s(u){i.status===1&&(i.segment.flush(function(c,l){var f=rd(l.output,c,l.rawBytesCount);zn(u)?r.sendOnExit(f):r.send(f)}),Le(i.expirationTimeoutId)),u!=="stop"?i={status:0,nextSegmentCreationReason:u}:i={status:2}}return{addRecord:function(u){if(i.status!==2){if(i.status===0){var c=t();if(!c)return;i={status:1,segment:new nd(n,c,i.nextSegmentCreationReason),expirationTimeoutId:J(function(){s("segment_duration_limit")},U_)}}i.segment.addRecord(u,function(l){l>So&&s("segment_bytes_limit")})}},stop:function(){s("stop"),o(),a()}}}function F_(e,t,r){var n=t.findTrackedSession(),i=r.findView();if(!(!n||!i))return{application:{id:e},session:{id:n.id},view:{id:i.id}}}function id(e){var t=De();return{addRecord:function(r){var n=e.findView();t.send("record",r,n.id)}}}function od(e,t,r,n,i,o){var a=[],s=function(d){e.notify(14,{error:d}),Ae("Error reported to customer",{"error.message":d.message})},u=o||on(t,t.sessionReplayEndpointBuilder,So,s),c;if(_e())c=id(n).addRecord;else{var l=hs(e,t,r,n,u,i);c=l.addRecord,a.push(l.stop)}var f=vs({emit:c,configuration:t,lifeCycle:e,viewContexts:n}).stop;return a.push(f),{stop:function(){a.forEach(function(d){return d()})}}}function To(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}function ad(e,t,r,n){var i=t.findTrackedSession(),o=V_(i,n),a=r.findView();return Za(e,{viewContext:a,errorType:o,session:i})}function V_(e,t){if(!To())return"browser-not-supported";if(!e)return"rum-not-tracked";if(e.sessionReplay===0)return"incorrect-session-plan";if(!t)return"replay-not-started"}function vi(e,t,r){var n=0,i=[],o,a=0,s=[],u=G(e,t,"message",function(f){var d=f.data;if(!(d.type!=="wrote"||d.streamId!==r)){n+=d.additionalBytesCount,i.push(d.result),o=d.trailer;var p=s.shift();p&&p.id===d.id?p.writeCallback?p.writeCallback(d.result.byteLength):p.finishCallback&&p.finishCallback():(u(),Ae("Worker responses received out of order."))}}).stop;function c(){var f=i.length===0?new Uint8Array(0):pu(i.concat(o)),d={rawBytesCount:n,output:f,outputBytesCount:f.byteLength,encoding:"deflate"};return n=0,i=[],d}function l(){a>0&&(t.postMessage({action:"reset",streamId:r}),a=0)}return{isAsync:!0,get isEmpty(){return a===0},write:function(f,d){t.postMessage({action:"write",id:a,data:f,streamId:r}),s.push({id:a,writeCallback:d,data:f}),a+=1},finish:function(f){l(),s.length?(s.forEach(function(d){delete d.writeCallback}),s[s.length-1].finishCallback=function(){return f(c())}):f(c())},finishSync:function(){l();var f=s.map(function(d){return delete d.writeCallback,delete d.finishCallback,d.data}).join("");return N(c(),{pendingData:f})},estimateEncodedBytesCount:function(f){return f.length/8},stop:function(){u()}}}var B_=10*ie;function sd(e){return new Worker(e.workerUrl||URL.createObjectURL(new Blob(['!function(){"use strict";function t(t){for(var e=t.reduce((function(t,e){return t+e.length}),0),a=new Uint8Array(e),n=0,r=0,i=t;r<i.length;r++){var s=i[r];a.set(s,n),n+=s.length}return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=256,n=286,r=30,i=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),h=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),l=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=new Array(576);e(o);var d=new Array(60);e(d);var u=new Array(512);e(u);var f=new Array(256);e(f);var c=new Array(29);e(c);var p,g,w,v=new Array(r);function b(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function m(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(v);var y=function(t){return t<256?u[t]:u[256+(t>>>7)]},k=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},z=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,k(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},x=function(t,e,a){z(t,a[2*e],a[2*e+1])},A=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},E=function(t,e,a){var n,r,s=new Array(16),_=0;for(n=1;n<=i;n++)s[n]=_=_+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=A(s[h]++,h))}},Z=function(t){var e;for(e=0;e<n;e++)t.dyn_ltree[2*e]=0;for(e=0;e<r;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},U=function(t){t.bi_valid>8?k(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},S=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},R=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&S(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!S(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},L=function(t,e,n){var r,i,h,l,o=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,0===r?x(t,i,e):(h=f[i],x(t,h+a+1,e),0!==(l=s[h])&&(i-=c[h],z(t,i,l)),r--,h=y(r),x(t,h,n),0!==(l=_[h])&&(r-=v[h],z(t,r,l)))}while(o<t.last_lit);x(t,256,e)},F=function(t,e){var a,n,r,s=e.dyn_tree,_=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,o=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<l;a++)0!==s[2*a]?(t.heap[++t.heap_len]=o=a,t.depth[a]=0):s[2*a+1]=0;for(;t.heap_len<2;)s[2*(r=t.heap[++t.heap_len]=o<2?++o:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=_[2*r+1]);for(e.max_code=o,a=t.heap_len>>1;a>=1;a--)R(t,s,a);r=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],R(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,s[2*r]=s[2*a]+s[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,s[2*a+1]=s[2*n+1]=r,t.heap[1]=r++,R(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,s,_,h,l=e.dyn_tree,o=e.max_code,d=e.stat_desc.static_tree,u=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(s=0;s<=i;s++)t.bl_count[s]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(s=l[2*l[2*(n=t.heap[a])+1]+1]+1)>p&&(s=p,g++),l[2*n+1]=s,n>o||(t.bl_count[s]++,_=0,n>=c&&(_=f[n-c]),h=l[2*n],t.opt_len+=h*(s+_),u&&(t.static_len+=h*(d[2*n+1]+_)));if(0!==g){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(s=p;0!==s;s--)for(n=t.bl_count[s];0!==n;)(r=t.heap[--a])>o||(l[2*r+1]!==s&&(t.opt_len+=(s-l[2*r+1])*l[2*r],l[2*r+1]=s),n--)}}(t,e),E(s,o,t.bl_count)},T=function(t,e,a){var n,r,i=-1,s=e[1],_=0,h=7,l=4;for(0===s&&(h=138,l=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++_<h&&r===s||(_<l?t.bl_tree[2*r]+=_:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):_<=10?t.bl_tree[34]++:t.bl_tree[36]++,_=0,i=r,0===s?(h=138,l=3):r===s?(h=6,l=3):(h=7,l=4))},I=function(t,e,a){var n,r,i=-1,s=e[1],_=0,h=7,l=4;for(0===s&&(h=138,l=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++_<h&&r===s)){if(_<l)do{x(t,r,t.bl_tree)}while(0!=--_);else 0!==r?(r!==i&&(x(t,r,t.bl_tree),_--),x(t,16,t.bl_tree),z(t,_-3,2)):_<=10?(x(t,17,t.bl_tree),z(t,_-3,3)):(x(t,18,t.bl_tree),z(t,_-11,7));_=0,i=r,0===s?(h=138,l=3):r===s?(h=6,l=3):(h=7,l=4)}},N=!1,O=function(t,e,a,n){z(t,0+(n?1:0),3),function(t,e,a,n){U(t),n&&(k(t,a),k(t,~a)),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a,!0)},D=function(t,e,n,r){var i,s,_=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<a;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),F(t,t.l_desc),F(t,t.d_desc),_=function(t){var e;for(T(t,t.dyn_ltree,t.l_desc.max_code),T(t,t.dyn_dtree,t.d_desc.max_code),F(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*l[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==e?O(t,e,n,r):4===t.strategy||s===i?(z(t,2+(r?1:0),3),L(t,o,d)):(z(t,4+(r?1:0),3),function(t,e,a,n){var r;for(z(t,e-257,5),z(t,a-1,5),z(t,n-4,4),r=0;r<n;r++)z(t,t.bl_tree[2*l[r]+1],3);I(t,t.dyn_ltree,e-1),I(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,_+1),L(t,t.dyn_ltree,t.dyn_dtree)),Z(t),r&&U(t)},B={_tr_init:function(t){N||(!function(){var t,e,a,l,m,y=new Array(16);for(a=0,l=0;l<28;l++)for(c[l]=a,t=0;t<1<<s[l];t++)f[a++]=l;for(f[a-1]=l,m=0,l=0;l<16;l++)for(v[l]=m,t=0;t<1<<_[l];t++)u[m++]=l;for(m>>=7;l<r;l++)for(v[l]=m<<7,t=0;t<1<<_[l]-7;t++)u[256+m++]=l;for(e=0;e<=i;e++)y[e]=0;for(t=0;t<=143;)o[2*t+1]=8,t++,y[8]++;for(;t<=255;)o[2*t+1]=9,t++,y[9]++;for(;t<=279;)o[2*t+1]=7,t++,y[7]++;for(;t<=287;)o[2*t+1]=8,t++,y[8]++;for(E(o,287,y),t=0;t<r;t++)d[2*t+1]=5,d[2*t]=A(t,5);p=new b(o,s,257,n,i),g=new b(d,_,0,r,i),w=new b(new Array(0),h,0,19,7)}(),N=!0),t.l_desc=new m(t.dyn_ltree,p),t.d_desc=new m(t.dyn_dtree,g),t.bl_desc=new m(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,Z(t)},_tr_stored_block:O,_tr_flush_block:D,_tr_tally:function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+a+1)]++,t.dyn_dtree[2*y(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){z(t,2,3),x(t,256,o),function(t){16===t.bi_valid?(k(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},C=function(t,e,a,n){for(var r=65535&t|0,i=t>>>16&65535|0,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16|0},H=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),M=function(t,e,a,n){var r=H,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return-1^t},Y={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},K={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},P=B._tr_init,j=B._tr_stored_block,G=B._tr_flush_block,X=B._tr_tally,W=B._tr_align,q=K.Z_NO_FLUSH,J=K.Z_PARTIAL_FLUSH,Q=K.Z_FULL_FLUSH,V=K.Z_FINISH,$=K.Z_BLOCK,tt=K.Z_OK,et=K.Z_STREAM_END,at=K.Z_STREAM_ERROR,nt=K.Z_DATA_ERROR,rt=K.Z_BUF_ERROR,it=K.Z_DEFAULT_COMPRESSION,st=K.Z_FILTERED,_t=K.Z_HUFFMAN_ONLY,ht=K.Z_RLE,lt=K.Z_FIXED,ot=K.Z_DEFAULT_STRATEGY,dt=K.Z_UNKNOWN,ut=K.Z_DEFLATED,ft=258,ct=262,pt=103,gt=113,wt=666,vt=function(t,e){return t.msg=Y[e],e},bt=function(t){return(t<<1)-(t>4?9:0)},mt=function(t){for(var e=t.length;--e>=0;)t[e]=0},yt=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},kt=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},zt=function(t,e){G(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,kt(t.strm)},xt=function(t,e){t.pending_buf[t.pending++]=e},At=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Et=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,_=t.nice_match,h=t.strstart>t.w_size-ct?t.strstart-(t.w_size-ct):0,l=t.window,o=t.w_mask,d=t.prev,u=t.strstart+ft,f=l[i+s-1],c=l[i+s];t.prev_length>=t.good_match&&(r>>=2),_>t.lookahead&&(_=t.lookahead);do{if(l[(a=e)+s]===c&&l[a+s-1]===f&&l[a]===l[i]&&l[++a]===l[i+1]){i+=2,a++;do{}while(l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&i<u);if(n=ft-(u-i),i=u-ft,n>s){if(t.match_start=e,s=n,n>=_)break;f=l[i+s-1],c=l[i+s]}}}while((e=d[e&o])>h&&0!=--r);return s<=t.lookahead?s:t.lookahead},Zt=function(t){var e,a,n,r,i,s,_,h,l,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-ct)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,_=t.window,h=t.strstart+t.lookahead,l=r,o=void 0,(o=s.avail_in)>l&&(o=l),a=0===o?0:(s.avail_in-=o,_.set(s.input.subarray(s.next_in,s.next_in+o),h),1===s.state.wrap?s.adler=C(s.adler,_,o,h):2===s.state.wrap&&(s.adler=M(s.adler,_,o,h)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=yt(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=yt(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<ct&&0!==t.strm.avail_in)},Ut=function(t,e){for(var a,n;;){if(t.lookahead<ct){if(Zt(t),t.lookahead<ct&&e===q)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-ct&&(t.match_length=Et(t,a)),t.match_length>=3)if(n=X(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=yt(t,t.ins_h,t.window[t.strstart+1]);else n=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2},St=function(t,e){for(var a,n,r;;){if(t.lookahead<ct){if(Zt(t),t.lookahead<ct&&e===q)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-ct&&(t.match_length=Et(t,a),t.match_length<=5&&(t.strategy===st||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=X(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(zt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=X(t,0,t.window[t.strstart-1]))&&zt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=X(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2};function Rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var Lt=[new Rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Zt(t),0===t.lookahead&&e===q)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,zt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-ct&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(zt(t,!1),t.strm.avail_out),1)})),new Rt(4,4,8,4,Ut),new Rt(4,5,16,8,Ut),new Rt(4,6,32,32,Ut),new Rt(4,4,16,16,St),new Rt(8,16,32,32,St),new Rt(8,16,128,128,St),new Rt(8,32,128,256,St),new Rt(32,128,258,1024,St),new Rt(32,258,258,4096,St)];function Ft(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ut,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),mt(this.dyn_ltree),mt(this.dyn_dtree),mt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),mt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),mt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Tt=function(t){if(!t||!t.state)return vt(t,at);t.total_in=t.total_out=0,t.data_type=dt;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:gt,t.adler=2===e.wrap?0:1,e.last_flush=q,P(e),tt},It=function(t){var e,a=Tt(t);return a===tt&&((e=t.state).window_size=2*e.w_size,mt(e.head),e.max_lazy_match=Lt[e.level].max_lazy,e.good_match=Lt[e.level].good_length,e.nice_match=Lt[e.level].nice_length,e.max_chain_length=Lt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),a},Nt=function(t,e,a,n,r,i){if(!t)return at;var s=1;if(e===it&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||a!==ut||n<8||n>15||e<0||e>9||i<0||i>lt)return vt(t,at);8===n&&(n=9);var _=new Ft;return t.state=_,_.strm=t,_.wrap=s,_.gzhead=null,_.w_bits=n,_.w_size=1<<_.w_bits,_.w_mask=_.w_size-1,_.hash_bits=r+7,_.hash_size=1<<_.hash_bits,_.hash_mask=_.hash_size-1,_.hash_shift=~~((_.hash_bits+3-1)/3),_.window=new Uint8Array(2*_.w_size),_.head=new Uint16Array(_.hash_size),_.prev=new Uint16Array(_.w_size),_.lit_bufsize=1<<r+6,_.pending_buf_size=4*_.lit_bufsize,_.pending_buf=new Uint8Array(_.pending_buf_size),_.d_buf=1*_.lit_bufsize,_.l_buf=3*_.lit_bufsize,_.level=e,_.strategy=i,_.method=a,It(t)},Ot={deflateInit:function(t,e){return Nt(t,e,ut,15,8,ot)},deflateInit2:Nt,deflateReset:It,deflateResetKeep:Tt,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?at:(t.state.gzhead=e,tt):at},deflate:function(t,e){var a,n;if(!t||!t.state||e>$||e<0)return t?vt(t,at):at;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===wt&&e!==V)return vt(t,0===t.avail_out?rt:at);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,xt(r,31),xt(r,139),xt(r,8),r.gzhead?(xt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),xt(r,255&r.gzhead.time),xt(r,r.gzhead.time>>8&255),xt(r,r.gzhead.time>>16&255),xt(r,r.gzhead.time>>24&255),xt(r,9===r.level?2:r.strategy>=_t||r.level<2?4:0),xt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(xt(r,255&r.gzhead.extra.length),xt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=M(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(xt(r,0),xt(r,0),xt(r,0),xt(r,0),xt(r,0),xt(r,9===r.level?2:r.strategy>=_t||r.level<2?4:0),xt(r,3),r.status=gt);else{var s=ut+(r.w_bits-8<<4)<<8;s|=(r.strategy>=_t||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(s|=32),s+=31-s%31,r.status=gt,At(r,s),0!==r.strstart&&(At(r,t.adler>>>16),At(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),kt(t),a=r.pending,r.pending!==r.pending_buf_size));)xt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),kt(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,xt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),kt(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,xt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=pt)}else r.status=pt;if(r.status===pt&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&kt(t),r.pending+2<=r.pending_buf_size&&(xt(r,255&t.adler),xt(r,t.adler>>8&255),t.adler=0,r.status=gt)):r.status=gt),0!==r.pending){if(kt(t),0===t.avail_out)return r.last_flush=-1,tt}else if(0===t.avail_in&&bt(e)<=bt(i)&&e!==V)return vt(t,rt);if(r.status===wt&&0!==t.avail_in)return vt(t,rt);if(0!==t.avail_in||0!==r.lookahead||e!==q&&r.status!==wt){var _=r.strategy===_t?function(t,e){for(var a;;){if(0===t.lookahead&&(Zt(t),0===t.lookahead)){if(e===q)return 1;break}if(t.match_length=0,a=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2}(r,e):r.strategy===ht?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=ft){if(Zt(t),t.lookahead<=ft&&e===q)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+ft;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=ft-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=X(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2}(r,e):Lt[r.level].func(r,e);if(3!==_&&4!==_||(r.status=wt),1===_||3===_)return 0===t.avail_out&&(r.last_flush=-1),tt;if(2===_&&(e===J?W(r):e!==$&&(j(r,0,0,!1),e===Q&&(mt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),kt(t),0===t.avail_out))return r.last_flush=-1,tt}return e!==V?tt:r.wrap<=0?et:(2===r.wrap?(xt(r,255&t.adler),xt(r,t.adler>>8&255),xt(r,t.adler>>16&255),xt(r,t.adler>>24&255),xt(r,255&t.total_in),xt(r,t.total_in>>8&255),xt(r,t.total_in>>16&255),xt(r,t.total_in>>24&255)):(At(r,t.adler>>>16),At(r,65535&t.adler)),kt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?tt:et)},deflateEnd:function(t){if(!t||!t.state)return at;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==pt&&e!==gt&&e!==wt?vt(t,at):(t.state=null,e===gt?vt(t,nt):tt)},deflateSetDictionary:function(t,e){var a=e.length;if(!t||!t.state)return at;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return at;if(1===r&&(t.adler=C(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(mt(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,_=t.next_in,h=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,Zt(n);n.lookahead>=3;){var l=n.strstart,o=n.lookahead-2;do{n.ins_h=yt(n,n.ins_h,n.window[l+3-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++}while(--o);n.strstart=l,n.lookahead=2,Zt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=_,t.input=h,t.avail_in=s,n.wrap=r,tt},deflateInfo:"pako deflate (from Nodeca project)"};for(var Dt=new Uint8Array(256),Bt=0;Bt<256;Bt++)Dt[Bt]=Bt>=252?6:Bt>=248?5:Bt>=240?4:Bt>=224?3:Bt>=192?2:1;Dt[254]=Dt[254]=1;var Ct=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Ht=Object.prototype.toString,Mt=K.Z_NO_FLUSH,Yt=K.Z_SYNC_FLUSH,Kt=K.Z_FULL_FLUSH,Pt=K.Z_FINISH,jt=K.Z_OK,Gt=K.Z_STREAM_END,Xt=K.Z_DEFAULT_COMPRESSION,Wt=K.Z_DEFAULT_STRATEGY,qt=K.Z_DEFLATED;function Jt(){this.options={level:Xt,method:qt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wt};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;var e=Ot.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==jt)throw new Error(Y[e]);if(t.header&&Ot.deflateSetHeader(this.strm,t.header),t.dictionary){var a;if(a="[object ArrayBuffer]"===Ht.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(e=Ot.deflateSetDictionary(this.strm,a))!==jt)throw new Error(Y[e]);this._dict_set=!0}}function Qt(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:String(e),streamId:a})}}function Vt(t){var e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}Jt.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?Pt:Mt,"[object ArrayBuffer]"===Ht.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(n===Yt||n===Kt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((a=Ot.deflate(r,n))===Gt)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=Ot.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===jt;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Jt.prototype.onData=function(t){this.chunks.push(t)},Jt.prototype.onEnd=function(t){t===jt&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,_=t.length;i<_;i++){var h=t[i];r.set(h,s),s+=h.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e){void 0===e&&(e=self);try{var a=new Map;e.addEventListener("message",(function(n){try{var r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"5.23.0"};case"write":var n=e.get(a.streamId);n||(n=new Jt,e.set(a.streamId,n));var r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var e,a,n,r,i,s=t.length,_=0;for(r=0;r<s;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),_+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(_),i=0,r=0;i<_;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,K.Z_SYNC_FLUSH),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:Vt(n),additionalBytesCount:i.length};case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){Qt(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){Qt(e,t)}}()}();'])))}var ye={status:0};function hi(e,t,r,n){switch(n===void 0&&(n=sd),ye.status===0&&z_(e,t,n),ye.status){case 1:return ye.initializationFailureCallbacks.push(r),ye.worker;case 3:return ye.worker}}function Io(){return ye.status}function z_(e,t,r){r===void 0&&(r=sd);try{var n=r(e),i=G(e,n,"error",function(s){gs(e,t,s)}).stop,o=G(e,n,"message",function(s){var u=s.data;u.type==="errored"?gs(e,t,u.error,u.streamId):u.type==="initialized"&&H_(u.version)}).stop;n.postMessage({action:"init"}),J(function(){return G_(t)},B_);var a=function(){i(),o()};ye={status:1,worker:n,stop:a,initializationFailureCallbacks:[]}}catch(s){gs(e,t,s)}}function G_(e){ye.status===1&&(L.error("".concat(e," failed to start: a timeout occurred while initializing the Worker")),ye.initializationFailureCallbacks.forEach(function(t){return t()}),ye={status:2})}function H_(e){ye.status===1&&(ye={status:3,worker:ye.worker,stop:ye.stop,version:e})}function gs(e,t,r,n){if(ye.status===1||ye.status===0){if(L.error("".concat(t," failed to start: an error occurred while creating the Worker:"),r),r instanceof Event||r instanceof Error&&j_(r.message)){var i=void 0;e.workerUrl?i="Please make sure the Worker URL ".concat(e.workerUrl," is correct and CSP is correctly configured."):i="Please make sure CSP is correctly configured.",L.error("".concat(i," See documentation at ").concat(Et,"/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay"))}else cr(r);ye.status===1&&ye.initializationFailureCallbacks.forEach(function(o){return o()}),ye={status:2}}else cr(r,{worker_version:ye.status===3&&ye.version,stream_id:n})}function j_(e){return le(e,"Content Security Policy")||le(e,"requires 'TrustedScriptURL'")}function ud(e,t){if(_e()&&!an("records")||!To())return{start:F,stop:F,getReplayStats:function(){},onRumStart:F,isRecording:function(){return!1},getSessionReplayLink:function(){}};var r={status:1},n=function(){r={status:1}},i=function(){r={status:0}},o=F;return{start:function(a){return n(a)},stop:function(){return i()},getSessionReplayLink:function(){return o()},onRumStart:function(a,s,u,c,l){s.startSessionReplayRecordingManually&&(r={status:0}),a.subscribe(9,function(){(r.status===2||r.status===3)&&(i(),r={status:1})}),a.subscribe(11,function(p){p.reason===zt.UNLOADING&&i()}),a.subscribe(10,function(){r.status===1&&n()});var f;function d(){return f||(l||(l=hi(s,"Datadog Session Replay",function(){i()},t)),l&&(f=vi(s,l,1))),f}n=function(p){var m=u.findTrackedSession();if(!m||m.sessionReplay===0&&!p?.force){r={status:1};return}r.status===2||r.status===3||(r={status:2},wr(s,"interactive",function(){if(r.status===2){var v=d();if(!v){r={status:0};return}var g=e(a,s,u,c,v).stop;r={status:3,stopRecording:g}}}),p?.force&&m.sessionReplay===0&&u.setForcedReplay())},i=function(){r.status!==0&&(r.status===3&&r.stopRecording(),r={status:0})},o=function(){return ad(s,u,c,r.status!==0)},r.status===1&&n()},isRecording:function(){return Io()===3&&r.status===3},getReplayStats:function(a){return Io()===3?zf(a):void 0}}}var q_=ud(od),Fr=Aa(Xa,q_,{startDeflateWorker:hi,createDeflateEncoder:vi});Mn(Xe(),"DD_RUM",Fr);var EL=()=>{_t.nodeEnvironment!=="local"&&(Fr.init({applicationId:_t.datadogApplicationId,clientToken:_t.datadogClientToken,site:"datadoghq.com",service:"qrgen",env:_t.production?"prod":"qa",sessionSampleRate:100,sessionReplaySampleRate:100,trackUserInteractions:!0,trackResources:!0,trackLongTasks:!0,defaultPrivacyLevel:"mask-user-input",version:"2024-10-16T12:53:04+05:30-20bfa88"}),ln.init({clientToken:_t.datadogClientToken,site:"datadoghq.com",forwardErrorsToLogs:!0,sessionSampleRate:100,service:"qrgen",env:_t.production?"prod":"qa"}))},bL=()=>{Fr.startSessionReplayRecording(),K_(bi().currentUser.email)},SL=()=>{Fr.stopSessionReplayRecording(),Fr.stopSession()},K_=e=>{Fr.setUser({email:e})};export{g0 as a,Lc as b,_0 as c,ln as d,EL as e,bL as f,SL as g,l0 as h,f0 as i,d0 as j,p0 as k,m0 as l};
